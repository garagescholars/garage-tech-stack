(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function sE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Hd={exports:{}},Sl={};var lv;function EA(){if(lv)return Sl;lv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Sl.Fragment=t,Sl.jsx=n,Sl.jsxs=n,Sl}var uv;function TA(){return uv||(uv=1,Hd.exports=EA()),Hd.exports}var D=TA(),Fd={exports:{}},Tt={};var cv;function bA(){if(cv)return Tt;cv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function lt(M,K,nt){this.props=M,this.context=K,this.refs=$,this.updater=nt||J}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ct(){}ct.prototype=lt.prototype;function at(M,K,nt){this.props=M,this.context=K,this.refs=$,this.updater=nt||J}var pt=at.prototype=new ct;pt.constructor=at,W(pt,lt.prototype),pt.isPureReactComponent=!0;var Pt=Array.isArray;function At(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(M,K,nt){var st=nt.ref;return{$$typeof:s,type:M,key:K,ref:st!==void 0?st:null,props:nt}}function U(M,K){return I(M.type,K,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function V(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return K[nt]})}var S=/\/+/g;function mt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):K.toString(36)}function Nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(At,At):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,K,nt,st,vt){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var jt=!1;if(M===null)jt=!0;else switch(Rt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(M.$$typeof){case s:case t:jt=!0;break;case T:return jt=M._init,B(jt(M._payload),K,nt,st,vt)}}if(jt)return vt=vt(M),jt=st===""?"."+mt(M,0):st,Pt(vt)?(nt="",jt!=null&&(nt=jt.replace(S,"$&/")+"/"),B(vt,K,nt,"",function(hr){return hr})):vt!=null&&(w(vt)&&(vt=U(vt,nt+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(S,"$&/")+"/")+jt)),K.push(vt)),1;jt=0;var Me=st===""?".":st+":";if(Pt(M))for(var ae=0;ae<M.length;ae++)st=M[ae],Rt=Me+mt(st,ae),jt+=B(st,K,nt,Rt,vt);else if(ae=q(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(st=M.next()).done;)st=st.value,Rt=Me+mt(st,ae++),jt+=B(st,K,nt,Rt,vt);else if(Rt==="object"){if(typeof M.then=="function")return B(Nt(M),K,nt,st,vt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return jt}function tt(M,K,nt){if(M==null)return M;var st=[],vt=0;return B(M,st,"","",function(Rt){return K.call(nt,Rt,vt++)}),st}function ht(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:tt,forEach:function(M,K,nt){tt(M,function(){K.apply(this,arguments)},nt)},count:function(M){var K=0;return tt(M,function(){K++}),K},toArray:function(M){return tt(M,function(K){return K})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Tt.Activity=A,Tt.Children=Ft,Tt.Component=lt,Tt.Fragment=n,Tt.Profiler=l,Tt.PureComponent=at,Tt.StrictMode=r,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Tt.cache=function(M){return function(){return M.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(M,K,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=W({},M.props),vt=M.key;if(K!=null)for(Rt in K.key!==void 0&&(vt=""+K.key),K)!R.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(st[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=nt;else if(1<Rt){for(var jt=Array(Rt),Me=0;Me<Rt;Me++)jt[Me]=arguments[Me+2];st.children=jt}return I(M.type,vt,st)},Tt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Tt.createElement=function(M,K,nt){var st,vt={},Rt=null;if(K!=null)for(st in K.key!==void 0&&(Rt=""+K.key),K)R.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=K[st]);var jt=arguments.length-2;if(jt===1)vt.children=nt;else if(1<jt){for(var Me=Array(jt),ae=0;ae<jt;ae++)Me[ae]=arguments[ae+2];vt.children=Me}if(M&&M.defaultProps)for(st in jt=M.defaultProps,jt)vt[st]===void 0&&(vt[st]=jt[st]);return I(M,Rt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(M){return{$$typeof:p,render:M}},Tt.isValidElement=w,Tt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ht}},Tt.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},Tt.startTransition=function(M){var K=N.T,nt={};N.T=nt;try{var st=M(),vt=N.S;vt!==null&&vt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(At,Ct)}catch(Rt){Ct(Rt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),N.T=K}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(M){return N.H.use(M)},Tt.useActionState=function(M,K,nt){return N.H.useActionState(M,K,nt)},Tt.useCallback=function(M,K){return N.H.useCallback(M,K)},Tt.useContext=function(M){return N.H.useContext(M)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},Tt.useEffect=function(M,K){return N.H.useEffect(M,K)},Tt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(M,K,nt){return N.H.useImperativeHandle(M,K,nt)},Tt.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},Tt.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},Tt.useMemo=function(M,K){return N.H.useMemo(M,K)},Tt.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},Tt.useReducer=function(M,K,nt){return N.H.useReducer(M,K,nt)},Tt.useRef=function(M){return N.H.useRef(M)},Tt.useState=function(M){return N.H.useState(M)},Tt.useSyncExternalStore=function(M,K,nt){return N.H.useSyncExternalStore(M,K,nt)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.3",Tt}var hv;function zm(){return hv||(hv=1,Fd.exports=bA()),Fd.exports}var Ot=zm();const AA=sE(Ot);var Gd={exports:{}},wl={},Qd={exports:{}},Kd={};var fv;function SA(){return fv||(fv=1,(function(s){function t(B,tt){var ht=B.length;B.push(tt);t:for(;0<ht;){var Ct=ht-1>>>1,Ft=B[Ct];if(0<l(Ft,tt))B[Ct]=tt,B[ht]=Ft,ht=Ct;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var tt=B[0],ht=B.pop();if(ht!==tt){B[0]=ht;t:for(var Ct=0,Ft=B.length,M=Ft>>>1;Ct<M;){var K=2*(Ct+1)-1,nt=B[K],st=K+1,vt=B[st];if(0>l(nt,ht))st<Ft&&0>l(vt,nt)?(B[Ct]=vt,B[st]=ht,Ct=st):(B[Ct]=nt,B[K]=ht,Ct=K);else if(st<Ft&&0>l(vt,ht))B[Ct]=vt,B[st]=ht,Ct=st;else break t}}return tt}function l(B,tt){var ht=B.sortIndex-tt.sortIndex;return ht!==0?ht:B.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],T=1,A=null,x=3,q=!1,J=!1,W=!1,$=!1,lt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function pt(B){for(var tt=n(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=B)r(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=n(_)}}function Pt(B){if(W=!1,pt(B),!J)if(n(y)!==null)J=!0,At||(At=!0,V());else{var tt=n(_);tt!==null&&Nt(Pt,tt.startTime-B)}}var At=!1,N=-1,R=5,I=-1;function U(){return $?!0:!(s.unstable_now()-I<R)}function w(){if($=!1,At){var B=s.unstable_now();I=B;var tt=!0;try{t:{J=!1,W&&(W=!1,ct(N),N=-1),q=!0;var ht=x;try{e:{for(pt(B),A=n(y);A!==null&&!(A.expirationTime>B&&U());){var Ct=A.callback;if(typeof Ct=="function"){A.callback=null,x=A.priorityLevel;var Ft=Ct(A.expirationTime<=B);if(B=s.unstable_now(),typeof Ft=="function"){A.callback=Ft,pt(B),tt=!0;break e}A===n(y)&&r(y),pt(B)}else r(y);A=n(y)}if(A!==null)tt=!0;else{var M=n(_);M!==null&&Nt(Pt,M.startTime-B),tt=!1}}break t}finally{A=null,x=ht,q=!1}tt=void 0}}finally{tt?V():At=!1}}}var V;if(typeof at=="function")V=function(){at(w)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,mt=S.port2;S.port1.onmessage=w,V=function(){mt.postMessage(null)}}else V=function(){lt(w,0)};function Nt(B,tt){N=lt(function(){B(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(B){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ht=x;x=tt;try{return B()}finally{x=ht}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(B,tt){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ht=x;x=B;try{return tt()}finally{x=ht}},s.unstable_scheduleCallback=function(B,tt,ht){var Ct=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,B){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ht+Ft,B={id:T++,callback:tt,priorityLevel:B,startTime:ht,expirationTime:Ft,sortIndex:-1},ht>Ct?(B.sortIndex=ht,t(_,B),n(y)===null&&B===n(_)&&(W?(ct(N),N=-1):W=!0,Nt(Pt,ht-Ct))):(B.sortIndex=Ft,t(y,B),J||q||(J=!0,At||(At=!0,V()))),B},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(B){var tt=x;return function(){var ht=x;x=tt;try{return B.apply(this,arguments)}finally{x=ht}}}})(Kd)),Kd}var dv;function wA(){return dv||(dv=1,Qd.exports=SA()),Qd.exports}var Yd={exports:{}},Ze={};var mv;function RA(){if(mv)return Ze;mv=1;var s=zm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,T)},Ze.flushSync=function(y){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=T,r.d.f()}},Ze.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ze.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ze.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:q}):T==="script"&&r.d.X(y,{crossOrigin:A,integrity:x,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ze.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ze.requestFormReset=function(y){r.d.r(y)},Ze.unstable_batchedUpdates=function(y,_){return y(_)},Ze.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var pv;function IA(){if(pv)return Yd.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Yd.exports=RA(),Yd.exports}var gv;function CA(){if(gv)return wl;gv=1;var s=wA(),t=zm(),n=IA();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),at=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=w&&e[w]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case lt:return"Profiler";case $:return"StrictMode";case Pt:return"Suspense";case At:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case at:return e.displayName||"Context";case ct:return(e._context.displayName||"Context")+".Consumer";case pt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:mt(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return mt(e(i))}catch{}}return null}var Nt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],Ft=-1;function M(e){return{current:e}}function K(e){0>Ft||(e.current=Ct[Ft],Ct[Ft]=null,Ft--)}function nt(e,i){Ft++,Ct[Ft]=e.current,e.current=i}var st=M(null),vt=M(null),Rt=M(null),jt=M(null);function Me(e,i){switch(nt(Rt,i),nt(vt,e),nt(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?x_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=x_(i),e=O_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),nt(st,e)}function ae(){K(st),K(vt),K(Rt)}function hr(e){e.memoizedState!==null&&nt(jt,e);var i=st.current,a=O_(i,e.type);i!==a&&(nt(vt,e),nt(st,a))}function aa(e){vt.current===e&&(K(st),K(vt)),jt.current===e&&(K(jt),El._currentValue=ht)}var oa,la;function ri(e){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+la}var Eo=!1;function fr(e,i){if(!e||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var j=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){j=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){j=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function To(e,i){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return ri("Activity");default:return""}}function bo(e){try{var i="",a=null;do i+=To(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,Fh=s.unstable_shouldYield,ou=s.unstable_requestPaint,nn=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,Ao=s.unstable_ImmediatePriority,So=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Gh=s.unstable_LowPriority,lu=s.unstable_IdlePriority,uu=s.log,cu=s.unstable_setDisableYieldValue,Fn=null,qe=null;function Cn(e){if(typeof uu=="function"&&cu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Fn,e)}catch{}}var pe=Math.clz32?Math.clz32:fu,hu=Math.log,ua=Math.LN2;function fu(e){return e>>>=0,e===0?32:31-(hu(e)/ua|0)|0}var ai=256,mr=262144,be=4194304;function oi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(g&=E,g!==0?h=oi(g):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):g!==0?h=oi(g):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Gn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function pr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kh(e,i,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var G=31-pe(a),Y=1<<G;E[G]=0,C[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}a&=~Y}o!==0&&gr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~i))}function gr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-pe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function wo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-pe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:yr(a),(a&(e.suspendedLanes|i))!==0?0:a}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:ev(e.type))}function Qn(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var Kn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Kn,Le="__reactProps$"+Kn,ci="__reactContainer$"+Kn,ca="__reactEvents$"+Kn,Yh="__reactListeners$"+Kn,pu="__reactHandles$"+Kn,gu="__reactResources$"+Kn,hi="__reactMarker$"+Kn;function ha(e){delete e[Ae],delete e[Le],delete e[ca],delete e[Yh],delete e[pu]}function fi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ci]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=z_(e);e!==null;){if(a=e[Ae])return a;e=z_(e)}return i}e=a,a=e.parentNode}return null}function Nn(e){if(e=e[Ae]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function di(e){var i=e[gu];return i||(i=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[hi]=!0}var Io=new Set,Co={};function mi(e,i){pi(e,i),pi(e+"Capture",i)}function pi(e,i){for(Co[e]=i,e=0;e<i.length;e++)Io.add(i[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},xo={};function yu(e){return Te.call(xo,e)?!0:Te.call(Do,e)?!1:No.test(e)?xo[e]=!0:(Do[e]=!0,!1)}function fa(e,i,a){if(yu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=ds(e)?"checked":"value";e._valueTracker=Oo(e,i,""+e[i])}}function _r(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=ds(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function on(e){return e.replace(vr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?Mo(e,g,Pe(i)):a!=null?Mo(e,g,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function _u(e,i,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function Mo(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ms(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function vu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function ps(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Nt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Yt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Vo(e,f,i[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return gs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var ko=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,yi=null;function Er(e){var i=Nn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(r(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&_r(o)}break t;case"textarea":vu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ms(e,!!a.multiple,i,!1)}}}var ga=!1;function _s(e,i,a){if(ga)return e(i,a);ga=!0;try{var o=e(i);return o}finally{if(ga=!1,(ys!==null||yi!==null)&&(mc(),ys&&(i=ys,e=yi,yi=ys=null,Er(i),e)))for(i=0;i<e.length;i++)Er(e[i])}}function Xn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(xn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Tr=!1}var _i=null,Lo=null,br=null;function Po(){if(br)return br;var e,i=Lo,a=i.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&i[a-o]===h[f-o];o++);return br=h.slice(e,1<o?1-o:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function $n(){return!1}function He(e){function i(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:$n,this.isPropagationStopped=$n,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=He(Bi),vs=A({},Bi,{view:0,detail:0}),zo=He(vs),Es,ya,Ei,_a=A({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Es=e.screenX-Ei.screenX,ya=e.screenY-Ei.screenY):ya=Es=0,Ei=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),jo=He(_a),Sr=A({},_a,{dataTransfer:0}),bu=He(Sr),Au=A({},vs,{relatedTarget:0}),wr=He(Au),Bo=A({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=He(Bo),va=A({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wu=He(va),Ru=A({},Bi,{data:0}),Ti=He(Ru),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Nu[e])?!!i[e]:!1}function Ts(){return Du}var sn=A({},vs,{key:function(e){if(e.key){var i=Iu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=He(sn),Ou=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=He(Ou),c=A({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=He(c),v=A({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(v),L=A({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=He(L),et=A({},Bi,{newState:0,oldState:0}),St=He(et),ge=[9,13,27,32],Gt=xn&&"CompositionEvent"in window,oe=null;xn&&"documentMode"in document&&(oe=document.documentMode);var On=xn&&"TextEvent"in window&&!oe,bi=xn&&(!Gt||oe&&8<oe&&11>=oe),Zn=" ",Jn=!1;function Rr(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function Fb(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Jn=!0,Zn);case"textInput":return e=i.data,e===Zn&&Jn?null:e;default:return null}}function Gb(e,i){if(Ta)return e==="compositionend"||!Gt&&Rr(e,i)?(e=Po(),br=Lo=_i=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var Qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Qb[e.type]:i==="textarea"}function Hp(e,i,a,o){ys?yi?yi.push(o):yi=[o]:ys=o,i=Tc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var qo=null,Ho=null;function Kb(e){w_(e,0)}function Mu(e){var i=gn(e);if(_r(i))return e}function Fp(e,i){if(e==="change")return i}var Gp=!1;if(xn){var Xh;if(xn){var $h="oninput"in document;if(!$h){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),$h=typeof Qp.oninput=="function"}Xh=$h}else Xh=!1;Gp=Xh&&(!document.documentMode||9<document.documentMode)}function Kp(){qo&&(qo.detachEvent("onpropertychange",Yp),Ho=qo=null)}function Yp(e){if(e.propertyName==="value"&&Mu(Ho)){var i=[];Hp(i,Ho,e,Dn(e)),_s(Kb,i)}}function Yb(e,i,a){e==="focusin"?(Kp(),qo=i,Ho=a,qo.attachEvent("onpropertychange",Yp)):e==="focusout"&&Kp()}function Xb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(Ho)}function $b(e,i){if(e==="click")return Mu(i)}function Zb(e,i){if(e==="input"||e==="change")return Mu(i)}function Jb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:Jb;function Fo(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $p(e,i){var a=Xp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xp(a)}}function Zp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Zp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Jp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function Zh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Wb=xn&&"documentMode"in document&&11>=document.documentMode,ba=null,Jh=null,Go=null,Wh=!1;function Wp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||ba==null||ba!==gi(o)||(o=ba,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=Tc(Jh,"onSelect"),0<o.length&&(i=new vi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ba)))}function Ir(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},tf={},tg={};xn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Cr(e){if(tf[e])return tf[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return tf[e]=i[a];return e}var eg=Cr("animationend"),ng=Cr("animationiteration"),ig=Cr("animationstart"),t1=Cr("transitionrun"),e1=Cr("transitionstart"),n1=Cr("transitioncancel"),sg=Cr("transitionend"),rg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Wn(e,i){rg.set(e,i),mi(i,[e])}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Sa=0,nf=0;function Uu(){for(var e=Sa,i=nf=Sa=0;i<e;){var a=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ag(a,h,f)}}function ku(e,i,a,o){Mn[Sa++]=e,Mn[Sa++]=i,Mn[Sa++]=a,Mn[Sa++]=o,nf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function sf(e,i,a,o){return ku(e,i,a,o),Lu(e)}function Nr(e,i){return ku(e,null,null,i),Lu(e)}function ag(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-pe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Lu(e){if(50<dl)throw dl=0,dd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function i1(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,o){return new i1(e,i,a,o)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function og(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Pu(e,i,a,o,h,f){var g=0;if(o=e,typeof e=="function")rf(e)&&(g=1);else if(typeof e=="string")g=lA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=vn(31,a,i,h),e.elementType=I,e.lanes=f,e;case W:return Dr(a.children,h,f,i);case $:g=8,h|=24;break;case lt:return e=vn(12,a,i,h|2),e.elementType=lt,e.lanes=f,e;case Pt:return e=vn(13,a,i,h),e.elementType=Pt,e.lanes=f,e;case At:return e=vn(19,a,i,h),e.elementType=At,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:g=10;break t;case ct:g=9;break t;case pt:g=11;break t;case N:g=14;break t;case R:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=vn(g,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Dr(e,i,a,o){return e=vn(7,e,o,i),e.lanes=a,e}function af(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function lg(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function of(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ug=new WeakMap;function Vn(e,i){if(typeof e=="object"&&e!==null){var a=ug.get(e);return a!==void 0?a:(i={value:e,source:i,stack:bo(i)},ug.set(e,i),i)}return{value:e,source:i,stack:bo(i)}}var Ra=[],Ia=0,zu=null,Qo=0,Un=[],kn=0,bs=null,Ai=1,Si="";function Fi(e,i){Ra[Ia++]=Qo,Ra[Ia++]=zu,zu=e,Qo=i}function cg(e,i,a){Un[kn++]=Ai,Un[kn++]=Si,Un[kn++]=bs,bs=e;var o=Ai;e=Si;var h=32-pe(o)-1;o&=~(1<<h),a+=1;var f=32-pe(i)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-pe(i)+h|a<<h|o,Si=f+e}else Ai=1<<f|a<<h|o,Si=e}function lf(e){e.return!==null&&(Fi(e,1),cg(e,1,0))}function uf(e){for(;e===zu;)zu=Ra[--Ia],Ra[Ia]=null,Qo=Ra[--Ia],Ra[Ia]=null;for(;e===bs;)bs=Un[--kn],Un[kn]=null,Si=Un[--kn],Un[kn]=null,Ai=Un[--kn],Un[kn]=null}function hg(e,i){Un[kn++]=Ai,Un[kn++]=Si,Un[kn++]=bs,Ai=i.id,Si=i.overflow,bs=e}var Fe=null,ie=null,zt=!1,As=null,Ln=!1,cf=Error(r(519));function Ss(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Vn(i,e)),cf}function fg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ae]=e,i[Le]=o,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)xt(pl[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),_u(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),ps(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||N_(i.textContent,a)?(o.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),o.onScroll!=null&&xt("scroll",i),o.onScrollEnd!=null&&xt("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Ss(e,!0)}function dg(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Fe=Fe.return}}function Ca(e){if(e!==Fe)return!1;if(!zt)return dg(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cd(e.type,e.memoizedProps)),a=!a),a&&ie&&Ss(e),dg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=P_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=P_(e)}else i===27?(i=ie,Ps(e.type)?(e=Md,Md=null,ie=e):ie=i):ie=Fe?zn(e.stateNode.nextSibling):null;return!0}function xr(){ie=Fe=null,zt=!1}function hf(){var e=As;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),As=null),e}function Ko(e){As===null?As=[e]:As.push(e)}var ff=M(null),Or=null,Gi=null;function ws(e,i,a){nt(ff,i._currentValue),i._currentValue=a}function Qi(e){e._currentValue=ff.current,K(ff)}function df(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function mf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),df(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),df(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Na(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===jt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&mf(i,e,a,o),i.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return mg(Or,e)}function Bu(e,i){return Or===null&&Mr(e),mg(e,i)}function mg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(r(308));Gi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gi=Gi.next=i;return a}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},r1=s.unstable_scheduleCallback,a1=s.unstable_NormalPriority,Re={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new s1,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&r1(a1,function(){e.controller.abort()})}var Xo=null,gf=0,Da=0,xa=null;function o1(e,i){if(Xo===null){var a=Xo=[];gf=0,Da=vd(),xa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return gf++,i.then(pg,pg),i}function pg(){if(--gf===0&&Xo!==null){xa!==null&&(xa.status="fulfilled");var e=Xo;Xo=null,Da=0,xa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function l1(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var gg=B.S;B.S=function(e,i){Wy=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&o1(e,i),gg!==null&&gg(e,i)};var Vr=M(null);function yf(){var e=Vr.current;return e!==null?e:ee.pooledCache}function qu(e,i){i===null?nt(Vr,Vr.current):nt(Vr,i.pool)}function yg(){var e=yf();return e===null?null:{parent:Re._currentValue,pool:e}}var Oa=Error(r(460)),_f=Error(r(474)),Hu=Error(r(542)),Fu={then:function(){}};function _g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Tg(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Tg(e),e}throw kr=i,Oa}}function Ur(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kr=a,Oa):a}}var kr=null;function Eg(){if(kr===null)throw Error(r(459));var e=kr;return kr=null,e}function Tg(e){if(e===Oa||e===Hu)throw Error(r(483))}var Ma=null,$o=0;function Gu(e){var i=$o;return $o+=1,Ma===null&&(Ma=[]),vg(Ma,e,i)}function Zo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Qu(e,i){throw i.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function bg(e){function i(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Hi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Q){return O===null||O.tag!==6?(O=af(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Q){var ft=P.type;return ft===W?G(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&Ur(ft)===O.type)?(O=h(O,P.props),Zo(O,P),O.return=k,O):(O=Pu(P.type,P.key,P.props,null,k.mode,Q),Zo(O,P),O.return=k,O)}function z(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=of(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,Q,ft){return O===null||O.tag!==7?(O=Dr(P,k.mode,Q,ft),O.return=k,O):(O=h(O,P),O.return=k,O)}function Y(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=af(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return P=Pu(O.type,O.key,O.props,null,k.mode,P),Zo(P,O),P.return=k,P;case J:return O=of(O,k.mode,P),O.return=k,O;case R:return O=Ur(O),Y(k,O,P)}if(Nt(O)||V(O))return O=Dr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Gu(O),P);if(O.$$typeof===at)return Y(k,Bu(k,O),P);Qu(k,O)}return null}function j(k,O,P,Q){var ft=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ft?C(k,O,P,Q):null;case J:return P.key===ft?z(k,O,P,Q):null;case R:return P=Ur(P),j(k,O,P,Q)}if(Nt(P)||V(P))return ft!==null?null:G(k,O,P,Q,null);if(typeof P.then=="function")return j(k,O,Gu(P),Q);if(P.$$typeof===at)return j(k,O,Bu(k,P),Q);Qu(k,P)}return null}function F(k,O,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(O,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return k=k.get(Q.key===null?P:Q.key)||null,C(O,k,Q,ft);case J:return k=k.get(Q.key===null?P:Q.key)||null,z(O,k,Q,ft);case R:return Q=Ur(Q),F(k,O,P,Q,ft)}if(Nt(Q)||V(Q))return k=k.get(P)||null,G(O,k,Q,ft,null);if(typeof Q.then=="function")return F(k,O,P,Gu(Q),ft);if(Q.$$typeof===at)return F(k,O,P,Bu(O,Q),ft);Qu(O,Q)}return null}function ot(k,O,P,Q){for(var ft=null,qt=null,ut=O,It=O=0,Vt=null;ut!==null&&It<P.length;It++){ut.index>It?(Vt=ut,ut=null):Vt=ut.sibling;var Ht=j(k,ut,P[It],Q);if(Ht===null){ut===null&&(ut=Vt);break}e&&ut&&Ht.alternate===null&&i(k,ut),O=f(Ht,O,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,ut=Vt}if(It===P.length)return a(k,ut),zt&&Fi(k,It),ft;if(ut===null){for(;It<P.length;It++)ut=Y(k,P[It],Q),ut!==null&&(O=f(ut,O,It),qt===null?ft=ut:qt.sibling=ut,qt=ut);return zt&&Fi(k,It),ft}for(ut=o(ut);It<P.length;It++)Vt=F(ut,k,It,P[It],Q),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?It:Vt.key),O=f(Vt,O,It),qt===null?ft=Vt:qt.sibling=Vt,qt=Vt);return e&&ut.forEach(function(Hs){return i(k,Hs)}),zt&&Fi(k,It),ft}function gt(k,O,P,Q){if(P==null)throw Error(r(151));for(var ft=null,qt=null,ut=O,It=O=0,Vt=null,Ht=P.next();ut!==null&&!Ht.done;It++,Ht=P.next()){ut.index>It?(Vt=ut,ut=null):Vt=ut.sibling;var Hs=j(k,ut,Ht.value,Q);if(Hs===null){ut===null&&(ut=Vt);break}e&&ut&&Hs.alternate===null&&i(k,ut),O=f(Hs,O,It),qt===null?ft=Hs:qt.sibling=Hs,qt=Hs,ut=Vt}if(Ht.done)return a(k,ut),zt&&Fi(k,It),ft;if(ut===null){for(;!Ht.done;It++,Ht=P.next())Ht=Y(k,Ht.value,Q),Ht!==null&&(O=f(Ht,O,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return zt&&Fi(k,It),ft}for(ut=o(ut);!Ht.done;It++,Ht=P.next())Ht=F(ut,k,It,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ut.delete(Ht.key===null?It:Ht.key),O=f(Ht,O,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&ut.forEach(function(vA){return i(k,vA)}),zt&&Fi(k,It),ft}function te(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:t:{for(var ft=P.key;O!==null;){if(O.key===ft){if(ft=P.type,ft===W){if(O.tag===7){a(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&Ur(ft)===O.type){a(k,O.sibling),Q=h(O,P.props),Zo(Q,P),Q.return=k,k=Q;break t}a(k,O);break}else i(k,O);O=O.sibling}P.type===W?(Q=Dr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Pu(P.type,P.key,P.props,null,k.mode,Q),Zo(Q,P),Q.return=k,k=Q)}return g(k);case J:t:{for(ft=P.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break t}else{a(k,O);break}else i(k,O);O=O.sibling}Q=of(P,k.mode,Q),Q.return=k,k=Q}return g(k);case R:return P=Ur(P),te(k,O,P,Q)}if(Nt(P))return ot(k,O,P,Q);if(V(P)){if(ft=V(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),gt(k,O,P,Q)}if(typeof P.then=="function")return te(k,O,Gu(P),Q);if(P.$$typeof===at)return te(k,O,Bu(k,P),Q);Qu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(a(k,O),Q=af(P,k.mode,Q),Q.return=k,k=Q),g(k)):a(k,O)}return function(k,O,P,Q){try{$o=0;var ft=te(k,O,P,Q);return Ma=null,ft}catch(ut){if(ut===Oa||ut===Hu)throw ut;var qt=vn(29,ut,null,k.mode);return qt.lanes=Q,qt.return=k,qt}}}var Lr=bg(!0),Ag=bg(!1),Rs=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Lu(e),ag(e,null,a),i}return ku(e,o,i,a),Lu(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wo(e,a)}}function Tf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var bf=!1;function Wo(){if(bf){var e=xa;if(e!==null)throw e}}function tl(e,i,a,o){bf=!1;var h=e.updateQueue;Rs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,G=z=C=null,E=f;do{var j=E.lane&-536870913,F=j!==E.lane;if(F?(Mt&j)===j:(o&j)===j){j!==0&&j===Da&&(bf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;j=i;var te=a;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){Y=ot.call(te,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(te,Y,j):ot,j==null)break t;Y=A({},Y,j);break t;case 2:Rs=!0}}j=E.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=F,C=Y):G=G.next=F,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ms|=g,e.lanes=g,e.memoizedState=Y}}function Sg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function wg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Sg(a[e],i)}var Va=M(null),Ku=M(0);function Rg(e,i){e=es,nt(Ku,e),nt(Va,i),es=e|i.baseLanes}function Af(){nt(Ku,es),nt(Va,Va.current)}function Sf(){es=Ku.current,K(Va),K(Ku)}var En=M(null),Pn=null;function Ns(e){var i=e.alternate;nt(ye,ye.current&1),nt(En,e),Pn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Pn=e)}function wf(e){nt(ye,ye.current),nt(En,e),Pn===null&&(Pn=e)}function Ig(e){e.tag===22?(nt(ye,ye.current),nt(En,e),Pn===null&&(Pn=e)):Ds()}function Ds(){nt(ye,ye.current),nt(En,En.current)}function Tn(e){K(En),Pn===e&&(Pn=null),K(ye)}var ye=M(0);function Yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xd(a)||Od(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,wt=null,Jt=null,Ie=null,Xu=!1,Ua=!1,Pr=!1,$u=0,el=0,ka=null,u1=0;function ce(){throw Error(r(321))}function Rf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function If(e,i,a,o,h,f){return Ki=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?cy:qf,Pr=!1,f=a(o,h),Pr=!1,Ua&&(f=Ng(i,a,o,h)),Cg(e),f}function Cg(e){B.H=sl;var i=Jt!==null&&Jt.next!==null;if(Ki=0,Ie=Jt=wt=null,Xu=!1,el=0,ka=null,i)throw Error(r(300));e===null||Ce||(e=e.dependencies,e!==null&&ju(e)&&(Ce=!0))}function Ng(e,i,a,o){wt=e;var h=0;do{if(Ua&&(ka=null),el=0,Ua=!1,25<=h)throw Error(r(301));if(h+=1,Ie=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=hy,f=i(a,o)}while(Ua);return f}function c1(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Cf(){var e=$u!==0;return $u=0,e}function Nf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Df(e){if(Xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Xu=!1}Ki=0,Ie=Jt=wt=null,Ua=!1,el=$u=0,ka=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?wt.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function _e(){if(Jt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ie===null?wt.memoizedState:Ie.next;if(i!==null)Ie=i,Jt=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ie===null?wt.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,ka===null&&(ka=[]),e=vg(ka,e,i),i=wt,(Ie===null?i.memoizedState:Ie.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?cy:qf),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===at)return Ge(e)}throw Error(r(438,String(e)))}function xf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=U;return i.index++,a}function Yi(e,i){return typeof i=="function"?i(e):i}function Wu(e){var i=_e();return Of(i,Jt,e)}function Of(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=g=null,C=null,z=i,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Mt&Y)===Y:(Ki&Y)===Y){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Da&&(G=!0);else if((Ki&j)===j){z=z.next,j===Da&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Y,g=f):C=C.next=Y,wt.lanes|=j,Ms|=j;Y=z.action,Pr&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,wt.lanes|=Y,Ms|=Y;z=z.next}while(z!==null&&z!==i);if(C===null?g=f:C.next=E,!_n(f,e.memoizedState)&&(Ce=!0,G&&(a=xa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Mf(e){var i=_e(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,i.memoizedState)||(Ce=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Dg(e,i,a){var o=wt,h=_e(),f=zt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var g=!_n((Jt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ce=!0),h=h.queue,kf(Mg.bind(null,o,h,e),[e]),h.getSnapshot!==i||g||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},Og.bind(null,o,h,a,i),null),ee===null)throw Error(r(349));f||(Ki&127)!==0||xg(o,i,a)}return a}function xg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Zu(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Og(e,i,a,o){i.value=a,i.getSnapshot=o,Vg(i)&&Ug(e)}function Mg(e,i,a){return a(function(){Vg(i)&&Ug(e)})}function Vg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function Ug(e){var i=Nr(e,2);i!==null&&dn(i,e,2)}function Vf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Pr){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function kg(e,i,a,o){return e.baseState=a,Of(e,Jt,typeof o=="function"?o:Yi)}function h1(e,i,a,o,h){if(nc(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Lg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Lg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=B.T,g={};B.T=g;try{var E=a(h,o),C=B.S;C!==null&&C(g,E),Pg(e,i,E)}catch(z){Uf(e,i,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=a(h,o),Pg(e,i,f)}catch(z){Uf(e,i,z)}}function Pg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){zg(e,i,o)},function(o){return Uf(e,i,o)}):zg(e,i,a)}function zg(e,i,a){i.status="fulfilled",i.value=a,jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Lg(e,a)))}function Uf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==o)}e.action=null}function jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bg(e,i){return i}function qg(e,i){if(zt){var a=ee.formState;if(a!==null){t:{var o=wt;if(zt){if(ie){e:{for(var h=ie,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=zn(h.nextSibling),o=h.data==="F!";break t}}Ss(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=o,a=oy.bind(null,wt,o),o.dispatch=a,o=Vf(!1),f=Bf.bind(null,wt,!1,o.queue),o=rn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=h1.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Hg(e){var i=_e();return Fg(i,Jt,e)}function Fg(e,i,a){if(i=Of(e,i,Bg)[0],e=Wu(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=nl(i)}catch(g){throw g===Oa?Hu:g}else o=i;i=_e();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,La(9,{destroy:void 0},f1.bind(null,h,a),null)),[o,f,e]}function f1(e,i){e.action=i}function Gg(e){var i=_e(),a=Jt;if(a!==null)return Fg(i,a,e);_e(),i=i.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function La(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=wt.updateQueue,i===null&&(i=Zu(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Qg(){return _e().memoizedState}function tc(e,i,a,o){var h=rn();wt.flags|=e,h.memoizedState=La(1|i,{destroy:void 0},a,o===void 0?null:o)}function ec(e,i,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Rf(o,Jt.memoizedState.deps)?h.memoizedState=La(i,f,a,o):(wt.flags|=e,h.memoizedState=La(1|i,f,a,o))}function Kg(e,i){tc(8390656,8,e,i)}function kf(e,i){ec(2048,8,e,i)}function d1(e){wt.flags|=4;var i=wt.updateQueue;if(i===null)i=Zu(),wt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Yg(e){var i=_e().memoizedState;return d1({ref:i,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Xg(e,i){return ec(4,2,e,i)}function $g(e,i){return ec(4,4,e,i)}function Zg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jg(e,i,a){a=a!=null?a.concat([e]):null,ec(4,4,Zg.bind(null,i,e),a)}function Lf(){}function Wg(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Rf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function ty(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Rf(i,o[1]))return o[0];if(o=e(),Pr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,i],o}function Pf(e,i,a){return a===void 0||(Ki&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=e_(),wt.lanes|=e,Ms|=e,a)}function ey(e,i,a,o){return _n(a,i)?a:Va.current!==null?(e=Pf(e,a,o),_n(e,i)||(Ce=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Mt&261930)===0?(Ce=!0,e.memoizedState=a):(e=e_(),wt.lanes|=e,Ms|=e,i)}function ny(e,i,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=B.T,E={};B.T=E,Bf(e,!1,i,a);try{var C=h(),z=B.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=l1(C,o);il(e,i,G,Sn(e))}else il(e,i,o,Sn(e))}catch(Y){il(e,i,{then:function(){},status:"rejected",reason:Y},Sn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),B.T=g}}function m1(){}function zf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=iy(e).queue;ny(e,h,i,ht,a===null?m1:function(){return sy(e),a(o)})}function iy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function sy(e){var i=iy(e);i.next===null&&(i=e.alternate.memoizedState),il(e,i.next.queue,{},Sn())}function jf(){return Ge(El)}function ry(){return _e().memoizedState}function ay(){return _e().memoizedState}function p1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=Is(a);var o=Cs(i,e,a);o!==null&&(dn(o,i,a),Jo(o,i,a)),i={cache:pf()},e.payload=i;return}i=i.return}}function g1(e,i,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(e)?ly(i,a):(a=sf(e,i,a,o),a!==null&&(dn(a,e,o),uy(a,i,o)))}function oy(e,i,a){var o=Sn();il(e,i,a,o)}function il(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(e))ly(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return ku(e,i,h,0),ee===null&&Uu(),!1}catch{}if(a=sf(e,i,h,o),a!==null)return dn(a,e,o),uy(a,i,o),!0}return!1}function Bf(e,i,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(i)throw Error(r(479))}else i=sf(e,a,o,2),i!==null&&dn(i,e,2)}function nc(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function ly(e,i){Ua=Xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function uy(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wo(e,a)}}var sl={readContext:Ge,use:Ju,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};sl.useEffectEvent=ce;var cy={readContext:Ge,use:Ju,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Kg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,tc(4194308,4,Zg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return tc(4194308,4,e,i)},useInsertionEffect:function(e,i){tc(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var o=e();if(Pr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=rn();if(a!==void 0){var h=a(i);if(Pr){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=g1.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Vf(e);var i=e.queue,a=oy.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(e,i){var a=rn();return Pf(a,e,i)},useTransition:function(){var e=Vf(!1);return e=ny.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=rn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ee===null)throw Error(r(349));(Mt&127)!==0||xg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Kg(Mg.bind(null,o,f,e),[e]),o.flags|=2048,La(9,{destroy:void 0},Og.bind(null,o,f,a,i),null),a},useId:function(){var e=rn(),i=ee.identifierPrefix;if(zt){var a=Si,o=Ai;a=(o&~(1<<32-pe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=u1++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:jf,useFormState:qg,useActionState:qg,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:xf,useCacheRefresh:function(){return rn().memoizedState=p1.bind(null,wt)},useEffectEvent:function(e){var i=rn(),a={impl:e};return i.memoizedState=a,function(){if((Qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:Ge,use:Ju,useCallback:Wg,useContext:Ge,useEffect:kf,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ty,useReducer:Wu,useRef:Qg,useState:function(){return Wu(Yi)},useDebugValue:Lf,useDeferredValue:function(e,i){var a=_e();return ey(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Wu(Yi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:jf,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,i){var a=_e();return kg(a,Jt,e,i)},useMemoCache:xf,useCacheRefresh:ay};qf.useEffectEvent=Yg;var hy={readContext:Ge,use:Ju,useCallback:Wg,useContext:Ge,useEffect:kf,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ty,useReducer:Mf,useRef:Qg,useState:function(){return Mf(Yi)},useDebugValue:Lf,useDeferredValue:function(e,i){var a=_e();return Jt===null?Pf(a,e,i):ey(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Mf(Yi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:jf,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,i){var a=_e();return Jt!==null?kg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:ay};hy.useEffectEvent=Yg;function Hf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ff={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=Is(o);h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,o),i!==null&&(dn(i,e,o),Jo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=Is(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,o),i!==null&&(dn(i,e,o),Jo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),o=Is(a);o.tag=2,i!=null&&(o.callback=i),i=Cs(e,o,a),i!==null&&(dn(i,e,a),Jo(i,e,a))}};function fy(e,i,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,f):!0}function dy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Ff.enqueueReplaceState(i,i.state,null)}function zr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function my(e){Vu(e)}function py(e){console.error(e)}function gy(e){Vu(e)}function ic(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function yy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(e,i)},a}function _y(e){return e=Is(e),e.tag=3,e}function vy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){yy(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){yy(i,a,o),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function y1(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?pc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),gd(e,o,h)),!1;case 22:return a.flags|=65536,o===Fu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),gd(e,o,h)),!1}throw Error(r(435,a.tag))}return gd(e,o,h),pc(),!1}if(zt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==cf&&(e=Error(r(422),{cause:o}),Ko(Vn(e,a)))):(o!==cf&&(i=Error(r(423),{cause:o}),Ko(Vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=Gf(e.stateNode,o,h),Tf(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:o});if(f=Vn(f,a),fl===null?fl=[f]:fl.push(f),he!==4&&(he=2),i===null)return!0;o=Vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Gf(a.stateNode,o,e),Tf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_y(h),vy(h,e,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),Ce=!1;function Qe(e,i,a,o){i.child=e===null?Ag(i,null,a,o):Lr(i,e.child,a,o)}function Ey(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Mr(i),o=If(e,i,a,g,f,h),E=Cf(),e!==null&&!Ce?(Nf(e,i,h),Xi(e,i,h)):(zt&&E&&lf(i),i.flags|=1,Qe(e,i,o,h),i.child)}function Ty(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,by(e,i,f,o,h)):(e=Pu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!td(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(g,o)&&e.ref===i.ref)return Xi(e,i,h)}return i.flags|=1,e=Hi(f,o),e.ref=i.ref,e.return=i,i.child=e}function by(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=o=f,td(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Xi(e,i,h)}return Kf(e,i,a,o,h)}function Ay(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Sy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(i,f!==null?f.cachePool:null),f!==null?Rg(i,f):Af(),Ig(i);else return o=i.lanes=536870912,Sy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(qu(i,f.cachePool),Rg(i,f),Ds(),i.memoizedState=null):(e!==null&&qu(i,null),Af(),Ds());return Qe(e,i,h,a),i.child}function rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Sy(e,i,a,o,h){var f=yf();return f=f===null?null:{parent:Re._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&qu(i,null),Af(),Ig(i),e!==null&&Na(e,i,o,!0),i.childLanes=h,null}function sc(e,i){return i=ac({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function wy(e,i,a){return Lr(i,e.child,null,a),e=sc(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function _1(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=sc(i,o),i.lanes=536870912,rl(null,e);if(wf(i),(e=ie)?(e=L_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=lg(e),a.return=i,i.child=a,Fe=i,ie=null)):e=null,e===null)throw Ss(i);return i.lanes=536870912,null}return sc(i,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(i),h)if(i.flags&256)i.flags&=-257,i=wy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ce||Na(e,i,a,!1),h=(a&e.childLanes)!==0,Ce||h){if(o=ee,o!==null&&(g=Ro(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Nr(e,g),dn(o,e,g),Qf;pc(),i=wy(e,i,a)}else e=f.treeContext,ie=zn(g.nextSibling),Fe=i,zt=!0,As=null,Ln=!1,e!==null&&hg(i,e),i=sc(i,o),i.flags|=4096;return i}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Kf(e,i,a,o,h){return Mr(i),a=If(e,i,a,o,void 0,h),o=Cf(),e!==null&&!Ce?(Nf(e,i,h),Xi(e,i,h)):(zt&&o&&lf(i),i.flags|=1,Qe(e,i,a,h),i.child)}function Ry(e,i,a,o,h,f){return Mr(i),i.updateQueue=null,a=Ng(i,o,a,h),Cg(e),o=Cf(),e!==null&&!Ce?(Nf(e,i,f),Xi(e,i,f)):(zt&&o&&lf(i),i.flags|=1,Qe(e,i,a,f),i.child)}function Iy(e,i,a,o,h){if(Mr(i),i.stateNode===null){var f=wa,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},vf(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):wa,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Hf(i,a,g,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),tl(i,o,f,h),Wo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,C=zr(a,E);f.props=C;var z=f.context,G=a.contextType;g=wa,typeof G=="object"&&G!==null&&(g=Ge(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&dy(i,f,o,g),Rs=!1;var j=i.memoizedState;f.state=j,tl(i,o,f,h),Wo(),z=i.memoizedState,E||j!==z||Rs?(typeof Y=="function"&&(Hf(i,a,Y,o),z=i.memoizedState),(C=Rs||fy(i,a,C,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Ef(e,i),g=i.memoizedProps,G=zr(a,g),f.props=G,Y=i.pendingProps,j=f.context,z=a.contextType,C=wa,typeof z=="object"&&z!==null&&(C=Ge(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==C)&&dy(i,f,o,C),Rs=!1,j=i.memoizedState,f.state=j,tl(i,o,f,h),Wo();var F=i.memoizedState;g!==Y||j!==F||Rs||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof E=="function"&&(Hf(i,a,E,o),F=i.memoizedState),(G=Rs||fy(i,a,G,o,j,F,C)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,rc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Lr(i,e.child,null,h),i.child=Lr(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Xi(e,i,h),e}function Cy(e,i,a,o){return xr(),i.flags|=256,Qe(e,i,a,o),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:yg()}}function $f(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function Ny(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Ns(i):Ds(),(e=ie)?(e=L_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=lg(e),a.return=i,i.child=a,Fe=i,ie=null)):e=null,e===null)throw Ss(i);return Od(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ds(),h=i.mode,E=ac({mode:"hidden",children:E},h),o=Dr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Xf(a),o.childLanes=$f(e,g,a),i.memoizedState=Yf,rl(null,o)):(Ns(i),Zf(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(Ns(i),i.flags&=-257,i=Jf(e,i,a)):i.memoizedState!==null?(Ds(),i.child=e.child,i.flags|=128,i=null):(Ds(),E=o.fallback,h=i.mode,o=ac({mode:"visible",children:o.children},h),E=Dr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Lr(i,e.child,null,a),o=i.child,o.memoizedState=Xf(a),o.childLanes=$f(e,g,a),i.memoizedState=Yf,i=rl(null,o));else if(Ns(i),Od(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,Ko({value:o,source:null,stack:null}),i=Jf(e,i,a)}else if(Ce||Na(e,i,a,!1),g=(a&e.childLanes)!==0,Ce||g){if(g=ee,g!==null&&(o=Ro(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Nr(e,o),dn(g,e,o),Qf;xd(E)||pc(),i=Jf(e,i,a)}else xd(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ie=zn(E.nextSibling),Fe=i,zt=!0,As=null,Ln=!1,e!==null&&hg(i,e),i=Zf(i,o.children),i.flags|=4096);return i}return h?(Ds(),E=o.fallback,h=i.mode,C=e.child,z=C.sibling,o=Hi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Hi(z,E):(E=Dr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,rl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Xf(a):(h=E.cachePool,h!==null?(C=Re._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=yg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=$f(e,g,a),i.memoizedState=Yf,rl(e.child,o)):(Ns(i),a=e.child,e=a.sibling,a=Hi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function Zf(e,i){return i=ac({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ac(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function Jf(e,i,a){return Lr(i,e.child,null,a),e=Zf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Dy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),df(e.return,i,a)}function Wf(e,i,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function xy(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ye.current,E=(g&2)!==0;if(E?(g=g&1|2,i.flags|=128):g&=1,nt(ye,g),Qe(e,i,o,a),o=zt?Qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dy(e,a,i);else if(e.tag===19)Dy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Wf(i,!0,a,null,f,o);break;case"together":Wf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ms|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Hi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Hi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function td(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function v1(e,i,a){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),ws(i,Re,e.memoizedState.cache),xr();break;case 27:case 5:hr(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:ws(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ny(e,i,a):(Ns(i),e=Xi(e,i,a),e!==null?e.sibling:null);Ns(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Na(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return xy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(ye,ye.current),o)break;return null;case 22:return i.lanes=0,Ay(e,i,a,i.pendingProps);case 24:ws(i,Re,e.memoizedState.cache)}return Xi(e,i,a)}function Oy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!td(e,a)&&(i.flags&128)===0)return Ce=!1,v1(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(i.flags&1048576)!==0&&cg(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ur(i.elementType),i.type=e,typeof e=="function")rf(e)?(o=zr(e,o),i.tag=1,i=Iy(null,i,e,o,a)):(i.tag=0,i=Kf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===pt){i.tag=11,i=Ey(null,i,e,o,a);break t}else if(h===N){i.tag=14,i=Ty(null,i,e,o,a);break t}}throw i=mt(e)||e,Error(r(306,i,""))}}return i;case 0:return Kf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=zr(o,i.pendingProps),Iy(e,i,o,h,a);case 3:t:{if(Me(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Ef(e,i),tl(i,o,null,a);var g=i.memoizedState;if(o=g.cache,ws(i,Re,o),o!==f.cache&&mf(i,[Re],a,!0),Wo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Cy(e,i,o,a);break t}else if(o!==h){h=Vn(Error(r(424)),i),Ko(h),i=Cy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=zn(e.firstChild),Fe=i,zt=!0,As=null,Ln=!0,a=Ag(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xr(),o===h){i=Xi(e,i,a);break t}Qe(e,i,o,a)}i=i.child}return i;case 26:return rc(e,i),e===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,o=bc(Rt.current).createElement(a),o[Ae]=i,o[Le]=e,Ke(o,a,e),Se(o),i.stateNode=o):i.memoizedState=H_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hr(i),e===null&&zt&&(o=i.stateNode=j_(i.type,i.pendingProps,Rt.current),Fe=i,Ln=!0,h=ie,Ps(i.type)?(Md=h,ie=zn(o.firstChild)):ie=h),Qe(e,i,i.pendingProps.children,a),rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=o=ie)&&(o=X1(o,i.type,i.pendingProps,Ln),o!==null?(i.stateNode=o,Fe=i,ie=zn(o.firstChild),Ln=!1,h=!0):h=!1),h||Ss(i)),hr(i),h=i.type,f=i.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=If(e,i,c1,null,null,a),El._currentValue=h),rc(e,i),Qe(e,i,o,a),i.child;case 6:return e===null&&zt&&((e=a=ie)&&(a=$1(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Fe=i,ie=null,e=!0):e=!1),e||Ss(i)),null;case 13:return Ny(e,i,a);case 4:return Me(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Lr(i,null,o,a):Qe(e,i,o,a),i.child;case 11:return Ey(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,ws(i,i.type,o.value),Qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Mr(i),h=Ge(h),o=o(h),i.flags|=1,Qe(e,i,o,a),i.child;case 14:return Ty(e,i,i.type,i.pendingProps,a);case 15:return by(e,i,i.type,i.pendingProps,a);case 19:return xy(e,i,a);case 31:return _1(e,i,a);case 22:return Ay(e,i,a,i.pendingProps);case 24:return Mr(i),o=Ge(Re),e===null?(h=yf(),h===null&&(h=ee,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},vf(i),ws(i,Re,h)):((e.lanes&a)!==0&&(Ef(e,i),tl(i,null,null,a),Wo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ws(i,Re,o)):(o=f.cache,ws(i,Re,o),o!==h.cache&&mf(i,[Re],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function $i(e){e.flags|=4}function ed(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(r_())e.flags|=8192;else throw kr=Fu,_f}else e.flags&=-16777217}function My(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Y_(i))if(r_())e.flags|=8192;else throw kr=Fu,_f}function oc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?du():536870912,e.lanes|=i,Ba|=i)}function al(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function E1(e,i,a){var o=i.pendingProps;switch(uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qi(Re),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ca(i)?$i(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hf())),se(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?($i(i),f!==null?(se(i),My(i,f)):(se(i),ed(i,h,null,o,a))):f?f!==e.memoizedState?($i(i),se(i),My(i,f)):(se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(i),se(i),ed(i,h,e,o,a)),null;case 27:if(aa(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$i(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}e=st.current,Ca(i)?fg(i):(e=j_(h,o,a),i.stateNode=e,$i(i))}return se(i),null;case 5:if(aa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$i(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}if(f=st.current,Ca(i))fg(i);else{var g=bc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=i,f[Le]=o;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(i)}}return se(i),ed(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&$i(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=Rt.current,Ca(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||N_(e.nodeValue,a)),e||Ss(i,!0)}else e=bc(e).createTextNode(o),e[Ae]=i,i.stateNode=e}return se(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Ca(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ae]=i}else xr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),e=!1}else a=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ae]=i}else xr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),oc(i,i.updateQueue),se(i),null);case 4:return ae(),e===null&&Ad(i.stateNode.containerInfo),se(i),null;case 10:return Qi(i.type),se(i),null;case 19:if(K(ye),o=i.memoizedState,o===null)return se(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Yu(e),f!==null){for(i.flags|=128,al(o,!1),e=f.updateQueue,i.updateQueue=e,oc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)og(a,e),a=a.sibling;return nt(ye,ye.current&1|2),zt&&Fi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&nn()>fc&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304)}else{if(!h)if(e=Yu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,oc(i,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return se(i),null}else 2*nn()-o.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=ye.current,nt(ye,h?a&1|2:a&1),zt&&Fi(i,o.treeForkCount),e):(se(i),null);case 22:case 23:return Tn(i),Sf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&oc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&K(Vr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(Re),se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function T1(e,i){switch(uf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Qi(Re),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(r(340));xr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));xr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(ye),null;case 4:return ae(),null;case 10:return Qi(i.type),null;case 22:case 23:return Tn(i),Sf(),e!==null&&K(Vr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Qi(Re),null;case 25:return null;default:return null}}function Vy(e,i){switch(uf(i),i.tag){case 3:Qi(Re),ae();break;case 26:case 27:case 5:aa(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:K(ye);break;case 10:Qi(i.type);break;case 22:case 23:Tn(i),Sf(),e!==null&&K(Vr);break;case 24:Qi(Re)}}function ol(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function xs(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=i;var C=a,z=E;try{z()}catch(G){$t(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){$t(i,i.return,G)}}function Uy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{wg(i,a)}catch(o){$t(e,e.return,o)}}}function ky(e,i,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function wi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Ly(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function nd(e,i,a){try{var o=e.stateNode;H1(o,e.type,a,i),o[Le]=i}catch(h){$t(e,e.return,h)}}function Py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Ps(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(sd(e,i,a),e=e.sibling;e!==null;)sd(e,i,a),e=e.sibling}function lc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Ps(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lc(e,i,a),e=e.sibling;e!==null;)lc(e,i,a),e=e.sibling}function zy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,o,a),i[Ae]=e,i[Le]=a}catch(f){$t(e,e.return,f)}}var Zi=!1,Ne=!1,rd=!1,jy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function b1(e,i){if(e=e.containerInfo,Rd=Nc,e=Jp(e),Zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var F;Y!==a||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(F=Y.firstChild)!==null;)j=Y,Y=F;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(E=g),j===f&&++G===o&&(C=g),(F=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:e,selectionRange:a},Nc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=zr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function By(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),o&4&&ol(5,a);break;case 1:if(Wi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){$t(a,a.return,g)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(a,a.return,g)}}o&64&&Uy(a),o&512&&ll(a,a.return);break;case 3:if(Wi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(e,i)}catch(g){$t(a,a.return,g)}}break;case 27:i===null&&o&4&&zy(a);case 26:case 5:Wi(e,a),i===null&&o&4&&Ly(a),o&512&&ll(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),o&4&&Fy(e,a);break;case 13:Wi(e,a),o&4&&Gy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=x1.bind(null,a),Z1(e,a))));break;case 22:if(o=a.memoizedState!==null||Zi,!o){i=i!==null&&i.memoizedState!==null||Ne,h=Zi;var f=Ne;Zi=o,(Ne=i)&&!f?ts(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),Zi=h,Ne=f}break;case 30:break;default:Wi(e,a)}}function qy(e){var i=e.alternate;i!==null&&(e.alternate=null,qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,un=!1;function Ji(e,i,a){for(a=a.child;a!==null;)Hy(e,i,a),a=a.sibling}function Hy(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Ne||wi(a,i),Ji(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||wi(a,i);var o=le,h=un;Ps(a.type)&&(le=a.stateNode,un=!1),Ji(e,i,a),yl(a.stateNode),le=o,un=h;break;case 5:Ne||wi(a,i);case 6:if(o=le,h=un,le=null,Ji(e,i,a),le=o,un=h,le!==null)if(un)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){$t(a,i,f)}else try{le.removeChild(a.stateNode)}catch(f){$t(a,i,f)}break;case 18:le!==null&&(un?(e=le,U_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xa(e)):U_(le,a.stateNode));break;case 4:o=le,h=un,le=a.stateNode.containerInfo,un=!0,Ji(e,i,a),le=o,un=h;break;case 0:case 11:case 14:case 15:xs(2,a,i),Ne||xs(4,a,i),Ji(e,i,a);break;case 1:Ne||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ky(a,i,o)),Ji(e,i,a);break;case 21:Ji(e,i,a);break;case 22:Ne=(o=Ne)||a.memoizedState!==null,Ji(e,i,a),Ne=o;break;default:Ji(e,i,a)}}function Fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(a){$t(i,i.return,a)}}}function Gy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(a){$t(i,i.return,a)}}function A1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new jy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new jy),i;default:throw Error(r(435,e.tag))}}function uc(e,i){var a=A1(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=O1.bind(null,e,o);o.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=i,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ps(E.type)){le=E.stateNode,un=!1;break t}break;case 5:le=E.stateNode,un=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(le===null)throw Error(r(160));Hy(f,g,h),le=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Qy(i,e),i=i.sibling}var ti=null;function Qy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(xs(3,e,e.return),ol(3,e),xs(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ti;if(cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,a),f[Ae]=e,Se(f),o=f;break t;case"link":var g=Q_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;case"meta":if(g=Q_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ae]=e,Se(f),o=f}e.stateNode=o}else K_(h,e.type,e.stateNode);else e.stateNode=G_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?K_(h,e.type,e.stateNode):G_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),a!==null&&o&4&&nd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(ot){$t(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){$t(e,e.return,ot)}}break;case 3:if(wc=null,h=ti,ti=Ac(i.containerInfo),cn(i,e),ti=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(ot){$t(e,e.return,ot)}rd&&(rd=!1,Ky(e));break;case 4:o=ti,ti=Ac(e.stateNode.containerInfo),cn(i,e),hn(e),ti=o;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Zi,G=Ne;if(Zi=z||h,Ne=G||C,cn(i,e),Ne=G,Zi=z,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Zi||Ne||jr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){$t(C,C.return,ot)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){$t(C,C.return,ot)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;h?k_(F,!0):k_(C.stateNode,!1)}catch(ot){$t(C,C.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,uc(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Py(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(e);lc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(ln(g,""),a.flags&=-33);var E=id(e);lc(e,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=id(e);sd(e,z,C);break;default:throw Error(r(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ky(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Wi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)By(e,i.alternate,i),i=i.sibling}function jr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:xs(4,i,i.return),jr(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),jr(i);break;case 27:yl(i.stateNode);case 26:case 5:wi(i,i.return),jr(i);break;case 22:i.memoizedState===null&&jr(i);break;case 30:jr(i);break;default:jr(i)}e=e.sibling}}function ts(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,a),ol(4,f);break;case 1:if(ts(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Sg(C[h],E)}catch(z){$t(o,o.return,z)}}a&&g&64&&Uy(f),ll(f,f.return);break;case 27:zy(f);case 26:case 5:ts(h,f,a),a&&o===null&&g&4&&Ly(f),ll(f,f.return);break;case 12:ts(h,f,a);break;case 31:ts(h,f,a),a&&g&4&&Fy(h,f);break;case 13:ts(h,f,a),a&&g&4&&Gy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,a),ll(f,f.return);break;case 30:break;default:ts(h,f,a)}i=i.sibling}}function ad(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function od(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e))}function ei(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(e,i,a,o),i=i.sibling}function Yy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,o),h&2048&&ol(9,i);break;case 1:ei(e,i,a,o);break;case 3:ei(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){ei(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else ei(e,i,a,o);break;case 31:ei(e,i,a,o);break;case 13:ei(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?ei(e,i,a,o):ul(e,i):f._visibility&2?ei(e,i,a,o):(f._visibility|=2,Pa(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,i);break;case 24:ei(e,i,a,o),h&2048&&od(i.alternate,i);break;default:ei(e,i,a,o)}}function Pa(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,g=i,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Pa(f,g,E,C,h),ol(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Pa(f,g,E,C,h):ul(f,g):(G._visibility|=2,Pa(f,g,E,C,h)),h&&z&2048&&ad(g.alternate,g);break;case 24:Pa(f,g,E,C,h),h&&z&2048&&od(g.alternate,g);break;default:Pa(f,g,E,C,h)}i=i.sibling}}function ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&ad(o.alternate,o);break;case 24:ul(a,o),h&2048&&od(o.alternate,o);break;default:ul(a,o)}i=i.sibling}}var cl=8192;function za(e,i,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)Xy(e,i,a),e=e.sibling}function Xy(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&cl&&e.memoizedState!==null&&uA(a,ti,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var o=ti;ti=Ac(e.stateNode.containerInfo),za(e,i,a),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,za(e,i,a),cl=o):za(e,i,a));break;default:za(e,i,a)}}function $y(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function hl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,Jy(o,e)}$y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zy(e),e=e.sibling}function Zy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&xs(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,cc(e)):hl(e);break;default:hl(e)}}function cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,Jy(o,e)}$y(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:xs(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}e=e.sibling}}function Jy(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:xs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=e;ze!==null;){o=ze;var h=o.sibling,f=o.return;if(qy(o),o===a){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var S1={getCacheForType:function(e){var i=Ge(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ge(Re).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Dt=null,Mt=0,Xt=0,bn=null,Os=!1,ja=!1,ld=!1,es=0,he=0,Ms=0,Br=0,ud=0,An=0,Ba=0,fl=null,fn=null,cd=!1,hc=0,Wy=0,fc=1/0,dc=null,Vs=null,Ue=0,Us=null,qa=null,ns=0,hd=0,fd=null,t_=null,dl=0,dd=null;function Sn(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:B.T!==null?vd():mu()}function e_(){if(An===0)if((Mt&536870912)===0||zt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),An=e}else An=536870912;return e=En.current,e!==null&&(e.flags|=32),An}function dn(e,i,a){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),ks(e,Mt,An,!1)),pr(e,a),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(Br|=a),he===4&&ks(e,Mt,An,!1)),Ri(e))}function n_(e,i,a){if((Qt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Gn(e,i),h=o?C1(e,i):pd(e,i,!0),f=o;do{if(h===0){ja&&!o&&ks(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!R1(a)){h=pd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var E=e;h=fl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ha(E,g).flags|=256),g=pd(E,g,!1),g!==2){if(ld&&!C){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),ks(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ks(o,i,An,!Os);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=hc+300-nn(),10<h)){if(ks(o,i,An,!Os),li(o,0,!0)!==0)break t;ns=i,o.timeoutHandle=M_(i_.bind(null,o,a,fn,dc,cd,i,An,Br,Ba,Os,f,"Throttled",-0,0),h);break t}i_(o,a,fn,dc,cd,i,An,Br,Ba,Os,f,null,-0,0)}}break}while(!0);Ri(e)}function i_(e,i,a,o,h,f,g,E,C,z,G,Y,j,F){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Xy(i,f,Y);var ot=(f&62914560)===f?hc-nn():(f&4194048)===f?Wy-nn():0;if(ot=cA(Y,ot),ot!==null){ns=f,e.cancelPendingCommit=ot(h_.bind(null,e,i,f,a,o,h,g,E,C,G,Y,null,j,F)),ks(e,f,g,!z);return}}h_(e,i,f,a,o,h,g,E,C)}function R1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ks(e,i,a,o){i&=~ud,i&=~Br,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-pe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&gr(e,a,i)}function mc(){return(Qt&6)===0?(ml(0),!1):!0}function md(){if(Dt!==null){if(Xt===0)var e=Dt.return;else e=Dt,Gi=Or=null,Df(e),Ma=null,$o=0,e=Dt;for(;e!==null;)Vy(e.alternate,e),e=e.return;Dt=null}}function Ha(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Q1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ns=0,md(),ee=e,Dt=a=Hi(e.current,null),Mt=i,Xt=0,bn=null,Os=!1,ja=Gn(e,i),ld=!1,Ba=An=ud=Br=Ms=he=0,fn=fl=null,cd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-pe(o),f=1<<h;i|=e[h],o&=~f}return es=i,Uu(),a}function s_(e,i){wt=null,B.H=sl,i===Oa||i===Hu?(i=Eg(),Xt=3):i===_f?(i=Eg(),Xt=4):Xt=i===Qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Dt===null&&(he=1,ic(e,Vn(i,e.current)))}function r_(){var e=En.current;return e===null?!0:(Mt&4194048)===Mt?Pn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Pn:!1}function a_(){var e=B.H;return B.H=sl,e===null?sl:e}function o_(){var e=B.A;return B.A=S1,e}function pc(){he=4,Os||(Mt&4194048)!==Mt&&En.current!==null||(ja=!0),(Ms&134217727)===0&&(Br&134217727)===0||ee===null||ks(ee,Mt,An,!1)}function pd(e,i,a){var o=Qt;Qt|=2;var h=a_(),f=o_();(ee!==e||Mt!==i)&&(dc=null,Ha(e,i)),i=!1;var g=he;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,C=bn;switch(Xt){case 8:md(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var z=Xt;if(Xt=0,bn=null,Fa(e,E,C,z),a&&ja){g=0;break t}break;default:z=Xt,Xt=0,bn=null,Fa(e,E,C,z)}}I1(),g=he;break}catch(G){s_(e,G)}while(!0);return i&&e.shellSuspendCounter++,Gi=Or=null,Qt=o,B.H=h,B.A=f,Dt===null&&(ee=null,Mt=0,Uu()),g}function I1(){for(;Dt!==null;)l_(Dt)}function C1(e,i){var a=Qt;Qt|=2;var o=a_(),h=o_();ee!==e||Mt!==i?(dc=null,fc=nn()+500,Ha(e,i)):ja=Gn(e,i);t:do try{if(Xt!==0&&Dt!==null){i=Dt;var f=bn;e:switch(Xt){case 1:Xt=0,bn=null,Fa(e,i,f,1);break;case 2:case 9:if(_g(f)){Xt=0,bn=null,u_(i);break}i=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Ri(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:_g(f)?(Xt=0,bn=null,u_(i)):(Xt=0,bn=null,Fa(e,i,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?Y_(g):E.stateNode.complete){Xt=0,bn=null;var C=E.sibling;if(C!==null)Dt=C;else{var z=E.return;z!==null?(Dt=z,gc(z)):Dt=null}break e}}Xt=0,bn=null,Fa(e,i,f,5);break;case 6:Xt=0,bn=null,Fa(e,i,f,6);break;case 8:md(),he=6;break t;default:throw Error(r(462))}}N1();break}catch(G){s_(e,G)}while(!0);return Gi=Or=null,B.H=o,B.A=h,Qt=a,Dt!==null?0:(ee=null,Mt=0,Uu(),he)}function N1(){for(;Dt!==null&&!Fh();)l_(Dt)}function l_(e){var i=Oy(e.alternate,e,es);e.memoizedProps=e.pendingProps,i===null?gc(e):Dt=i}function u_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ry(a,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=Ry(a,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:Df(i);default:Vy(a,i),i=Dt=og(i,es),i=Oy(a,i,es)}e.memoizedProps=e.pendingProps,i===null?gc(e):Dt=i}function Fa(e,i,a,o){Gi=Or=null,Df(i),Ma=null,$o=0;var h=i.return;try{if(y1(e,h,i,a,Mt)){he=1,ic(e,Vn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;he=1,ic(e,Vn(a,e.current)),Dt=null;return}i.flags&32768?(zt||o===1?e=!0:ja||(Mt&536870912)!==0?e=!1:(Os=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),c_(i,e)):gc(i)}function gc(e){var i=e;do{if((i.flags&32768)!==0){c_(i,Os);return}e=i.return;var a=E1(i.alternate,i,es);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function c_(e,i){do{var a=T1(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function h_(e,i,a,o,h,f,g,E,C){e.cancelPendingCommit=null;do yc();while(Ue!==0);if((Qt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=nf,Kh(e,a,f,g,E,C),e===ee&&(Dt=ee=null,Mt=0),qa=i,Us=e,ns=a,hd=f,fd=h,t_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M1(fs,function(){return g_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=tt.p,tt.p=2,g=Qt,Qt|=4;try{b1(e,i,a)}finally{Qt=g,tt.p=h,B.T=o}}Ue=1,f_(),d_(),m_()}}function f_(){if(Ue===1){Ue=0;var e=Us,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{Qy(i,e);var f=Id,g=Jp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Zp(E.ownerDocument.documentElement,E)){if(C!==null&&Zh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var F=j.getSelection(),ot=E.textContent.length,gt=Math.min(C.start,ot),te=C.end===void 0?gt:Math.min(C.end,ot);!F.extend&&gt>te&&(g=te,te=gt,gt=g);var k=$p(E,gt),O=$p(E,te);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),gt>te?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(Y=[],F=E;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Nc=!!Rd,Id=Rd=null}finally{Qt=h,tt.p=o,B.T=a}}e.current=i,Ue=2}}function d_(){if(Ue===2){Ue=0;var e=Us,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{By(e,i.alternate,i)}finally{Qt=h,tt.p=o,B.T=a}}Ue=3}}function m_(){if(Ue===4||Ue===3){Ue=0,ou();var e=Us,i=qa,a=ns,o=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,qa=Us=null,p_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),zi(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=B.T,h=tt.p,tt.p=2,B.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{B.T=i,tt.p=h}}(ns&3)!==0&&yc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===dd?dl++:(dl=0,dd=e):dl=0,ml(0)}}function p_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Yo(i)))}function yc(){return f_(),d_(),m_(),g_()}function g_(){if(Ue!==5)return!1;var e=Us,i=hd;hd=0;var a=zi(ns),o=B.T,h=tt.p;try{tt.p=32>a?32:a,B.T=null,a=fd,fd=null;var f=Us,g=ns;if(Ue=0,qa=Us=null,ns=0,(Qt&6)!==0)throw Error(r(331));var E=Qt;if(Qt|=4,Zy(f.current),Yy(f,f.current,g,a),Qt=E,ml(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{tt.p=h,B.T=o,p_(e,i)}}function y_(e,i,a){i=Vn(a,i),i=Gf(e.stateNode,i,2),e=Cs(e,i,2),e!==null&&(pr(e,2),Ri(e))}function $t(e,i,a){if(e.tag===3)y_(e,e,a);else for(;i!==null;){if(i.tag===3){y_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vs===null||!Vs.has(o))){e=Vn(a,e),a=_y(2),o=Cs(i,a,2),o!==null&&(vy(a,o,i,e),pr(o,2),Ri(o));break}}i=i.return}}function gd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new w1;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ld=!0,h.add(a),e=D1.bind(null,e,i,a),i.then(e,e))}function D1(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Mt&a)===a&&(he===4||he===3&&(Mt&62914560)===Mt&&300>nn()-hc?(Qt&2)===0&&Ha(e,0):ud|=a,Ba===Mt&&(Ba=0)),Ri(e)}function __(e,i){i===0&&(i=du()),e=Nr(e,i),e!==null&&(pr(e,i),Ri(e))}function x1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),__(e,a)}function O1(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),__(e,a)}function M1(e,i){return Ve(e,i)}var _c=null,Ga=null,yd=!1,vc=!1,_d=!1,Ls=0;function Ri(e){e!==Ga&&e.next===null&&(Ga===null?_c=Ga=e:Ga=Ga.next=e),vc=!0,yd||(yd=!0,U1())}function ml(e,i){if(!_d&&vc){_d=!0;do for(var a=!1,o=_c;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,b_(o,f))}else f=Mt,f=li(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(a=!0,b_(o,f));o=o.next}while(a);_d=!1}}function V1(){v_()}function v_(){vc=yd=!1;var e=0;Ls!==0&&G1()&&(e=Ls);for(var i=nn(),a=null,o=_c;o!==null;){var h=o.next,f=E_(o,i);f===0?(o.next=null,a===null?_c=h:a.next=h,h===null&&(Ga=a)):(a=o,(e!==0||(f&3)!==0)&&(vc=!0)),o=h}Ue!==0&&Ue!==5||ml(e),Ls!==0&&(Ls=0)}function E_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-pe(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Qh(E,i)):C<=i&&(e.expiredLanes|=E),f&=~E}if(i=ee,a=Mt,a=li(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&hs(o),zi(a)){case 2:case 8:a=So;break;case 32:a=fs;break;case 268435456:a=lu;break;default:a=fs}return o=T_.bind(null,e),a=Ve(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&hs(o),e.callbackPriority=2,e.callbackNode=null,2}function T_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yc()&&e.callbackNode!==a)return null;var o=Mt;return o=li(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(n_(e,o,i),E_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?T_.bind(null,e):null)}function b_(e,i){if(yc())return null;n_(e,i,!0)}function U1(){K1(function(){(Qt&6)!==0?Ve(Ao,V1):v_()})}function vd(){if(Ls===0){var e=Da;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ls=e}return Ls}function A_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function S_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function k1(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=A_((h[Le]||null).action),g=o.submitter;g&&(i=(i=g[Le]||null)?A_(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ls!==0){var C=g?S_(h,g):new FormData(h);zf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?S_(h,g):new FormData(h),zf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var Td=ef[Ed],L1=Td.toLowerCase(),P1=Td[0].toUpperCase()+Td.slice(1);Wn(L1,"on"+P1)}Wn(eg,"onAnimationEnd"),Wn(ng,"onAnimationIteration"),Wn(ig,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(t1,"onTransitionRun"),Wn(e1,"onTransitionStart"),Wn(n1,"onTransitionCancel"),Wn(sg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function w_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=C}}}}function xt(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var o=e+"__bubble";a.has(o)||(R_(i,e,2,!1),a.add(o))}function bd(e,i,a){var o=0;i&&(o|=4),R_(a,e,o,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Ad(e){if(!e[Ec]){e[Ec]=!0,Io.forEach(function(a){a!=="selectionchange"&&(z1.has(a)||bd(a,!1,e),bd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,bd("selectionchange",!1,i))}}function R_(e,i,a,o){switch(ev(i)){case 2:var h=dA;break;case 8:h=mA;break;default:h=Pd}a=h.bind(null,i,a,e),h=void 0,!Tr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Sd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}_s(function(){var z=f,G=Dn(a),Y=[];t:{var j=rg.get(e);if(j!==void 0){var F=vi,ot=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":F=xu;break;case"focusin":ot="focus",F=wr;break;case"focusout":ot="blur",F=wr;break;case"beforeblur":case"afterblur":F=wr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case eg:case ng:case ig:F=Su;break;case sg:F=b;break;case"scroll":case"scrollend":F=zo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qi;break;case"toggle":case"beforetoggle":F=St}var gt=(i&4)!==0,te=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var O=z,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Xn(O,k),Q!=null&&gt.push(gl(O,Q,P))),te)break;O=O.return}0<gt.length&&(j=new F(j,ot,null,a,G),Y.push({event:j,listeners:gt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==ko&&(ot=a.relatedTarget||a.fromElement)&&(fi(ot)||ot[ci]))break t;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ot=a.relatedTarget||a.toElement,F=z,ot=ot?fi(ot):null,ot!==null&&(te=u(ot),gt=ot.tag,ot!==te||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(F=null,ot=z),F!==ot)){if(gt=jo,Q="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=qi,Q="onPointerLeave",k="onPointerEnter",O="pointer"),te=F==null?j:gn(F),P=ot==null?j:gn(ot),j=new gt(Q,O+"leave",F,a,G),j.target=te,j.relatedTarget=P,Q=null,fi(G)===z&&(gt=new gt(k,O+"enter",ot,a,G),gt.target=P,gt.relatedTarget=te,Q=gt),te=Q,F&&ot)e:{for(gt=j1,k=F,O=ot,P=0,Q=k;Q;Q=gt(Q))P++;Q=0;for(var ft=O;ft;ft=gt(ft))Q++;for(;0<P-Q;)k=gt(k),P--;for(;0<Q-P;)O=gt(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){gt=k;break e}k=gt(k),O=gt(O)}gt=null}else gt=null;F!==null&&I_(Y,j,F,gt,!1),ot!==null&&te!==null&&I_(Y,te,ot,gt,!0)}}t:{if(j=z?gn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var qt=Fp;else if(qp(j))if(Gp)qt=Zb;else{qt=Xb;var ut=Yb}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ma(z.elementType)&&(qt=Fp):qt=$b;if(qt&&(qt=qt(e,z))){Hp(Y,qt,a,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Mo(j,"number",j.value)}switch(ut=z?gn(z):window,e){case"focusin":(qp(ut)||ut.contentEditable==="true")&&(ba=ut,Jh=z,Go=null);break;case"focusout":Go=Jh=ba=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Wp(Y,a,G);break;case"selectionchange":if(Wb)break;case"keydown":case"keyup":Wp(Y,a,G)}var It;if(Gt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Ta?Rr(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(bi&&a.locale!=="ko"&&(Ta||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Ta&&(It=Po()):(_i=G,Lo="value"in _i?_i.value:_i.textContent,Ta=!0)),ut=Tc(z,Vt),0<ut.length&&(Vt=new Ti(Vt,e,null,a,G),Y.push({event:Vt,listeners:ut}),It?Vt.data=It:(It=Ea(a),It!==null&&(Vt.data=It)))),(It=On?Fb(e,a):Gb(e,a))&&(Vt=Tc(z,"onBeforeInput"),0<Vt.length&&(ut=new Ti("onBeforeInput","beforeinput",null,a,G),Y.push({event:ut,listeners:Vt}),ut.data=It)),k1(Y,e,z,a,G)}w_(Y,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Tc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,a),h!=null&&o.unshift(gl(e,h,f)),h=Xn(e,i),h!=null&&o.push(gl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function j1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function I_(e,i,a,o,h){for(var f=i._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Xn(a,f),z!=null&&g.unshift(gl(a,z,C))):h||(z=Xn(a,f),z!=null&&g.push(gl(a,z,C)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var B1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function C_(e){return(typeof e=="string"?e:""+e).replace(B1,`
`).replace(q1,"")}function N_(e,i){return i=C_(i),C_(e)===i}function Wt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":Uo(e,o,f);break;case"data":if(i!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=pa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=pa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),fa(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,fa(e,a,o))}}function wd(e,i,a,o,h,f){switch(a){case"style":Uo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Le]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):fa(e,a,o)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,f,g,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Wt(e,i,o,G,a,null)}}_u(e,f,E,C,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=f,a=g,e.multiple=!!o,i!=null?ms(e,!!o,i,!1):a!=null&&ms(e,!!o,a,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Wt(e,i,g,E,a,null)}ps(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,C,o,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)xt(pl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,z,o,a,null)}return;default:if(ma(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&wd(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function H1(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,G=null;for(F in a){var Y=a[F];if(a.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(F)||Wt(e,i,F,null,o,Y)}}for(var j in o){var F=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(F!=null||Y!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==Y&&Wt(e,i,j,F,o,Y)}}da(e,g,E,C,z,G,f,h);return;case"select":F=g=E=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||Wt(e,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Wt(e,i,h,f,o,C)}i=E,a=g,o=F,j!=null?ms(e,!!a,j,!1):!!o!=!!a&&(i!=null?ms(e,!!a,i,!0):ms(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Wt(e,i,g,h,o,f)}vu(e,j,F);return;case"option":for(var ot in a)if(j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Wt(e,i,ot,null,o,j)}for(C in o)if(j=o[C],F=a[C],o.hasOwnProperty(C)&&j!==F&&(j!=null||F!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wt(e,i,C,j,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&Wt(e,i,gt,null,o,j);for(z in o)if(j=o[z],F=a[z],o.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:Wt(e,i,z,j,o,F)}return;default:if(ma(i)){for(var te in a)j=a[te],a.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&wd(e,i,te,void 0,o,j);for(G in o)j=o[G],F=a[G],!o.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||wd(e,i,G,j,o,F);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Wt(e,i,k,null,o,j);for(Y in o)j=o[Y],F=a[Y],!o.hasOwnProperty(Y)||j===F||j==null&&F==null||Wt(e,i,Y,j,o,F)}function D_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&D_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var G=C.transferSize,Y=C.initiatorType;G&&D_(Y)&&(C=C.responseEnd,g+=G*(C<E?1:(E-z)/(C-z)))}if(--o,i+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Id=null;function bc(e){return e.nodeType===9?e:e.ownerDocument}function x_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Cd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function G1(){var e=window.event;return e&&e.type==="popstate"?e===Nd?!1:(Nd=e,!0):(Nd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(e){return V_.resolve(null).then(e).catch(Y1)}:M_;function Y1(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function U_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Xa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);Xa(i)}function k_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Dd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function X1(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function $1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function L_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=zn(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$?"||e.data==="$~"}function Od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Md=null;function P_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return zn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function z_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function j_(e,i,a){switch(i=bc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var jn=new Map,B_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=tt.d;tt.d={f:J1,r:W1,D:tA,C:eA,L:nA,m:iA,X:rA,S:sA,M:aA};function J1(){var e=is.f(),i=mc();return e||i}function W1(e){var i=Nn(e);i!==null&&i.tag===5&&i.type==="form"?sy(i):is.r(e)}var Qa=typeof document>"u"?null:document;function q_(e,i,a){var o=Qa;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),B_.has(h)||(B_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ke(i,"link",e),Se(i),o.head.appendChild(i)))}}function tA(e){is.D(e),q_("dns-prefetch",e,null)}function eA(e,i){is.C(e,i),q_("preconnect",e,i)}function nA(e,i,a){is.L(e,i,a);var o=Qa;if(o&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(i){case"style":f=Ka(e);break;case"script":f=Ya(e)}jn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),jn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(_l(f))||i==="script"&&o.querySelector(vl(f))||(i=o.createElement("link"),Ke(i,"link",e),Se(i),o.head.appendChild(i)))}}function iA(e,i){is.m(e,i);var a=Qa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(e)}if(!jn.has(f)&&(e=A({rel:"modulepreload",href:e},i),jn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}o=a.createElement("link"),Ke(o,"link",e),Se(o),a.head.appendChild(o)}}}function sA(e,i,a){is.S(e,i,a);var o=Qa;if(o&&e){var h=di(o).hoistableStyles,f=Ka(e);i=i||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(_l(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=jn.get(f))&&Vd(e,a);var C=g=o.createElement("link");Se(C),Ke(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function rA(e,i){is.X(e,i);var a=Qa;if(a&&e){var o=di(a).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=A({src:e,async:!0},i),(i=jn.get(h))&&Ud(e,i),f=a.createElement("script"),Se(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function aA(e,i){is.M(e,i);var a=Qa;if(a&&e){var o=di(a).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=jn.get(h))&&Ud(e,i),f=a.createElement("script"),Se(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function H_(e,i,a,o){var h=(h=Rt.current)?Ac(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=di(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(_l(e)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),f||oA(h,e,a,g.state))),i&&o===null)throw Error(r(528,""));return g}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=di(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ka(e){return'href="'+on(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function F_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function oA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ke(i,"link",a),Se(i),e.head.appendChild(i))}function Ya(e){return'[src="'+on(e)+'"]'}function vl(e){return"script[async]"+e}function G_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,Se(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ke(o,"style",h),Sc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ka(a.href);var f=e.querySelector(_l(h));if(f)return i.state.loading|=4,i.instance=f,Se(f),f;o=F_(a),(h=jn.get(h))&&Vd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ke(f,"link",o),i.state.loading|=4,Sc(f,a.precedence,e),i.instance=f;case"script":return f=Ya(a.src),(h=e.querySelector(vl(f)))?(i.instance=h,Se(h),h):(o=a,(h=jn.get(f))&&(o=A({},a),Ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ke(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Sc(o,a.precedence,e));return i.instance}function Sc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var wc=null;function Q_(e,i,a){if(wc===null){var o=new Map,h=wc=new Map;h.set(a,o)}else h=wc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function K_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function lA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(o.href),f=i.querySelector(_l(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Rc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Se(f);return}f=i.ownerDocument||i,o=F_(o),(h=jn.get(h))&&Vd(o,h),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ke(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Rc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var kd=0;function cA(e,i){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&kd===0&&(kd=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>kd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function Cc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,i.forEach(hA,e),Ic=null,Rc.call(e))}function hA(e,i){if(!(i.state.loading&4)){var a=Ic.get(e);if(a)var o=a.get(null);else{a=new Map,Ic.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=i.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:at,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function fA(e,i,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function X_(e,i,a,o,h,f,g,E,C,z,G,Y){return e=new fA(e,i,a,g,C,z,G,Y,E),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),e.current=f,f.stateNode=e,i=pf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},vf(f),e}function $_(e){return e?(e=wa,e):wa}function Z_(e,i,a,o,h,f){h=$_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Cs(e,o,i),a!==null&&(dn(a,e,i),Jo(a,e,i))}function J_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ld(e,i){J_(e,i),(e=e.alternate)&&J_(e,i)}function W_(e){if(e.tag===13||e.tag===31){var i=Nr(e,67108864);i!==null&&dn(i,e,67108864),Ld(e,67108864)}}function tv(e){if(e.tag===13||e.tag===31){var i=Sn();i=yr(i);var a=Nr(e,i);a!==null&&dn(a,e,i),Ld(e,i)}}var Nc=!0;function dA(e,i,a,o){var h=B.T;B.T=null;var f=tt.p;try{tt.p=2,Pd(e,i,a,o)}finally{tt.p=f,B.T=h}}function mA(e,i,a,o){var h=B.T;B.T=null;var f=tt.p;try{tt.p=8,Pd(e,i,a,o)}finally{tt.p=f,B.T=h}}function Pd(e,i,a,o){if(Nc){var h=zd(o);if(h===null)Sd(e,i,o,Dc,a),nv(e,o);else if(gA(h,e,i,a,o))o.stopPropagation();else if(nv(e,o),i&4&&-1<pA.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-pe(g);E.entanglements[1]|=C,g&=~C}Ri(f),(Qt&6)===0&&(fc=nn()+500,ml(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&dn(E,f,2),mc(),Ld(f,2)}if(f=zd(o),f===null&&Sd(e,i,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(e,i,o,null,a)}}function zd(e){return e=Dn(e),jd(e)}var Dc=null;function jd(e){if(Dc=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Ao:return 2;case So:return 8;case fs:case Gh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var Bd=!1,zs=null,js=null,Bs=null,Tl=new Map,bl=new Map,qs=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(e,i){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&W_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function gA(e,i,a,o,h){switch(i){case"focusin":return zs=Al(zs,e,i,a,o,h),!0;case"dragenter":return js=Al(js,e,i,a,o,h),!0;case"mouseover":return Bs=Al(Bs,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Al(Tl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,bl.set(f,Al(bl.get(f)||null,e,i,a,o,h)),!0}return!1}function iv(e){var i=fi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){tv(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ko=o,a.target.dispatchEvent(o),ko=null}else return i=Nn(a),i!==null&&W_(i),e.blockedOn=a,!1;i.shift()}return!0}function sv(e,i,a){xc(e)&&a.delete(i)}function yA(){Bd=!1,zs!==null&&xc(zs)&&(zs=null),js!==null&&xc(js)&&(js=null),Bs!==null&&xc(Bs)&&(Bs=null),Tl.forEach(sv),bl.forEach(sv)}function Oc(e,i){e.blockedOn===i&&(e.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yA)))}var Mc=null;function rv(e){Mc!==e&&(Mc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(jd(o||a)===null)continue;break}var f=Nn(a);f!==null&&(e.splice(i,3),i-=3,zf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Xa(e){function i(C){return Oc(C,e)}zs!==null&&Oc(zs,e),js!==null&&Oc(js,e),Bs!==null&&Oc(Bs,e),Tl.forEach(i),bl.forEach(i);for(var a=0;a<qs.length;a++){var o=qs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Le]||null;if(typeof f=="function")g||rv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Le]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),rv(a)}}}function av(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}Vc.prototype.render=qd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Sn();Z_(a,o,e,i,null,null)},Vc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Z_(e.current,2,null,e,null,null),mc(),i[ci]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=mu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qs.length&&i!==0&&i<qs[a].priority;a++);qs.splice(a,0,e),a===0&&iv(e)}};var ov=t.version;if(ov!=="19.2.3")throw Error(r(527,ov,"19.2.3"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var _A={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Fn=Uc.inject(_A),qe=Uc}catch{}}return wl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=my,f=py,g=gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=X_(e,1,!1,null,null,a,o,null,h,f,g,av),e[ci]=i.current,Ad(e),new qd(i)},wl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=my,g=py,E=gy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=X_(e,1,!0,i,a??null,o,h,C,f,g,E,av),i.context=$_(null),a=i.current,o=Sn(),o=yr(o),h=Is(o),h.callback=null,Cs(a,h,o),a=o,i.current.lanes=a,pr(i,a),Ri(i),e[ci]=i.current,Ad(e),new Vc(i)},wl.version="19.2.3",wl}var yv;function NA(){if(yv)return Gd.exports;yv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=CA(),Gd.exports}var DA=NA();const xA=sE(DA),OA=()=>{};var _v={};const rE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},MA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let x=(p&15)<<2|_>>6,q=_&63;y||(q=64,d||(x=64)),r.push(n[T],n[A],n[x],n[q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(rE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):MA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const A=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||_==null||A==null)throw new VA;const x=u<<2|p>>4;if(r.push(x),_!==64){const q=p<<4&240|_>>2;if(r.push(q),A!==64){const J=_<<6&192|A;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(s){const t=rE(s);return aE.encodeByteArray(t,!0)},ih=function(s){return UA(s).replace(/\./g,"")},oE=function(s){try{return aE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LA=()=>kA().__FIREBASE_DEFAULTS__,PA=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},zA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&oE(s[1]);return t&&JSON.parse(t)},Th=()=>{try{return OA()||LA()||PA()||zA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lE=s=>Th()?.emulatorHosts?.[s],uE=s=>{const t=lE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},cE=()=>Th()?.config,hE=s=>Th()?.[`_${s}`];class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function lr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jm(s){return(await fetch(s,{credentials:"include"})).ok}function fE(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(n)),ih(JSON.stringify(d)),""].join(".")}const xl={};function BA(){const s={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?s.emulator.push(t):s.prod.push(t);return s}function qA(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let vv=!1;function Bm(s,t){if(typeof window>"u"||typeof document>"u"||!lr(window.location.host)||xl[s]===t||xl[s]||vv)return;xl[s]=t;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=BA().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,q){x.setAttribute("width","24"),x.setAttribute("id",q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{vv=!0,d()},x}function T(x,q){x.setAttribute("id",q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=qA(r),q=n("text"),J=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),$=document.getElementById(W)||document.createElement("a"),lt=n("preprendIcon"),ct=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const at=x.element;p(at),T($,W);const pt=_();y(ct,lt),at.append(ct,J,$,pt),document.body.appendChild(at)}u?(J.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function FA(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YA(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function XA(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $A(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const JA="FirebaseError";class Pi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=JA,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?WA(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Pi(l,p,r)}}function WA(s,t){return s.replace(tS,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const tS=/\{\$([^}]+)}/g;function eS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Xr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(Ev(u)&&Ev(d)){if(!Xr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Ev(s){return s!==null&&typeof s=="object"}function Zl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nS(s,t){const n=new iS(s,t);return n.subscribe.bind(n)}class iS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Xd(){}function fe(s){return s&&s._delegate?s._delegate:s}class er{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class rS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new jA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oS(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(s){return s===qr?void 0:s}function oS(s){return s.instantiationMode==="EAGER"}class lS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new rS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const uS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},cS=Ut.INFO,hS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},fS=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=hS[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const dS=(s,t)=>t.some(n=>s instanceof n);let Tv,bv;function mS(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,cm=new WeakMap,mE=new WeakMap,$d=new WeakMap,Hm=new WeakMap;function gS(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Zs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&dE.set(n,s)}).catch(()=>{}),Hm.set(t,s),t}function yS(s){if(cm.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});cm.set(s,t)}let hm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return cm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||mE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function _S(s){hm=s(hm)}function vS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Zd(this),t,...n);return mE.set(r,t.sort?t.sort():[t]),Zs(r)}:pS().includes(s)?function(...t){return s.apply(Zd(this),t),Zs(dE.get(this))}:function(...t){return Zs(s.apply(Zd(this),t))}}function ES(s){return typeof s=="function"?vS(s):(s instanceof IDBTransaction&&yS(s),dS(s,mS())?new Proxy(s,hm):s)}function Zs(s){if(s instanceof IDBRequest)return gS(s);if($d.has(s))return $d.get(s);const t=ES(s);return t!==s&&($d.set(s,t),Hm.set(t,s)),t}const Zd=s=>Hm.get(s);function TS(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),p=Zs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Zs(d.result),y.oldVersion,y.newVersion,Zs(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const bS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Jd=new Map;function Av(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Jd.get(t))return Jd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=AS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||bS.includes(n)))return;const u=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&y.done]))[0]};return Jd.set(t,u),u}_S(s=>({...s,get:(t,n,r)=>Av(t,n)||s.get(t,n,r),has:(t,n)=>!!Av(t,n)||s.has(t,n)}));class SS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wS(s){return s.getComponent()?.type==="VERSION"}const fm="@firebase/app",Sv="0.14.6";const os=new qm("@firebase/app"),RS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",NS="@firebase/app-check-compat",DS="@firebase/app-check",xS="@firebase/auth",OS="@firebase/auth-compat",MS="@firebase/database",VS="@firebase/data-connect",US="@firebase/database-compat",kS="@firebase/functions",LS="@firebase/functions-compat",PS="@firebase/installations",zS="@firebase/installations-compat",jS="@firebase/messaging",BS="@firebase/messaging-compat",qS="@firebase/performance",HS="@firebase/performance-compat",FS="@firebase/remote-config",GS="@firebase/remote-config-compat",QS="@firebase/storage",KS="@firebase/storage-compat",YS="@firebase/firestore",XS="@firebase/ai",$S="@firebase/firestore-compat",ZS="firebase",JS="12.6.0";const dm="[DEFAULT]",WS={[fm]:"fire-core",[RS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[DS]:"fire-app-check",[NS]:"fire-app-check-compat",[xS]:"fire-auth",[OS]:"fire-auth-compat",[MS]:"fire-rtdb",[VS]:"fire-data-connect",[US]:"fire-rtdb-compat",[kS]:"fire-fn",[LS]:"fire-fn-compat",[PS]:"fire-iid",[zS]:"fire-iid-compat",[jS]:"fire-fcm",[BS]:"fire-fcm-compat",[qS]:"fire-perf",[HS]:"fire-perf-compat",[FS]:"fire-rc",[GS]:"fire-rc-compat",[QS]:"fire-gcs",[KS]:"fire-gcs-compat",[YS]:"fire-fst",[$S]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};const sh=new Map,tw=new Map,mm=new Map;function wv(s,t){try{s.container.addComponent(t)}catch(n){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function $r(s){const t=s.name;if(mm.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,s);for(const n of sh.values())wv(n,s);for(const n of tw.values())wv(n,s);return!0}function bh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Bn(s){return s==null?!1:s.settings!==void 0}const ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new $l("app","Firebase",ew);class nw{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const na=JS;function pE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:dm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Js.create("bad-app-name",{appName:String(l)});if(n||(n=cE()),!n)throw Js.create("no-options");const u=sh.get(l);if(u){if(Xr(n,u.options)&&Xr(r,u.config))return u;throw Js.create("duplicate-app",{appName:l})}const d=new lS(l);for(const y of mm.values())d.addComponent(y);const p=new nw(n,r,d);return sh.set(l,p),p}function Fm(s=dm){const t=sh.get(s);if(!t&&s===dm&&cE())return pE();if(!t)throw Js.create("no-app",{appName:s});return t}function Ni(s,t,n){let r=WS[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}$r(new er(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const iw="firebase-heartbeat-database",sw=1,jl="firebase-heartbeat-store";let Wd=null;function gE(){return Wd||(Wd=TS(iw,sw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function rw(s){try{const n=(await gE()).transaction(jl),r=await n.objectStore(jl).get(yE(s));return await n.done,r}catch(t){if(t instanceof Pi)os.warn(t.message);else{const n=Js.create("idb-get",{originalErrorMessage:t?.message});os.warn(n.message)}}}async function Rv(s,t){try{const r=(await gE()).transaction(jl,"readwrite");await r.objectStore(jl).put(t,yE(s)),await r.done}catch(n){if(n instanceof Pi)os.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function yE(s){return`${s.name}!${s.options.appId}`}const aw=1024,ow=30;class lw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ow){const l=hw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Iv(),{heartbeatsToSend:n,unsentEntries:r}=uw(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function uw(s,t=aw){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Cv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Cv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $A()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Cv(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function hw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function fw(s){$r(new er("platform-logger",t=>new SS(t),"PRIVATE")),$r(new er("heartbeat",t=>new lw(t),"PRIVATE")),Ni(fm,Sv,s),Ni(fm,Sv,"esm2020"),Ni("fire-js","")}fw("");var dw="firebase",mw="12.7.0";Ni(dw,mw,"app");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,_E;(function(){var s;function t(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(U,w,V){for(var S=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)S[mt-2]=arguments[mt];return R.prototype[w].apply(U,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,R,I){I||(I=0);const U=Array(16);if(typeof R=="string")for(var w=0;w<16;++w)U[w]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(w=0;w<16;++w)U[w]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],w=N.g[2];let V=N.g[3],S;S=R+(V^I&(w^V))+U[0]+3614090360&4294967295,R=I+(S<<7&4294967295|S>>>25),S=V+(w^R&(I^w))+U[1]+3905402710&4294967295,V=R+(S<<12&4294967295|S>>>20),S=w+(I^V&(R^I))+U[2]+606105819&4294967295,w=V+(S<<17&4294967295|S>>>15),S=I+(R^w&(V^R))+U[3]+3250441966&4294967295,I=w+(S<<22&4294967295|S>>>10),S=R+(V^I&(w^V))+U[4]+4118548399&4294967295,R=I+(S<<7&4294967295|S>>>25),S=V+(w^R&(I^w))+U[5]+1200080426&4294967295,V=R+(S<<12&4294967295|S>>>20),S=w+(I^V&(R^I))+U[6]+2821735955&4294967295,w=V+(S<<17&4294967295|S>>>15),S=I+(R^w&(V^R))+U[7]+4249261313&4294967295,I=w+(S<<22&4294967295|S>>>10),S=R+(V^I&(w^V))+U[8]+1770035416&4294967295,R=I+(S<<7&4294967295|S>>>25),S=V+(w^R&(I^w))+U[9]+2336552879&4294967295,V=R+(S<<12&4294967295|S>>>20),S=w+(I^V&(R^I))+U[10]+4294925233&4294967295,w=V+(S<<17&4294967295|S>>>15),S=I+(R^w&(V^R))+U[11]+2304563134&4294967295,I=w+(S<<22&4294967295|S>>>10),S=R+(V^I&(w^V))+U[12]+1804603682&4294967295,R=I+(S<<7&4294967295|S>>>25),S=V+(w^R&(I^w))+U[13]+4254626195&4294967295,V=R+(S<<12&4294967295|S>>>20),S=w+(I^V&(R^I))+U[14]+2792965006&4294967295,w=V+(S<<17&4294967295|S>>>15),S=I+(R^w&(V^R))+U[15]+1236535329&4294967295,I=w+(S<<22&4294967295|S>>>10),S=R+(w^V&(I^w))+U[1]+4129170786&4294967295,R=I+(S<<5&4294967295|S>>>27),S=V+(I^w&(R^I))+U[6]+3225465664&4294967295,V=R+(S<<9&4294967295|S>>>23),S=w+(R^I&(V^R))+U[11]+643717713&4294967295,w=V+(S<<14&4294967295|S>>>18),S=I+(V^R&(w^V))+U[0]+3921069994&4294967295,I=w+(S<<20&4294967295|S>>>12),S=R+(w^V&(I^w))+U[5]+3593408605&4294967295,R=I+(S<<5&4294967295|S>>>27),S=V+(I^w&(R^I))+U[10]+38016083&4294967295,V=R+(S<<9&4294967295|S>>>23),S=w+(R^I&(V^R))+U[15]+3634488961&4294967295,w=V+(S<<14&4294967295|S>>>18),S=I+(V^R&(w^V))+U[4]+3889429448&4294967295,I=w+(S<<20&4294967295|S>>>12),S=R+(w^V&(I^w))+U[9]+568446438&4294967295,R=I+(S<<5&4294967295|S>>>27),S=V+(I^w&(R^I))+U[14]+3275163606&4294967295,V=R+(S<<9&4294967295|S>>>23),S=w+(R^I&(V^R))+U[3]+4107603335&4294967295,w=V+(S<<14&4294967295|S>>>18),S=I+(V^R&(w^V))+U[8]+1163531501&4294967295,I=w+(S<<20&4294967295|S>>>12),S=R+(w^V&(I^w))+U[13]+2850285829&4294967295,R=I+(S<<5&4294967295|S>>>27),S=V+(I^w&(R^I))+U[2]+4243563512&4294967295,V=R+(S<<9&4294967295|S>>>23),S=w+(R^I&(V^R))+U[7]+1735328473&4294967295,w=V+(S<<14&4294967295|S>>>18),S=I+(V^R&(w^V))+U[12]+2368359562&4294967295,I=w+(S<<20&4294967295|S>>>12),S=R+(I^w^V)+U[5]+4294588738&4294967295,R=I+(S<<4&4294967295|S>>>28),S=V+(R^I^w)+U[8]+2272392833&4294967295,V=R+(S<<11&4294967295|S>>>21),S=w+(V^R^I)+U[11]+1839030562&4294967295,w=V+(S<<16&4294967295|S>>>16),S=I+(w^V^R)+U[14]+4259657740&4294967295,I=w+(S<<23&4294967295|S>>>9),S=R+(I^w^V)+U[1]+2763975236&4294967295,R=I+(S<<4&4294967295|S>>>28),S=V+(R^I^w)+U[4]+1272893353&4294967295,V=R+(S<<11&4294967295|S>>>21),S=w+(V^R^I)+U[7]+4139469664&4294967295,w=V+(S<<16&4294967295|S>>>16),S=I+(w^V^R)+U[10]+3200236656&4294967295,I=w+(S<<23&4294967295|S>>>9),S=R+(I^w^V)+U[13]+681279174&4294967295,R=I+(S<<4&4294967295|S>>>28),S=V+(R^I^w)+U[0]+3936430074&4294967295,V=R+(S<<11&4294967295|S>>>21),S=w+(V^R^I)+U[3]+3572445317&4294967295,w=V+(S<<16&4294967295|S>>>16),S=I+(w^V^R)+U[6]+76029189&4294967295,I=w+(S<<23&4294967295|S>>>9),S=R+(I^w^V)+U[9]+3654602809&4294967295,R=I+(S<<4&4294967295|S>>>28),S=V+(R^I^w)+U[12]+3873151461&4294967295,V=R+(S<<11&4294967295|S>>>21),S=w+(V^R^I)+U[15]+530742520&4294967295,w=V+(S<<16&4294967295|S>>>16),S=I+(w^V^R)+U[2]+3299628645&4294967295,I=w+(S<<23&4294967295|S>>>9),S=R+(w^(I|~V))+U[0]+4096336452&4294967295,R=I+(S<<6&4294967295|S>>>26),S=V+(I^(R|~w))+U[7]+1126891415&4294967295,V=R+(S<<10&4294967295|S>>>22),S=w+(R^(V|~I))+U[14]+2878612391&4294967295,w=V+(S<<15&4294967295|S>>>17),S=I+(V^(w|~R))+U[5]+4237533241&4294967295,I=w+(S<<21&4294967295|S>>>11),S=R+(w^(I|~V))+U[12]+1700485571&4294967295,R=I+(S<<6&4294967295|S>>>26),S=V+(I^(R|~w))+U[3]+2399980690&4294967295,V=R+(S<<10&4294967295|S>>>22),S=w+(R^(V|~I))+U[10]+4293915773&4294967295,w=V+(S<<15&4294967295|S>>>17),S=I+(V^(w|~R))+U[1]+2240044497&4294967295,I=w+(S<<21&4294967295|S>>>11),S=R+(w^(I|~V))+U[8]+1873313359&4294967295,R=I+(S<<6&4294967295|S>>>26),S=V+(I^(R|~w))+U[15]+4264355552&4294967295,V=R+(S<<10&4294967295|S>>>22),S=w+(R^(V|~I))+U[6]+2734768916&4294967295,w=V+(S<<15&4294967295|S>>>17),S=I+(V^(w|~R))+U[13]+1309151649&4294967295,I=w+(S<<21&4294967295|S>>>11),S=R+(w^(I|~V))+U[4]+4149444226&4294967295,R=I+(S<<6&4294967295|S>>>26),S=V+(I^(R|~w))+U[11]+3174756917&4294967295,V=R+(S<<10&4294967295|S>>>22),S=w+(R^(V|~I))+U[2]+718787259&4294967295,w=V+(S<<15&4294967295|S>>>17),S=I+(V^(w|~R))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(w+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+w&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,U=this.C;let w=this.h,V=0;for(;V<R;){if(w==0)for(;V<=I;)l(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<R;)if(U[w++]=N.charCodeAt(V++),w==this.blockSize){l(this,U),w=0;break}}else for(;V<R;)if(U[w++]=N[V++],w==this.blockSize){l(this,U),w=0;break}}this.h=w,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let U=0;U<32;U+=8)N[R++]=this.g[I]>>>U&255;return N};function u(N,R){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function d(N,R){this.h=R;const I=[];let U=!0;for(let w=N.length-1;w>=0;w--){const V=N[w]|0;U&&V==R||(I[w]=V,U=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?u(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return $(_(-N));const R=[];let I=1;for(let U=0;N>=I;U++)R[U]=N/I|0,I*=4294967296;return new d(R,0)}function T(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return $(T(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(R,8));let U=A;for(let V=0;V<N.length;V+=8){var w=Math.min(8,N.length-V);const S=parseInt(N.substring(V,V+w),R);w<8?(w=_(Math.pow(R,w)),U=U.j(w).add(_(S))):(U=U.j(I),U=U.add(_(S)))}return U}var A=y(0),x=y(1),q=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-$(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const U=this.i(I);N+=(U>=0?U:4294967296+U)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(W(this))return"-"+$(this).toString(N);const R=_(Math.pow(N,6));var I=this;let U="";for(;;){const w=pt(I,R).g;I=lt(I,w.j(R));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=w,J(I))return V+U;for(;V.length<6;)V="0"+V;U=V+U}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=lt(this,N),W(N)?-1:J(N)?0:1};function $(N){const R=N.g.length,I=[];for(let U=0;U<R;U++)I[U]=~N.g[U];return new d(I,~N.h).add(x)}s.abs=function(){return W(this)?$(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let U=0;for(let w=0;w<=R;w++){let V=U+(this.i(w)&65535)+(N.i(w)&65535),S=(V>>>16)+(this.i(w)>>>16)+(N.i(w)>>>16);U=S>>>16,V&=65535,S&=65535,I[w]=S<<16|V}return new d(I,I[I.length-1]&-2147483648?-1:0)};function lt(N,R){return N.add($(R))}s.j=function(N){if(J(this)||J(N))return A;if(W(this))return W(N)?$(this).j($(N)):$($(this).j(N));if(W(N))return $(this.j($(N)));if(this.l(q)<0&&N.l(q)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var U=0;U<2*R;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(let w=0;w<N.g.length;w++){const V=this.i(U)>>>16,S=this.i(U)&65535,mt=N.i(w)>>>16,Nt=N.i(w)&65535;I[2*U+2*w]+=S*Nt,ct(I,2*U+2*w),I[2*U+2*w+1]+=V*Nt,ct(I,2*U+2*w+1),I[2*U+2*w+1]+=S*mt,ct(I,2*U+2*w+1),I[2*U+2*w+2]+=V*mt,ct(I,2*U+2*w+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new d(I,0)};function ct(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function at(N,R){this.g=N,this.h=R}function pt(N,R){if(J(R))throw Error("division by zero");if(J(N))return new at(A,A);if(W(N))return R=pt($(N),R),new at($(R.g),$(R.h));if(W(R))return R=pt(N,$(R)),new at($(R.g),R.h);if(N.g.length>30){if(W(N)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var I=x,U=R;U.l(N)<=0;)I=Pt(I),U=Pt(U);var w=At(I,1),V=At(U,1);for(U=At(U,2),I=At(I,2);!J(U);){var S=V.add(U);S.l(N)<=0&&(w=w.add(I),V=S),U=At(U,1),I=At(I,1)}return R=lt(N,w.j(R)),new at(w,R)}for(w=A;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),V=_(I),S=V.j(R);W(S)||S.l(N)>0;)I-=U,V=_(I),S=V.j(R);J(V)&&(V=x),w=w.add(V),N=lt(N,S)}return new at(w,N)}s.B=function(N){return pt(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let U=0;U<R;U++)I[U]=this.i(U)&N.i(U);return new d(I,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let U=0;U<R;U++)I[U]=this.i(U)|N.i(U);return new d(I,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let U=0;U<R;U++)I[U]=this.i(U)^N.i(U);return new d(I,this.h^N.h)};function Pt(N){const R=N.g.length+1,I=[];for(let U=0;U<R;U++)I[U]=N.i(U)<<1|N.i(U-1)>>>31;return new d(I,N.h)}function At(N,R){const I=R>>5;R%=32;const U=N.g.length-I,w=[];for(let V=0;V<U;V++)w[V]=R>0?N.i(V+I)>>>R|N.i(V+I+1)<<32-R:N.i(V+I);return new d(w,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_E=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Ws=d}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vE,Il,EE,Qc,pm,TE,bE,AE;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break t;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=y,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,H){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(b,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function J(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const H=L.length||0;c.length=v+H;for(let et=0;et<H;et++)c[v+et]=L[et]}else c.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(c){d.setTimeout(()=>{throw c},0)}function lt(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,v){const b=at.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new W(()=>new pt,c=>c.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,At=!1,N=new ct,R=()=>{const c=Promise.resolve(void 0);Pt=()=>{c.then(I)}};function I(){for(var c;c=lt();){try{c.h.call(c.g)}catch(v){$(v)}var m=at;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}At=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function mt(c,m){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(mt,w),mt.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),B=0;function tt(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++B,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ct(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Ft(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let H=0;H<K.length;H++)v=K[H],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,b,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const et=Rt(c,m,b,L);return et>-1?(m=c[et],v||(m.fa=!1)):(m=new tt(m,this.src,H,!!b,L),m.fa=v,c.push(m)),m};function vt(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(ht(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,b){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return L}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Me={};function ae(c,m,v,b,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ae(c,m[H],v,b,L);return null}return v=bo(v),c&&c[Nt]?c.J(m,v,p(b)?!!b.capture:!1,L):hr(c,m,v,!1,b,L)}function hr(c,m,v,b,L,H){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let St=fr(c);if(St||(c[jt]=St=new st(c)),v=St.add(m,v,b,et,H),v.proxy)return v;if(b=aa(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)V||(L=et),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(ri(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function aa(){function c(v){return m.call(c.src,c.listener,v)}const m=Eo;return c}function oa(c,m,v,b,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)oa(c,m[H],v,b,L);else b=p(b)?!!b.capture:!!b,v=bo(v),c&&c[Nt]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],v=Rt(m,v,b,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=fr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,b,L)),(v=c>-1?m[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Nt])vt(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(ri(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=fr(m))?(vt(v,c),v.h==0&&(v.src=null,m[jt]=null)):ht(c)}}}function ri(c){return c in Me?Me[c]:Me[c]="on"+c}function Eo(c,m){if(c.da)c=!0;else{m=new mt(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&la(c),c=v.call(b,m)}return c}function fr(c){return c=c[jt],c instanceof st?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function Te(){U.call(this),this.i=new st(this),this.M=this,this.G=null}A(Te,U),Te.prototype[Nt]=!0,Te.prototype.removeEventListener=function(c,m,v,b){oa(this,c,m,v,b)};function Ve(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new w(m,c);else if(m instanceof w)m.target=m.target||c;else{var L=m;m=new w(b,c),nt(m,L)}L=!0;let H,et;if(v)for(et=v.length-1;et>=0;et--)H=m.g=v[et],L=hs(H,b,!0,m)&&L;if(H=m.g=c,L=hs(H,b,!0,m)&&L,L=hs(H,b,!1,m)&&L,v)for(et=0;et<v.length;et++)H=m.g=v[et],L=hs(H,b,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete c.g[m],c.h--}}this.G=null},Te.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Te.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function hs(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const et=m[H];if(et&&!et.da&&et.capture==v){const St=et.listener,ge=et.ha||et.src;et.fa&&vt(c.i,et),L=St.call(ge,b)!==!1&&L}}return L&&!b.defaultPrevented}function Fh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function ou(c){c.g=Fh(()=>{c.g=null,c.i&&(c.i=!1,ou(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends U{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(c){U.call(this),this.h=c,this.g={}}A(dr,U);var Ao=[];function So(c){Ct(c.g,function(m,v){this.g.hasOwnProperty(v)&&la(m)},c),c.g={}}dr.prototype.N=function(){dr.Z.N.call(this),So(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,Gh=d.JSON.parse,lu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function uu(){}function cu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){w.call(this,"d")}A(qe,w);function Cn(){w.call(this,"c")}A(Cn,w);var pe={},hu=null;function ua(){return hu=hu||new Te}pe.Ia="serverreachability";function fu(c){w.call(this,pe.Ia,c)}A(fu,w);function ai(c){const m=ua();Ve(m,new fu(m))}pe.STAT_EVENT="statevent";function mr(c,m){w.call(this,pe.STAT_EVENT,c),this.stat=m}A(mr,w);function be(c){const m=ua();Ve(m,new mr(m,c))}pe.Ja="timingevent";function oi(c,m){w.call(this,pe.Ja,c),this.size=m}A(oi,w);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Qh(c,m,v,b,L,H){c.info(function(){if(c.g)if(H){var et="",St=H.split("&");for(let Gt=0;Gt<St.length;Gt++){var ge=St[Gt].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const On=oe.split("_");et=On.length>=2&&On[1]=="type"?et+(oe+"="+ge+"&"):et+(oe+"=redacted&")}}}else et=null;else et=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function du(c,m,v,b,L,H,et){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+et})}function ui(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(c,v)+(b?" "+b:"")})}function pr(c,m){c.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function Kh(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return fs(H)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function yr(){}A(yr,uu),yr.prototype.g=function(){return new XMLHttpRequest},Ro=new yr;function zi(c){return encodeURIComponent(String(c))}function mu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Qn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ae={},Le={};function ci(c,m,v){c.M=1,c.A=_r(we(m)),c.u=v,c.R=!0,ca(c,null)}function ca(c,m){c.F=Date.now(),hi(c),c.B=we(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ma(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Kn,c.g=Nu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ao[0]=L.toString()),L=Ao);for(let H=0;H<L.length;H++){const et=ae(v,L[H],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),Qh(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&$n(c)==3?m.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const St=$n(this.g),ge=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||St!=4||ge==7||(ge==8||Gt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(b)){var H=b;break e}}H=null}if(c=H)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,be(12),gn(this),Nn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=gu(this,v),oe==Le){St==4&&(this.m=4,be(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ae){this.m=4,be(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,oe,null),di(this,oe);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(et),et.P=!0,be(11))}}else ui(this.i,this.l,v,null),di(this,v);St==4&&gn(this),this.o&&!this.K&&(St==4?wu(this.j,this):(this.o=!1,hi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),gn(this),Nn(this)}}}catch{}};function Yh(c){if(!pu(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const b=m.length,L=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Nn(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<b;H++)c.h.h=!0,v+=c.h.i.decode(m[H],{stream:!(L&&H==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function gu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Le:(v=Number(m.substring(v,b)),isNaN(v)?Ae:(b+=1,b+v>m.length?Le:(m=m.slice(b,b+v),c.C=b+v,m)))}Qn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(_(c.aa,c),m)}function fi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ai(),be(17)),gn(this),this.m=2,Nn(this)):ha(this,this.T-c)};function Nn(c){c.j.I==0||c.K||wu(c.j,c)}function gn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,So(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),Es(v);else break t;wr(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(_(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&va(v),!S(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const On=Gt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const bi=Gt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Zn=Gt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(b=1.5*Zn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Jn=c.g;if(Jn){const Rr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var H=b.h;H.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(No(H,H.h),H.h=null))}if(b.G){const Ea=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,Yt(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=c;if(b.na=Cu(b,b.L?b.ba:null,b.W),et.L){Do(b.h,et);var St=et,ge=b.O;ge&&(St.H=ge),St.D&&(fi(St),hi(St)),b.g=et}else Au(b);v.i.length>0&&Ei(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ti(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ti(v,7):zo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ai(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function Io(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function No(c,m){c.g?c.g.add(m):c.h=m}function Do(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Io.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return q(c.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,H=null;b>=0?(L=c[v].substring(0,b),H=c[v].substring(b+1)):L=c[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.u),this.h=c.h,Oo(this,Tu(c.i)),this.m=c.m):c&&(m=String(c).match(yu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ds(this,m[4]),this.h=gi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(vr(m,da,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(vr(m,da,!0),"@"),c.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vr(v,v.charAt(0)=="/"?Mo:_u,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vr(v,vu)),c.join("")},yn.prototype.resolve=function(c){const m=we(this);let v=!!c.j;v?Pe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)ds(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?b&&et==L.length&&H.push(""):St==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&et==L.length&&H.push("")):(H.push(St),b=!0)}b=H.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?Oo(m,Tu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function we(c){return new yn(c)}function Pe(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Oo(c,m,v){m instanceof ps?(c.i=m,pa(c.i,c.l)):(v||(m=vr(m,ms)),c.i=new ps(m,c.l))}function Yt(c,m,v){c.i.set(m,v)}function _r(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,_u=/[#\?:]/g,Mo=/[#\?]/g,ms=/[#\?@]/g,vu=/#/g;function ps(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(c,m){ln(this),this.i=null,c=gs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Eu(c,m){ln(c),m=gs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return ln(c),m=gs(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function Uo(c,m){ln(c);let v=[];if(typeof m=="string")Vo(c,m)&&(v=v.concat(c.g.get(gs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=gs(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Uo(this,c),c.length>0?String(c[0]):m):m};function ma(c,m,v){Eu(c,m),v.length>0&&(c.i=null,c.g.set(gs(c,m),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=zi(v);v=Uo(this,v);for(let H=0;H<v.length;H++){let et=L;v[H]!==""&&(et+="="+zi(v[H])),c.push(et)}}return this.i=c.join("&")};function Tu(c){const m=new ps;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function gs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function pa(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Eu(this,b),ma(this,L,v))},c)),c.j=m}function Yn(c,m){const v=new Gn;if(d.Image){const b=new Image;b.onload=T(Dn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Dn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Dn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Dn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function ko(c,m){const v=new Gn,b=new AbortController,L=setTimeout(()=>{b.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(v,"TestPingServer: error",!1,m)})}function Dn(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ys(){this.g=new lu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(yi,uu),yi.prototype.g=function(){return new Er(this.i,this.h)};function Er(c,m){Te.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Er,Te),s=Er.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Xn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?_s(this):Xn(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,_s(this))},s.Na=function(c){this.g&&(this.response=c,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let m="";return Ct(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Tr(c,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=xn(v),typeof c=="string"?v!=null&&zi(v):Yt(c,m,v))}function Zt(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,Te);var _i=/^https?$/i,Lo=["POST","PUT"];s=Zt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){br(this,H);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of v)this.g.setRequestHeader(H,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){br(this,H)}};function br(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Po(c),ji(c)}function Po(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),$n(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let et=String(c.D).match(yu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!_i.test(et?et.toLowerCase():"")}v=b}if(v)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var L=$n(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Po(c)}}finally{ji(c)}}}}function ji(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ve(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}s.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Gh(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const m={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(S(c[b]))continue;var v=mu(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Ft(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function vs(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){be(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Cu(this,null,this.W),Ei(this)};function zo(c){if(ya(c),c.I==3){var m=c.V++,v=we(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Sr(c,v),m=new Qn(c,c.j,m),m.M=2,m.A=_r(we(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Iu(c)}function Es(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function ya(c){Es(c),c.v&&(d.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;Pt||R(),At||(Pt(),At=!0),N.add(m,c),c.D=0}}function _a(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(_(c.Ea,c,m),Ru(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Qn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),nt(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=bu(this,L,m),v=we(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),H&&(this.R?m="headers="+zi(xn(H))+"&"+m:this.u&&Tr(v,this.u,H)),No(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Co(this.h)||jo(this))};function jo(c,m){var v;m?v=m.l:v=c.V++;const b=we(c.J);Yt(b,"SID",c.M),Yt(b,"RID",v),Yt(b,"AID",c.K),Sr(c,b),c.u&&c.o&&Tr(b,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),No(c.h,v),ci(v,b,m)}function Sr(c,m){c.H&&Ct(c.H,function(v,b){Yt(m,b,v)}),c.l&&Ct({},function(v,b){Yt(m,b,v)})}function bu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?_(c.l.Ka,c.l,c):null;t:{var L=c.i;let St=-1;for(;;){const ge=["count="+v];St==-1?v>0?(St=L[0].g,ge.push("ofs="+St)):St=0:ge.push("ofs="+St);let Gt=!0;for(let oe=0;oe<v;oe++){var H=L[oe].g;const On=L[oe].map;if(H-=St,H<0)St=Math.max(0,L[oe].g-100),Gt=!1;else try{H="req"+H+"_"||"";try{var et=On instanceof Map?On:Object.entries(On);for(const[bi,Zn]of et){let Jn=Zn;p(Zn)&&(Jn=fs(Zn)),ge.push(H+bi+"="+encodeURIComponent(Jn))}}catch(bi){throw ge.push(H+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(On)}}if(Gt){et=ge.join("&");break t}}et=void 0}return c=c.i.splice(0,v),m.G=c,et}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Pt||R(),At||(Pt(),At=!0),N.add(m,c),c.A=0}}function wr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(_(c.Da,c),Ru(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Es(this),Su(this))};function Bo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Su(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=we(c.na);Yt(m,"RID","rpc"),Yt(m,"SID",c.M),Yt(m,"AID",c.K),Yt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(m,"TO",c.ia),Yt(m,"TYPE","xmlhttp"),Sr(c,m),c.u&&c.o&&Tr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_r(we(m)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),wr(this),be(19))};function va(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function wu(c,m){var v=null;if(c.g==m){va(c),Bo(c),c.g=null;var b=2}else if(pi(c.h,m))v=m.G,Do(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=ua(),Ve(b,new oi(b,v)),Ei(c)}else Au(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&_a(c,m)||b==2&&wr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Ru(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),b=c.Ua;const L=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(b,"https"),_r(b),L?Yn(b.toString(),v):ko(b.toString(),v)}else be(2);c.I=0,c.l&&c.l.pa(m),Iu(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const m=xo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Cu(c,m,v){var b=v instanceof yn?we(v):new yn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ds(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new yn(null);b&&Pe(H,b),m&&(H.g=m),L&&ds(H,L),v&&(H.h=v),b=H}return v=c.G,m=c.wa,v&&m&&Yt(b,v,m),Yt(b,"VER",c.ka),Sr(c,b),b}function Nu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Zt(new yi({ab:v})):new Zt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){Te.call(this),this.g=new vs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!S(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new qi(this)}A(sn,Te),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){zo(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fs(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&Ei(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,sn.Z.N.call(this)};function xu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(xu,qe);function Ou(){Cn.call(this),this.status=1}A(Ou,Cn);function qi(c){this.g=c}A(qi,Du),qi.prototype.ra=function(){Ve(this.g,"a")},qi.prototype.qa=function(c){Ve(this.g,new xu(c))},qi.prototype.pa=function(c){Ve(this.g,new Ou)},qi.prototype.oa=function(){Ve(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,AE=function(){return new Ts},bE=function(){return ua()},TE=pe,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Qc=gr,wo.COMPLETE="complete",EE=wo,cu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Il=cu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,vE=Zt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",xv="4.9.3";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let mo="12.7.0";const Zr=new qm("@firebase/firestore");function $a(){return Zr.logLevel}function rt(s,...t){if(Zr.logLevel<=Ut.DEBUG){const n=t.map(Gm);Zr.debug(`Firestore (${mo}): ${s}`,...n)}}function ls(s,...t){if(Zr.logLevel<=Ut.ERROR){const n=t.map(Gm);Zr.error(`Firestore (${mo}): ${s}`,...n)}}function ao(s,...t){if(Zr.logLevel<=Ut.WARN){const n=t.map(Gm);Zr.warn(`Firestore (${mo}): ${s}`,...n)}}function Gm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,SE(s,r,n)}function SE(s,t,n){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ls(r),new Error(r)}function Kt(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||SE(t,l,r)}function bt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Pi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class wE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class gw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yw{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new wE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class _w{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vw{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new _w(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ew{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ov(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Tw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Qm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Tw(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function kt(s,t){return s<t?-1:s>t?1:0}function gm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return tm(l)===tm(u)?kt(l,u):tm(l)?1:-1}return kt(s.length,t.length)}const bw=55296,Aw=57343;function tm(s){const t=s.charCodeAt(0);return t>=bw&&t<=Aw}function oo(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const Mv="__name__";class Ii{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=Ii.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const r=Ii.isNumericId(t),l=Ii.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(n)):gm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class ne extends Ii{construct(t,n,r){return new ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const Sw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ii{construct(t,n,r){return new Xe(t,n,r)}static isValidIdentifier(t){return Sw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new Xe([Mv])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function RE(s,t,n){if(!n)throw new it(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function ww(s,t,n,r){if(t===!0&&r===!0)throw new it(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Vv(s){if(!dt.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Uv(s){if(dt.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function IE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Di(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(s);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Oe(s,t){const n={typeString:s};return t&&(n.value=t),n}function Jl(s,t){if(!IE(s))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new it(X.INVALID_ARGUMENT,n);return!0}const kv=-62135596800,Lv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Lv);return new re(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kv)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function Rw(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new re(n+1,0):new re(n,r));return new nr(l,dt.empty(),t)}function Iw(s){return new nr(s.readTime,s.key,Bl)}class nr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(Et.min(),dt.empty(),Bl)}static max(){return new nr(Et.max(),dt.empty(),Bl)}}function Cw(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(s.documentKey,t.documentKey),n!==0?n:kt(s.largestBatchId,t.largestBatchId))}const Nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function po(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Nw)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,r)=>{n(t)}))}static reject(t){return new Z(((n,r)=>{r(t)}))}static waitFor(t){return new Z(((n,r)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(y=>r(y)))})),d=!0,u===l&&n()}))}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next((l=>l?Z.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new Z(((r,l)=>{const u=t.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next((T=>{d[_]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new Z(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function xw(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const Km=-1;function wh(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function Ow(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const CE="";function Mw(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Pv(t)),t=Vw(s.get(n),t);return Pv(t)}function Vw(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case CE:n+="";break;default:n+=u}}return n}function Pv(s){return s+CE+""}function zv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function ur(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function NE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Ye.RED,this.left=l??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Ye(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(t){return new jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new ke(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new DE("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const Uw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Kt(!!s,39018),typeof s=="string"){let t=0;const n=Uw.exec(s);if(Kt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?$e.fromBase64String(s):$e.fromUint8Array(s)}const xE="server_timestamp",OE="__type__",ME="__previous_value__",VE="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[OE]?.stringValue===xE}function Rh(s){const t=s.mapValue.fields[ME];return Ym(t)?Rh(t):t}function ql(s){const t=ir(s.mapValue.fields[VE].timestampValue);return new re(t.seconds,t.nanos)}class kw{constructor(t,n,r,l,u,d,p,y,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const ah="(default)";class Hl{constructor(t,n){this.projectId=t,this.database=n||ah}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}const UE="__type__",Lw="__max__",Pc={mapValue:{}},kE="__vector__",oh="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:zw(s)?9007199254740991:Pw(s)?10:11:yt(28295,{value:s})}function ki(s,t){if(s===t)return!0;const n=rr(s);if(n!==rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ql(s).isEqual(ql(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ir(l.timestampValue),p=ir(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return sr(l.bytesValue).isEqual(sr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ve(l.doubleValue),p=ve(u.doubleValue);return d===p?rh(d)===rh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return oo(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(zv(d)!==zv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ki(d[y],p[y])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Fl(s,t){return(s.values||[]).find((n=>ki(n,t)))!==void 0}function lo(s,t){if(s===t)return 0;const n=rr(s),r=rr(t);if(n!==r)return kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ve(u.integerValue||u.doubleValue),y=ve(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Bv(s.timestampValue,t.timestampValue);case 4:return Bv(ql(s),ql(t));case 5:return gm(s.stringValue,t.stringValue);case 6:return(function(u,d){const p=sr(u),y=sr(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const T=kt(p[_],y[_]);if(T!==0)return T}return kt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=kt(ve(u.latitude),ve(d.latitude));return p!==0?p:kt(ve(u.longitude),ve(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return qv(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},y=d.fields||{},_=p[oh]?.arrayValue,T=y[oh]?.arrayValue,A=kt(_?.values?.length||0,T?.values?.length||0);return A!==0?A:qv(_,T)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Pc.mapValue&&d===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const x=gm(y[A],T[A]);if(x!==0)return x;const q=lo(p[y[A]],_[T[A]]);if(q!==0)return q}return kt(y.length,T.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Bv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return kt(s,t);const n=ir(s),r=ir(t),l=kt(n.seconds,r.seconds);return l!==0?l:kt(n.nanos,r.nanos)}function qv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=lo(n[l],r[l]);if(u)return u}return kt(n.length,r.length)}function uo(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return sr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return dt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=ym(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${ym(n.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Kc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(s);return t?16+Kc(t):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Kc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ur(r.fields,((u,d)=>{l+=u.length+Kc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function Hv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function Fv(s){return!!s&&"nullValue"in s}function Gv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function Pw(s){return(s?.mapValue?.fields||{})[UE]?.stringValue===kE}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ur(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Ol(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ol(s.arrayValue.values[n]);return t}return{...s}}function zw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Lw}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Yc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(n)}setAll(t){let n=Xe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Ol(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){ur(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new pn(Ol(this.value))}}function LE(s){const t=[];return ur(s.fields,((n,r)=>{const l=new Xe([n]);if(Yc(r)){const u=LE(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Rn(t)}class tn{constructor(t,n,r,l,u,d,p){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,Et.min(),Et.min(),Et.min(),pn.empty(),0)}static newFoundDocument(t,n,r,l){return new tn(t,1,n,Et.min(),r,l,0)}static newNoDocument(t,n){return new tn(t,2,n,Et.min(),Et.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,Et.min(),Et.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(t,n){this.position=t,this.inclusive=n}}function Qv(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),n.key):r=lo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],t.position[n]))return!1;return!0}class Gl{constructor(t,n="asc"){this.field=t,this.dir=n}}function jw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class PE{}class xe extends PE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new qw(t,n,r):n==="array-contains"?new Gw(t,r):n==="in"?new Qw(t,r):n==="not-in"?new Kw(t,r):n==="array-contains-any"?new Yw(t,r):new xe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Hw(t,r):new Fw(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends PE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new si(t,n)}matches(t){return zE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zE(s){return s.op==="and"}function jE(s){return Bw(s)&&zE(s)}function Bw(s){for(const t of s.filters)if(t instanceof si)return!1;return!0}function vm(s){if(s instanceof xe)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(jE(s))return s.filters.map((t=>vm(t))).join(",");{const t=s.filters.map((n=>vm(n))).join(",");return`${s.op}(${t})`}}function BE(s,t){return s instanceof xe?(function(r,l){return l instanceof xe&&r.op===l.op&&r.field.isEqual(l.field)&&ki(r.value,l.value)})(s,t):s instanceof si?(function(r,l){return l instanceof si&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&BE(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function qE(s){return s instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(s):s instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(qE).join(" ,")+"}"})(s):"Filter"}class qw extends xe{constructor(t,n,r){super(t,n,r),this.key=dt.fromName(r.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Hw extends xe{constructor(t,n){super(t,"in",n),this.keys=HE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Fw extends xe{constructor(t,n){super(t,"not-in",n),this.keys=HE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function HE(s,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class Gw extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Xm(n)&&Fl(n.arrayValue,this.value)}}class Qw extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class Kw extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class Yw extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fl(this.value.arrayValue,r)))}}class Xw{constructor(t,n=null,r=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function Yv(s,t=null,n=[],r=[],l=null,u=null,d=null){return new Xw(s,t,n,r,l,u,d)}function $m(s){const t=bt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>vm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),wh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>uo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>uo(r))).join(",")),t.Te=n}return t.Te}function Zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!jw(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!BE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Kv(s.startAt,t.startAt)&&Kv(s.endAt,t.endAt)}function Em(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yo{constructor(t,n=null,r=[],l=[],u=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $w(s,t,n,r,l,u,d,p){return new yo(s,t,n,r,l,u,d,p)}function Jm(s){return new yo(s)}function Xv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function FE(s){return s.collectionGroup!==null}function Ml(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ke(Xe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Gl(u,r))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Gl(Xe.keyField(),r))}return t.Ie}function xi(s){const t=bt(s);return t.Ee||(t.Ee=Zw(t,Ml(s))),t.Ee}function Zw(s,t){if(s.limitType==="F")return Yv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Gl(l.field,u)}));const n=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return Yv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Tm(s,t){const n=s.filters.concat([t]);return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function bm(s,t,n){return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Ih(s,t){return Zm(xi(s),xi(t))&&s.limitType===t.limitType}function GE(s){return`${$m(xi(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>qE(l))).join(", ")}]`),wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>uo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>uo(l))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function Ch(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):dt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Ml(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=Qv(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Ml(r),l)||r.endAt&&!(function(d,p,y){const _=Qv(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Ml(r),l))})(s,t)}function Jw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function QE(s){return(t,n)=>{let r=!1;for(const l of Ml(s)){const u=Ww(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function Ww(s,t,n){const r=s.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,d,p){const y=d.data.field(u),_=p.data.field(u);return y!==null&&_!==null?lo(y,_):yt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return NE(this.inner)}size(){return this.innerSize}}const tR=new ue(dt.comparator);function us(){return tR}const KE=new ue(dt.comparator);function Cl(...s){let t=KE;for(const n of s)t=t.insert(n.key,n);return t}function YE(s){let t=KE;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Hr(){return Vl()}function XE(){return Vl()}function Vl(){return new ia((s=>s.toString()),((s,t)=>s.isEqual(t)))}const eR=new ue(dt.comparator),nR=new ke(dt.comparator);function Lt(...s){let t=nR;for(const n of s)t=t.add(n);return t}const iR=new ke(kt);function sR(){return iR}function Wm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function $E(s){return{integerValue:""+s}}function rR(s,t){return Ow(t)?$E(t):Wm(s,t)}class Nh{constructor(){this._=void 0}}function aR(s,t,n){return s instanceof Ql?(function(l,u){const d={fields:{[OE]:{stringValue:xE},[VE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Ym(u)&&(u=Rh(u)),u&&(d.fields[ME]=u),{mapValue:d}})(n,t):s instanceof Kl?JE(s,t):s instanceof Yl?WE(s,t):(function(l,u){const d=ZE(l,u),p=$v(d)+$v(l.Ae);return _m(d)&&_m(l.Ae)?$E(p):Wm(l.serializer,p)})(s,t)}function oR(s,t,n){return s instanceof Kl?JE(s,t):s instanceof Yl?WE(s,t):n}function ZE(s,t){return s instanceof uh?(function(r){return _m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Ql extends Nh{}class Kl extends Nh{constructor(t){super(),this.elements=t}}function JE(s,t){const n=tT(t);for(const r of s.elements)n.some((l=>ki(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Yl extends Nh{constructor(t){super(),this.elements=t}}function WE(s,t){let n=tT(t);for(const r of s.elements)n=n.filter((l=>!ki(l,r)));return{arrayValue:{values:n}}}class uh extends Nh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function $v(s){return ve(s.integerValue||s.doubleValue)}function tT(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class lR{constructor(t,n){this.field=t,this.transform=n}}function uR(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Kl&&l instanceof Kl||r instanceof Yl&&l instanceof Yl?oo(r.elements,l.elements,ki):r instanceof uh&&l instanceof uh?ki(r.Ae,l.Ae):r instanceof Ql&&l instanceof Ql})(s.transform,t.transform)}class cR{constructor(t,n){this.version=t,this.transformResults=n}}class Hn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Dh{}function eT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new tp(s.key,Hn.none()):new Wl(s.key,s.data,Hn.none());{const n=s.data,r=pn.empty();let l=new ke(Xe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new cr(s.key,r,new Rn(l.toArray()),Hn.none())}}function hR(s,t,n){s instanceof Wl?(function(l,u,d){const p=l.value.clone(),y=Jv(l.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,n):s instanceof cr?(function(l,u,d){if(!Xc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=Jv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(nT(l)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Ul(s,t,n,r){return s instanceof Wl?(function(u,d,p,y){if(!Xc(u.precondition,d))return p;const _=u.value.clone(),T=Wv(u.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,n,r):s instanceof cr?(function(u,d,p,y){if(!Xc(u.precondition,d))return p;const _=Wv(u.fieldTransforms,y,d),T=d.data;return T.setAll(nT(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,n,r):(function(u,d,p){return Xc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,n)}function fR(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=ZE(r.transform,l||null);u!=null&&(n===null&&(n=pn.empty()),n.set(r.field,u))}return n||null}function Zv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&oo(r,l,((u,d)=>uR(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Wl extends Dh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cr extends Dh{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nT(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function Jv(s,t,n){const r=new Map;Kt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=t.data.field(u.field);r.set(u.field,oR(d,p,n[l]))}return r}function Wv(s,t,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,aR(u,d,t))}return r}class tp extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mR{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&hR(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ul(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ul(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=XE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const y=eT(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((n,r)=>Zv(n,r)))&&oo(this.baseMutations,t.baseMutations,((n,r)=>Zv(n,r)))}}class ep{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return eR})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new ep(t,n,r,l)}}class pR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gR{constructor(t,n){this.count=t,this.unchangedNames=n}}var De,Bt;function yR(s){switch(s){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function iT(s){if(s===void 0)return ls("GRPC error has no .code"),X.UNKNOWN;switch(s){case De.OK:return X.OK;case De.CANCELLED:return X.CANCELLED;case De.UNKNOWN:return X.UNKNOWN;case De.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case De.INTERNAL:return X.INTERNAL;case De.UNAVAILABLE:return X.UNAVAILABLE;case De.UNAUTHENTICATED:return X.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case De.NOT_FOUND:return X.NOT_FOUND;case De.ALREADY_EXISTS:return X.ALREADY_EXISTS;case De.PERMISSION_DENIED:return X.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case De.ABORTED:return X.ABORTED;case De.OUT_OF_RANGE:return X.OUT_OF_RANGE;case De.UNIMPLEMENTED:return X.UNIMPLEMENTED;case De.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:s})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function _R(){return new TextEncoder}const vR=new Ws([4294967295,4294967295],0);function t0(s){const t=_R().encode(s),n=new _E;return n.update(t),new Uint8Array(n.digest())}function e0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ws([n,r],0),new Ws([l,u],0)]}class np{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ws.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Ws.fromNumber(r)));return l.compare(vR)===1&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=t0(t),[r,l]=e0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new np(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=t0(t),[r,l]=e0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xh(Et.min(),l,new ue(kt),us(),Lt())}}class tu{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new tu(r,n,Lt(),Lt(),Lt())}}class $c{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class sT{constructor(t,n){this.targetId=t,this.Ce=n}}class rT{constructor(t,n,r=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class n0{constructor(){this.ve=0,this.Fe=i0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),r=Lt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:u})}})),new tu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=i0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ER{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.Je=zc(),this.He=zc(),this.Ye=new ue(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Em(u))if(r===0){const d=new dt(u.path);this.et(n,d,tn.newNoDocument(d,Et.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=sr(r).toUint8Array()}catch(y){if(y instanceof DE)return ao("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new np(d,l,u)}catch(y){return ao(y instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Em(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=Lt();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new xh(t,n,this.Ye,this.je,r);return this.je=us(),this.Je=zc(),this.He=zc(),this.Ye=new ue(kt),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new n0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new n0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function zc(){return new ue(dt.comparator)}function i0(){return new ue(dt.comparator)}const TR={asc:"ASCENDING",desc:"DESCENDING"},bR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class SR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Am(s,t){return s.useProto3Json||wh(t)?t:{value:t}}function ch(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function wR(s,t){return ch(s,t.toTimestamp())}function Oi(s){return Kt(!!s,49232),Et.fromTimestamp((function(n){const r=ir(n);return new re(r.seconds,r.nanos)})(s))}function ip(s,t){return Sm(s,t).canonicalString()}function Sm(s,t){const n=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function oT(s){const t=ne.fromString(s);return Kt(fT(t),10190,{key:t.toString()}),t}function wm(s,t){return ip(s.databaseId,t.path)}function em(s,t){const n=oT(t);if(n.get(1)!==s.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new dt(uT(n))}function lT(s,t){return ip(s.databaseId,t)}function RR(s){const t=oT(s);return t.length===4?ne.emptyPath():uT(t)}function Rm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function uT(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function s0(s,t,n){return{name:wm(s,t),fields:n.value.mapValue.fields}}function IR(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Kt(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?X.UNKNOWN:iT(_.code);return new it(T,_.message||"")})(d);n=new rT(r,l,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=em(s,r.document.name),u=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):Et.min(),p=new pn({mapValue:{fields:r.document.fields}}),y=tn.newFoundDocument(l,u,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];n=new $c(_,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=em(s,r.document),u=r.readTime?Oi(r.readTime):Et.min(),d=tn.newNoDocument(l,u),p=r.removedTargetIds||[];n=new $c([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=em(s,r.document),u=r.removedTargetIds||[];n=new $c([],u,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new gR(l,u),p=r.targetId;n=new sT(p,d)}}return n}function CR(s,t){let n;if(t instanceof Wl)n={update:s0(s,t.key,t.value)};else if(t instanceof tp)n={delete:wm(s,t.key)};else if(t instanceof cr)n={update:s0(s,t.key,t.data),updateMask:LR(t.fieldMask)};else{if(!(t instanceof dR))return yt(16599,{Vt:t.type});n={verify:wm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:wR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(s,t.precondition)),n}function NR(s,t){return s&&s.length>0?(Kt(t!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Et.min())&&(d=Oi(u)),new cR(d,l.transformResults||[])})(n,t)))):[]}function DR(s,t){return{documents:[lT(s,t.path)]}}function xR(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lT(s,l);const u=(function(_){if(_.length!==0)return hT(si.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(x){return{field:Ja(x.field),direction:VR(x.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Am(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function OR(s){let t=RR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Kt(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const x=cT(A);return x instanceof si&&jE(x)?x.getFilters():[x]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((x=>(function(J){return new Gl(Wa(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let x;return x=typeof A=="object"?A.value:A,wh(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(A){const x=!!A.before,q=A.values||[];return new lh(q,x)})(n.startAt));let _=null;return n.endAt&&(_=(function(A){const x=!A.before,q=A.values||[];return new lh(q,x)})(n.endAt)),$w(t,l,d,u,p,"F",y,_)}function MR(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(n.unaryFilter.field);return xe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(n.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return xe.create(Wa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((r=>cT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(s):yt(30097,{filter:s})}function VR(s){return TR[s]}function UR(s){return bR[s]}function kR(s){return AR[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Wa(s){return Xe.fromServerFormat(s.fieldPath)}function hT(s){return s instanceof xe?(function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Fv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Fv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:UR(n.op),value:n.value}}})(s):s instanceof si?(function(n){const r=n.getFilters().map((l=>hT(l)));return r.length===1?r[0]:{compositeFilter:{op:kR(n.op),filters:r}}})(s):yt(54877,{filter:s})}function LR(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function fT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class $s{constructor(t,n,r,l,u=Et.min(),d=Et.min(),p=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PR{constructor(t){this.yt=t}}function zR(s){const t=OR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(t,t.limit,"L"):t}class jR{constructor(){this.Cn=new BR}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(nr.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class BR{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new ke(ne.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new ke(ne.comparator)).toArray()}}const r0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(dT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const a0="LruGarbageCollector",qR=1048576;function o0([s,t],[n,r]){const l=kt(s,n);return l===0?kt(t,r):l}class HR{constructor(t){this.Ir=t,this.buffer=new ke(o0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(a0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?rt(a0,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Vr(3e5)}))}}class GR{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Sh.ce);const r=new HR(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(r0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,u,d,p,y,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(t,r,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(_=Date.now(),$a()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function QR(s,t){return new GR(s,t)}class KR{constructor(){this.changes=new ia((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class YR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class XR{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Ul(r.mutation,l,Rn.empty(),re.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Lt()){const l=Hr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let d=Cl();return u.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=Hr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Lt())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,r,l){let u=us();const d=Vl(),p=(function(){return Vl()})();return n.forEach(((y,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof cr)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Ul(T.mutation,_,T.mutation.getFieldMask(),re.now())):d.set(_.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((_,T)=>d.set(_,T))),n.forEach(((_,T)=>p.set(_,new YR(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=Vl();let l=new ue(((d,p)=>d-p)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let T=r.get(y)||Rn.empty();T=p.applyToLocalView(_,T),r.set(y,T);const A=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,T=y.value,A=XE();T.forEach((x=>{if(!u.has(x)){const q=eT(n.get(x),r.get(x));q!==null&&A.set(x,q),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):FE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):Z.resolve(Hr());let p=Bl,y=u;return d.next((_=>Z.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((x=>{y=y.insert(T,x)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,y,_,Lt()))).next((T=>({batchId:p,changes:YE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((r=>{let l=Cl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(t,u).next((p=>Z.forEach(p,(y=>{const _=(function(A,x){return new yo(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((T=>{T.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((d=>{u.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,tn.newInvalidDocument(T)))}));let p=Cl();return d.forEach(((y,_)=>{const T=u.get(y);T!==void 0&&Ul(T.mutation,_,Rn.empty(),re.now()),Ch(n,_)&&(p=p.insert(y,_))})),p}))}}class $R{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:zR(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),Z.resolve()}}class ZR{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Hr();return Z.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.St(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const l=Hr(),u=n.length+1,d=new dt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new ue(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let T=u.get(_.largestBatchId);T===null&&(T=Hr(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Hr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return Z.resolve(p)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pR(n,r));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class JR{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class sp{constructor(){this.Qr=new ke(je.$r),this.Ur=new ke(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new je(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new je(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new dt(new ne([])),r=new je(n,t),l=new je(n,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new dt(new ne([])),r=new je(n,t),l=new je(n,t+1);let u=Lt();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new je(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class je{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return dt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||dt.comparator(t.key,n.key)}}class WR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(je.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mR(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new je(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new je(n,0),l=new je(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ke(kt);return n.forEach((l=>{const u=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;dt.isDocumentKey(u)||(u=u.child(""));const d=new je(new dt(u),0);let p=new ke(kt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(l=>{const u=new je(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new je(n,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class t2{constructor(t){this.ri=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let r=us();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=us();const d=n.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Cw(Iw(T),r)<=0||(l.has(T.key)||Ch(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,r,l){yt(9500)}ii(t,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new e2(this)}getSize(t){return Z.resolve(this.size)}}class e2 extends KR{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class n2{constructor(t){this.persistence=t,this.si=new ia((n=>$m(n)),Zm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new sp,this.targetCount=0,this.ai=co.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Pr(n),Z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this._i.containsKey(n))}}class mT{constructor(t,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new JR,this.referenceDelegate=t(this),this.Pi=new n2(this),this.indexManager=new jR,this.remoteDocumentCache=(function(l){return new t2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PR(n),this.Ii=new $R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ZR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new WR(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){rt("MemoryPersistence","Starting transaction:",t);const l=new i2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class i2 extends Dw{constructor(t){super(),this.currentSequenceNumber=t}}class rp{constructor(t){this.persistence=t,this.Ri=new sp,this.Vi=null}static mi(t){return new rp(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((u=>{u||n.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class hh{constructor(t,n){this.persistence=t,this.pi=new ia((r=>Mw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=QR(this,n)}static mi(t,n){return new hh(t,n)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?Z.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((p=>{p||(r++,u.removeEntry(d,Et.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kc(t.data.value)),n}br(t,n,r){return Z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ap{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=Lt(),l=Lt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ap(t,n.fromCache,r,l)}}class s2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class r2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XA()?8:xw(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new s2;return this.Ss(t,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,d,p.size)}))})).next((()=>u.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?($a()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):($a()<=Ut.DEBUG&&rt("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?($a()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):Z.resolve())}ys(t,n){if(Xv(n))return Z.resolve(null);let r=xi(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=bm(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=Lt(...u);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(n,p);return this.Cs(n,_,d,y.readTime)?this.ys(t,bm(n,null,"F")):this.vs(t,_,n,y)}))))})))))}ws(t,n,r,l){return Xv(n)||l.isEqual(Et.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?Z.resolve(null):($a()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(n)),this.vs(t,d,n,Rw(l,Bl)).next((p=>p)))}))}Ds(t,n){let r=new ke(QE(t));return n.forEach(((l,u)=>{Ch(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,r){return $a()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(t,n,nr.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const op="LocalStore",a2=3e8;class o2{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ue(kt),this.xs=new ia((u=>$m(u)),Zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function l2(s,t,n,r){return new o2(s,t,n,r)}async function pT(s,t){const n=bt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function u2(s,t){const n=bt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,T){const A=_.batch,x=A.keys();let q=Z.resolve();return x.forEach((J=>{q=q.next((()=>T.getEntry(y,J))).next((W=>{const $=_.docVersions.get(J);Kt($!==null,48541),W.version.compareTo($)<0&&(A.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function gT(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function c2(s,t){const n=bt(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((T,A)=>{const x=l.get(A);if(!x)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A))));let q=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?q=q.withResumeToken($e.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),l=l.insert(A,q),(function(W,$,lt){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=a2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(x,q,T)&&p.push(n.Pi.updateTargetData(u,q))}));let y=us(),_=Lt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(h2(u,d,t.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!r.isEqual(Et.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function h2(s,t,n){let r=Lt(),l=Lt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=us();return n.forEach(((p,y)=>{const _=u.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(op,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function f2(s,t){const n=bt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Km),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function d2(s,t){const n=bt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((u=>u?(l=u,Z.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new $s(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Im(s,t,n){const r=bt(s),l=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;rt(op,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function l0(s,t,n){const r=bt(s);let l=Et.min(),u=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const A=bt(y),x=A.xs.get(T);return x!==void 0?Z.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,T)})(r,d,xi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,n?l:Et.min(),n?u:Lt()))).next((p=>(m2(r,Jw(t),p),{documents:p,Qs:u})))))}function m2(s,t,n){let r=s.Os.get(t)||Et.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class u0{constructor(){this.activeTargetIds=sR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class p2{constructor(){this.Mo=new u0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new u0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class g2{Oo(t){}shutdown(){}}const c0="ConnectivityMonitor";class h0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(c0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(c0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Cm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const nm="RestConnection",y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,u){const d=Cm(),p=this.zo(t,n.toUriEncodedString());rt(nm,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:_}=new URL(p),T=lr(_);return this.Jo(t,p,y,r,T).then((A=>(rt(nm,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw ao(nm,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(t,n,r,l,u,d){return this.Go(t,n,r,l,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const r=y2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class v2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class E2 extends _2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,u){const d=Cm();return new Promise(((p,y)=>{const _=new vE;_.setWithCredentials(!0),_.listenOnce(EE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const A=_.getResponseJson();rt(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Qc.TIMEOUT:rt(Je,`RPC '${t}' ${d} timed out`),y(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const x=_.getStatus();if(rt(Je,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q?.error;if(J&&J.status&&J.message){const W=(function(lt){const ct=lt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ct)>=0?ct:X.UNKNOWN})(J.status);y(new it(W,J.message))}else y(new it(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Je,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt(Je,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,r,15)}))}T_(t,n,r){const l=Cm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=AE(),p=bE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const T=u.join("");rt(Je,`Creating RPC '${t}' stream ${l}: ${T}`,y);const A=d.createWebChannel(T,y);this.I_(A);let x=!1,q=!1;const J=new v2({Yo:$=>{q?rt(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(x||(rt(Je,`Opening RPC '${t}' stream ${l} transport.`),A.open(),x=!0),rt(Je,`RPC '${t}' stream ${l} sending:`,$),A.send($))},Zo:()=>A.close()}),W=($,lt,ct)=>{$.listen(lt,(at=>{try{ct(at)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return W(A,Il.EventType.OPEN,(()=>{q||(rt(Je,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),W(A,Il.EventType.CLOSE,(()=>{q||(q=!0,rt(Je,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(A))})),W(A,Il.EventType.ERROR,($=>{q||(q=!0,ao(Je,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),W(A,Il.EventType.MESSAGE,($=>{if(!q){const lt=$.data[0];Kt(!!lt,16349);const ct=lt,at=ct?.error||ct[0]?.error;if(at){rt(Je,`RPC '${t}' stream ${l} received error:`,at);const pt=at.status;let Pt=(function(R){const I=De[R];if(I!==void 0)return iT(I)})(pt),At=at.message;Pt===void 0&&(Pt=X.INTERNAL,At="Unknown error status: "+pt+" with message "+at.message),q=!0,J.a_(new it(Pt,At)),A.close()}else rt(Je,`RPC '${t}' stream ${l} received:`,lt),J.u_(lt)}})),W(p,TE.STAT_EVENT,($=>{$.stat===pm.PROXY?rt(Je,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===pm.NOPROXY&&rt(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function im(){return typeof document<"u"?document:null}function Oh(s){return new SR(s,!0)}class yT{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const f0="PersistentStream";class _T{constructor(t,n,r,l,u,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new it(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(f0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class T2 extends _T{constructor(t,n,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=IR(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Et.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Oi(d.readTime):Et.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Rm(this.serializer),n.addTarget=(function(u,d){let p;const y=d.target;if(p=Em(y)?{documents:DR(u,y)}:{query:xR(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=aT(u,d.resumeToken);const _=Am(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=ch(u,d.snapshotVersion.toTimestamp());const _=Am(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=MR(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Rm(this.serializer),n.removeTarget=t,this.q_(n)}}class b2 extends _T{constructor(t,n,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=NR(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Rm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>CR(this.serializer,r)))};this.q_(n)}}class A2{}class S2 extends A2{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,Sm(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(X.UNKNOWN,u.toString())}))}Ho(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Sm(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class R2{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{sa(this)&&(rt(Jr,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mh(_)})(this))}))})),this.Ra=new w2(r,l)}}async function Mh(s){if(sa(s))for(const t of s.da)await t(!0)}async function eu(s){for(const t of s.da)await t(!1)}function vT(s,t){const n=bt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),hp(n)?cp(n):_o(n).O_()&&up(n,t))}function lp(s,t){const n=bt(s),r=_o(n);n.Ia.delete(t),r.O_()&&ET(n,t),n.Ia.size===0&&(r.O_()?r.L_():sa(n)&&n.Ra.set("Unknown"))}function up(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(s).Y_(t)}function ET(s,t){s.Va.Ue(t),_o(s).Z_(t)}function cp(s){s.Va=new ER({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Ra.ua()}function hp(s){return sa(s)&&!_o(s).x_()&&s.Ia.size>0}function sa(s){return bt(s).Ea.size===0}function TT(s){s.Va=void 0}async function I2(s){s.Ra.set("Online")}async function C2(s){s.Ia.forEach(((t,n)=>{up(s,t)}))}async function N2(s,t){TT(s),hp(s)?(s.Ra.ha(t),cp(s)):s.Ra.set("Unknown")}async function D2(s,t,n){if(s.Ra.set("Online"),t instanceof rT&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){rt(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fh(s,r)}else if(t instanceof $c?s.Va.Ze(t):t instanceof sT?s.Va.st(t):s.Va.tt(t),!n.isEqual(Et.min()))try{const r=await gT(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),ET(u,y);const A=new $s(T.target,y,_,T.sequenceNumber);up(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){rt(Jr,"Failed to raise snapshot:",r),await fh(s,r)}}async function fh(s,t,n){if(!go(t))throw t;s.Ea.add(1),await eu(s),s.Ra.set("Offline"),n||(n=()=>gT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Mh(s)}))}function bT(s,t){return t().catch((n=>fh(s,n,t)))}async function Vh(s){const t=bt(s),n=ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Km;for(;x2(t);)try{const l=await f2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,O2(t,l)}catch(l){await fh(t,l)}AT(t)&&ST(t)}function x2(s){return sa(s)&&s.Ta.length<10}function O2(s,t){s.Ta.push(t);const n=ar(s);n.O_()&&n.X_&&n.ea(t.mutations)}function AT(s){return sa(s)&&!ar(s).x_()&&s.Ta.length>0}function ST(s){ar(s).start()}async function M2(s){ar(s).ra()}async function V2(s){const t=ar(s);for(const n of s.Ta)t.ea(n.mutations)}async function U2(s,t,n){const r=s.Ta.shift(),l=ep.from(r,t,n);await bT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Vh(s)}async function k2(s,t){t&&ar(s).X_&&await(async function(r,l){if((function(d){return yR(d)&&d!==X.ABORTED})(l.code)){const u=r.Ta.shift();ar(r).B_(),await bT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Vh(r)}})(s,t),AT(s)&&ST(s)}async function d0(s,t){const n=bt(s);n.asyncQueue.verifyOperationInProgress(),rt(Jr,"RemoteStore received new credentials");const r=sa(n);n.Ea.add(3),await eu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Mh(n)}async function L2(s,t){const n=bt(s);t?(n.Ea.delete(2),await Mh(n)):t||(n.Ea.add(2),await eu(n),n.Ra.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(n,r,l){const u=bt(n);return u.sa(),new T2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:I2.bind(null,s),t_:C2.bind(null,s),r_:N2.bind(null,s),H_:D2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),hp(s)?cp(s):s.Ra.set("Unknown")):(await s.ma.stop(),TT(s))}))),s.ma}function ar(s){return s.fa||(s.fa=(function(n,r,l){const u=bt(n);return u.sa(),new b2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:M2.bind(null,s),r_:k2.bind(null,s),ta:V2.bind(null,s),na:U2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fp{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const d=Date.now()+r,p=new fp(t,n,d,l,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(s,t){if(ls("AsyncQueue",`${t}: ${s}`),go(s))return new it(X.UNAVAILABLE,`${t}: ${s}`);throw s}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=Cl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new to;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class m0{constructor(){this.ga=new ue(dt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class ho{constructor(t,n,r,l,u,d,p,y,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new ho(t,n,to.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class P2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class z2{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=bt(n),u=l.queries;l.queries=p0(),u.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function p0(){return new ia((s=>GE(s)),Ih)}async function j2(s,t){const n=bt(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new P2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=dp(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&mp(n)}async function B2(s,t){const n=bt(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function q2(s,t){const n=bt(s);let r=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&mp(n)}function H2(s,t,n){const r=bt(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(t)}function mp(s){s.Ca.forEach((t=>{t.next()}))}var Nm,g0;(g0=Nm||(Nm={})).Ma="default",g0.Cache="cache";class F2{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ho(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}class wT{constructor(t){this.key=t}}class RT{constructor(t){this.key=t}}class G2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=QE(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new m0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const x=l.get(T),q=Ch(this.query,A)?A:null,J=!!x&&this.mutatedKeys.has(x.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;x&&q?x.data.isEqual(q.data)?J!==W&&(r.track({type:3,doc:q}),$=!0):this.su(x,q)||(r.track({type:2,doc:q}),$=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(p=!0)):!x&&q?(r.track({type:0,doc:q}),$=!0):x&&!q&&(r.track({type:1,doc:x}),$=!0,(y||_)&&(p=!0)),$&&(q?(d=d.add(q),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(q,J){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return W(q)-W(J)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ho(this.query,t.tu,u,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new RT(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new wT(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pp="SyncEngine";class Q2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class K2{constructor(t){this.key=t,this.hu=!1}}class Y2{constructor(t,n,r,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((p=>GE(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new sp,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X2(s,t,n=!0){const r=OT(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await IT(r,t,n,!0),l}async function $2(s,t){const n=OT(s);await IT(n,t,!0,!1)}async function IT(s,t,n,r){const l=await d2(s.localStore,xi(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await Z2(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&vT(s.remoteStore,l),p}async function Z2(s,t,n,r,l){s.pu=(A,x,q)=>(async function(W,$,lt,ct){let at=$.view.ru(lt);at.Cs&&(at=await l0(W.localStore,$.query,!1).then((({documents:N})=>$.view.ru(N,at))));const pt=ct&&ct.targetChanges.get($.targetId),Pt=ct&&ct.targetMismatches.get($.targetId)!=null,At=$.view.applyChanges(at,W.isPrimaryClient,pt,Pt);return _0(W,$.targetId,At.au),At.snapshot})(s,A,x,q);const u=await l0(s.localStore,t,!0),d=new G2(t,u.Qs),p=d.ru(u.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);_0(s,n,_.au);const T=new Q2(t,n,d);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),_.snapshot}async function J2(s,t,n){const r=bt(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ih(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&lp(r.remoteStore,l.targetId),Dm(r,l.targetId)})).catch(po)):(Dm(r,l.targetId),await Im(r.localStore,l.targetId,!0))}async function W2(s,t){const n=bt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lp(n.remoteStore,r.targetId))}async function tI(s,t,n){const r=oI(s);try{const l=await(function(d,p){const y=bt(d),_=re.now(),T=p.reduce(((q,J)=>q.add(J.key)),Lt());let A,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let J=us(),W=Lt();return y.Ns.getEntries(q,T).next(($=>{J=$,J.forEach(((lt,ct)=>{ct.isValidDocument()||(W=W.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,J))).next(($=>{A=$;const lt=[];for(const ct of p){const at=fR(ct,A.get(ct.key).overlayedDocument);at!=null&&lt.push(new cr(ct.key,at,LE(at.value.mapValue),Hn.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,lt,p)})).next(($=>{x=$;const lt=$.applyToLocalDocumentSet(A,W);return y.documentOverlayCache.saveOverlays(q,$.batchId,lt)}))})).then((()=>({batchId:x.batchId,changes:YE(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(kt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,n),await nu(r,l.changes),await Vh(r.remoteStore)}catch(l){const u=dp(l,"Failed to persist write");n.reject(u)}}async function CT(s,t){const n=bt(s);try{const r=await c2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await nu(n,r,t)}catch(r){await po(r)}}function y0(s,t,n){const r=bt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((T,A)=>{for(const x of A.Sa)x.va(p)&&(_=!0)})),_&&mp(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function eI(s,t,n){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new ue(dt.comparator);d=d.insert(u,tn.newNoDocument(u,Et.min()));const p=Lt().add(u),y=new xh(Et.min(),new Map,new ue(kt),d,p);await CT(r,y),r.du=r.du.remove(u),r.Au.delete(t),gp(r)}else await Im(r.localStore,t,!1).then((()=>Dm(r,t,n))).catch(po)}async function nI(s,t){const n=bt(s),r=t.batch.batchId;try{const l=await u2(n.localStore,t);DT(n,r,null),NT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nu(n,l)}catch(l){await po(l)}}async function iI(s,t,n){const r=bt(s);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Kt(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(r.localStore,t);DT(r,t,n),NT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nu(r,l)}catch(l){await po(l)}}function NT(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function DT(s,t,n){const r=bt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Dm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||xT(s,r)}))}function xT(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(lp(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),gp(s))}function _0(s,t,n){for(const r of n)r instanceof wT?(s.Ru.addReference(r.key,t),sI(s,r)):r instanceof RT?(rt(pp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||xT(s,r.key)):yt(19791,{wu:r})}function sI(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(rt(pp,"New document in limbo: "+n),s.Eu.add(r),gp(s))}function gp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new dt(ne.fromString(t)),r=s.fu.next();s.Au.set(r,new K2(n)),s.du=s.du.insert(n,r),vT(s.remoteStore,new $s(xi(Jm(n.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function nu(s,t,n){const r=bt(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,n).then((_=>{if((_||n)&&r.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=ap.As(y.targetId,_);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const T=bt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(x=>Z.forEach(x.Es,(q=>T.persistence.referenceDelegate.addReference(A,x.targetId,q))).next((()=>Z.forEach(x.ds,(q=>T.persistence.referenceDelegate.removeReference(A,x.targetId,q)))))))))}catch(A){if(!go(A))throw A;rt(op,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const q=T.Ms.get(x),J=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(x,W)}}})(r.localStore,u))}async function rI(s,t){const n=bt(s);if(!n.currentUser.isEqual(t)){rt(pp,"User change. New user:",t.toKey());const r=await pT(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new it(X.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nu(n,r.Ls)}}function aI(s,t){const n=bt(s),r=n.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let l=Lt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function OT(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eI.bind(null,t),t.Pu.H_=q2.bind(null,t.eventManager),t.Pu.yu=H2.bind(null,t.eventManager),t}function oI(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iI.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return l2(this.persistence,new r2,t.initialUser,this.serializer)}Cu(t){return new mT(rp.mi,this.serializer)}Du(t){return new p2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class lI extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FR(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new mT((r=>hh.mi(r,n)),this.serializer)}}class xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await L2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new z2})()}createDatastore(t){const n=Oh(t.databaseInfo.databaseId),r=(function(u){return new E2(u)})(t.databaseInfo);return(function(u,d,p,y){return new S2(u,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,d,p){return new R2(r,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>y0(this.syncEngine,n,0)),(function(){return h0.v()?new h0:new g2})())}createSyncEngine(t,n){return(function(l,u,d,p,y,_,T){const A=new Y2(l,u,d,p,y,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=bt(n);rt(Jr,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class uI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const or="FirestoreClient";class cI{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{rt(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=dp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function sm(s,t){s.asyncQueue.verifyOperationInProgress(),rt(or,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await pT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function v0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await hI(s);rt(or,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>d0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>d0(t.remoteStore,l))),s._onlineComponents=t}async function hI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(or,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await sm(s,new dh)}}else rt(or,"Using default OfflineComponentProvider"),await sm(s,new lI(void 0));return s._offlineComponents}async function MT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(or,"Using user provided OnlineComponentProvider"),await v0(s,s._uninitializedComponentsProvider._online)):(rt(or,"Using default OnlineComponentProvider"),await v0(s,new xm))),s._onlineComponents}function fI(s){return MT(s).then((t=>t.syncEngine))}async function E0(s){const t=await MT(s),n=t.eventManager;return n.onListen=X2.bind(null,t.syncEngine),n.onUnlisten=J2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=W2.bind(null,t.syncEngine),n}function VT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const T0=new Map;const UT="firestore.googleapis.com",b0=!0;class A0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=b0}else this.host=t.host,this.ssl=t.ssl??b0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qR)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ww("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pw;switch(r.type){case"firstParty":return new vw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=T0.get(n);r&&(rt("ComponentProvider","Removing Datastore"),T0.delete(n),r.terminate())})(this),Promise.resolve()}}function dI(s,t,n,r={}){s=Di(s,Uh);const l=lr(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;l&&(jm(`https://${p}`),Bm("Firestore",!0)),u.host!==UT&&u.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:l,emulatorOptions:r};if(!Xr(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=We.MOCK_USER;else{_=fE(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new We(A)}s._authCredentials=new gw(new wE(_,T))}}class ra{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ra(this.firestore,t,this._query)}}class Ee{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Jl(n,Ee._jsonSchema))return new Ee(t,r||null,new dt(ne.fromString(n.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:Oe("string",Ee._jsonSchemaVersion),referencePath:Oe("string")};class tr extends ra{constructor(t,n,r){super(t,n,Jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new dt(t))}withConverter(t){return new tr(this.firestore,t,this._path)}}function eo(s,t,...n){if(s=fe(s),RE("collection","path",t),s instanceof Uh){const r=ne.fromString(t,...n);return Uv(r),new tr(s,null,r)}{if(!(s instanceof Ee||s instanceof tr))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...n));return Uv(r),new tr(s.firestore,null,r)}}function Gs(s,t,...n){if(s=fe(s),arguments.length===1&&(t=Qm.newId()),RE("doc","path",t),s instanceof Uh){const r=ne.fromString(t,...n);return Vv(r),new Ee(s,null,new dt(r))}{if(!(s instanceof Ee||s instanceof tr))throw new it(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...n));return Vv(r),new Ee(s.firestore,s instanceof tr?s.converter:null,new dt(r))}}const S0="AsyncQueue";class w0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yT(this,"async_queue_retry"),this._c=()=>{const r=im();r&&rt(S0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;rt(S0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",R0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=fp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:R0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function R0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function I0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Wr extends Uh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new w0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new w0(t),this._firestoreClient=void 0,await t}}}function mI(s,t){const n=typeof s=="object"?s:Fm(),r=typeof s=="string"?s:ah,l=bh(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=uE("firestore");u&&dI(l,...u)}return l}function kT(s){if(s._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pI(s),s._firestoreClient}function pI(s){const t=s._freezeSettings(),n=(function(l,u,d,p){return new kw(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new cI(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn($e.fromBase64String(t))}catch(n){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Oe("string",qn._jsonSchemaVersion),bytes:Oe("string")};class kh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lh{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Oe("string",Mi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Vi(t.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Oe("string",Vi._jsonSchemaVersion),vectorValues:Oe("object")};const gI=/^__.*__$/;class yI{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(t,this.data,n,this.fieldTransforms)}}class LT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new cr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function PT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class yp{constructor(t,n,r,l,u,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new yp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(PT(this.Ac)&&gI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _I{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Oh(t)}Cc(t,n,r,l=!1){return new yp({Ac:t,methodName:n,Dc:r,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ph(s){const t=s._freezeSettings(),n=Oh(s._databaseId);return new _I(s._databaseId,!!t.ignoreUndefinedProperties,n)}function zT(s,t,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,n,l);vp("Data must be an object, but it was:",d,r);const p=jT(r,d);let y,_;if(u.merge)y=new Rn(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const x=Om(t,A,n);if(!d.contains(x))throw new it(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);qT(T,x)||T.push(x)}y=new Rn(T),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new yI(new pn(p),y,_)}class zh extends Lh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zh}}class _p extends Lh{_toFieldTransform(t){return new lR(t.path,new Ql)}isEqual(t){return t instanceof _p}}function vI(s,t,n,r){const l=s.Cc(1,t,n);vp("Data must be an object, but it was:",l,r);const u=[],d=pn.empty();ur(r,((y,_)=>{const T=Ep(t,y,n);_=fe(_);const A=l.yc(T);if(_ instanceof zh)u.push(T);else{const x=iu(_,A);x!=null&&(u.push(T),d.set(T,x))}}));const p=new Rn(u);return new LT(d,p,l.fieldTransforms)}function EI(s,t,n,r,l,u){const d=s.Cc(1,t,n),p=[Om(t,r,n)],y=[l];if(u.length%2!=0)throw new it(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(Om(t,u[x])),y.push(u[x+1]);const _=[],T=pn.empty();for(let x=p.length-1;x>=0;--x)if(!qT(_,p[x])){const q=p[x];let J=y[x];J=fe(J);const W=d.yc(q);if(J instanceof zh)_.push(q);else{const $=iu(J,W);$!=null&&(_.push(q),T.set(q,$))}}const A=new Rn(_);return new LT(T,A,d.fieldTransforms)}function TI(s,t,n,r=!1){return iu(n,s.Cc(r?4:3,t))}function iu(s,t){if(BT(s=fe(s)))return vp("Unsupported field value:",t,s),jT(s,t);if(s instanceof Lh)return(function(r,l){if(!PT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let y=iu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:ch(l.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(l.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:aT(l.serializer,r._byteString)};if(r instanceof Ee){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ip(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Vi)return(function(d,p){return{mapValue:{fields:{[UE]:{stringValue:kE},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ah(r)}`)})(s,t)}function jT(s,t){const n={};return NE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(s,((r,l)=>{const u=iu(l,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function BT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof Mi||s instanceof qn||s instanceof Ee||s instanceof Lh||s instanceof Vi)}function vp(s,t,n){if(!BT(n)||!IE(n)){const r=Ah(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Om(s,t,n){if((t=fe(t))instanceof kh)return t._internalPath;if(typeof t=="string")return Ep(s,t);throw mh("Field path arguments must be of type string or ",s,!1,void 0,n)}const bI=new RegExp("[~\\*/\\[\\]]");function Ep(s,t,n){if(t.search(bI)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new kh(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function mh(s,t,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new it(X.INVALID_ARGUMENT,p+s+y)}function qT(s,t){return s.some((n=>n.isEqual(t)))}class HT{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AI extends HT{data(){return super.data()}}function Tp(s,t){return typeof t=="string"?Ep(s,t):t instanceof kh?t._internalPath:t._delegate._internalPath}function SI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}class FT extends bp{}function kl(s,t,...n){let r=[];t instanceof bp&&r.push(t),r=r.concat(n),(function(u){const d=u.filter((y=>y instanceof Sp)).length,p=u.filter((y=>y instanceof Ap)).length;if(d>1||d>0&&p>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Ap extends FT{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ap(t,n,r)}_apply(t){const n=this._parse(t);return GT(t._query,n),new ra(t.firestore,t.converter,Tm(t._query,n))}_parse(t){const n=Ph(t.firestore);return(function(u,d,p,y,_,T,A){let x;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){N0(A,T);const J=[];for(const W of A)J.push(C0(y,u,W));x={arrayValue:{values:J}}}else x=C0(y,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||N0(A,T),x=TI(p,d,A,T==="in"||T==="not-in");return xe.create(_,T,x)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Sp extends bp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const y of p)GT(d,y),d=Tm(d,y)})(t._query,n),new ra(t.firestore,t.converter,Tm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wp extends FT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new wp(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,d)})(t._query,this._field,this._direction);return new ra(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new yo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function Mm(s,t="asc"){const n=t,r=Tp("orderBy",s);return wp._create(r,n)}function C0(s,t,n){if(typeof(n=fe(n))=="string"){if(n==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FE(t)&&n.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!dt.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hv(s,new dt(r))}if(n instanceof Ee)return Hv(s,n._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function N0(s,t){if(!Array.isArray(s)||s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GT(s,t){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class wI{convertValue(t,n="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ur(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[oh].arrayValue?.values?.map((r=>ve(r.doubleValue)));return new Vi(n)}convertGeoPoint(t){return new Mi(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Rh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const n=ir(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ne.fromString(t);Kt(fT(r),9688,{name:t});const l=new Hl(r.get(1),r.get(3)),u=new dt(r.popFirst(5));return l.isEqual(n)||ls(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function QT(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends HT{constructor(t,n,r,l,u,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Tp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Oe("string",Qr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Zc extends Qr{data(t={}){return super.data(t)}}class no{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:RI(p.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Oe("string",no._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class KT extends wI{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,n)}}function D0(s,t,n){s=Di(s,Ee);const r=Di(s.firestore,Wr),l=QT(s.converter,t);return jh(r,[zT(Ph(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Hn.none())])}function Vm(s,t,n,...r){s=Di(s,Ee);const l=Di(s.firestore,Wr),u=Ph(l);let d;return d=typeof(t=fe(t))=="string"||t instanceof kh?EI(u,"updateDoc",s._key,t,n,r):vI(u,"updateDoc",s._key,t),jh(l,[d.toMutation(s._key,Hn.exists(!0))])}function x0(s){return jh(Di(s.firestore,Wr),[new tp(s._key,Hn.none())])}function II(s,t){const n=Di(s.firestore,Wr),r=Gs(s),l=QT(s.converter,t);return jh(n,[zT(Ph(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then((()=>r))}function Ll(s,...t){s=fe(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||I0(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(I0(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let u,d,p;if(s instanceof Ee)d=Di(s.firestore,Wr),p=Jm(s._key.path),u={next:y=>{t[r]&&t[r](CI(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=Di(s,ra);d=Di(y.firestore,Wr),p=y._query;const _=new KT(d);u={next:T=>{t[r]&&t[r](new no(d,_,y,T))},error:t[r+1],complete:t[r+2]},SI(s._query)}return(function(_,T,A,x){const q=new uI(x),J=new F2(T,q,A);return _.asyncQueue.enqueueAndForget((async()=>j2(await E0(_),J))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>B2(await E0(_),J)))}})(kT(d),p,l,u)}function jh(s,t){return(function(r,l){const u=new Gr;return r.asyncQueue.enqueueAndForget((async()=>tI(await fI(r),l,u))),u.promise})(kT(s),t)}function CI(s,t,n){const r=n.docs.get(t._key),l=new KT(s);return new Qr(s,l,t._key,r,new Dl(n.hasPendingWrites,n.fromCache),t.converter)}function O0(){return new _p("serverTimestamp")}(function(t,n=!0){(function(l){mo=l})(na),$r(new er("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Wr(new yw(r.getProvider("auth-internal")),new Ew(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(_.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ni(Dv,xv,t),Ni(Dv,xv,"esm2020")})();function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NI=YT,XT=new $l("auth","Firebase",YT());const ph=new qm("@firebase/auth");function DI(s,...t){ph.logLevel<=Ut.WARN&&ph.warn(`Auth (${na}): ${s}`,...t)}function Jc(s,...t){ph.logLevel<=Ut.ERROR&&ph.error(`Auth (${na}): ${s}`,...t)}function Li(s,...t){throw Ip(s,...t)}function ii(s,...t){return Ip(s,...t)}function Rp(s,t,n){const r={...NI(),[t]:n};return new $l("auth","Firebase",r).create(t,{appName:s.name})}function Kr(s){return Rp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xI(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Li(s,"argument-error"),Rp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ip(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return XT.create(s,...t)}function _t(s,t,...n){if(!s)throw Ip(t,...n)}function rs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Jc(t),new Error(t)}function cs(s,t){s||rs(t)}function Um(){return typeof self<"u"&&self.location?.href||""}function OI(){return M0()==="http:"||M0()==="https:"}function M0(){return typeof self<"u"&&self.location?.protocol||null}function MI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OI()||QA()||"connection"in navigator)?navigator.onLine:!0}function VI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(t,n){this.shortDelay=t,this.longDelay=n,cs(n>t,"Short delay should be less than long delay!"),this.isMobile=HA()||KA()}get(){return MI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(s,t){cs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class $T{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LI=new su(3e4,6e4);function Np(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function vo(s,t,n,r,l={}){return ZT(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const p=Zl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...u};return GA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&lr(s.emulatorConfig.host)&&(_.credentials="include"),$T.fetch()(await JT(s,s.config.apiHost,n,p),_)})}async function ZT(s,t,n){s._canInitEmulator=!1;const r={...UI,...t};try{const l=new zI(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Bc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Bc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Rp(s,T,_);Li(s,T)}}catch(l){if(l instanceof Pi)throw l;Li(s,"network-request-failed",{message:String(l)})}}async function PI(s,t,n,r,l={}){const u=await vo(s,t,n,r,l);return"mfaPendingCredential"in u&&Li(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function JT(s,t,n,r){const l=`${t}${n}?${r}`,u=s,d=u.config.emulator?Cp(s.config,l):`${s.config.apiScheme}://${l}`;return kI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class zI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),LI.get())})}}function Bc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=ii(s,t,r);return l.customData._tokenResponse=n,l}async function jI(s,t){return vo(s,"POST","/v1/accounts:delete",t)}async function gh(s,t){return vo(s,"POST","/v1/accounts:lookup",t)}function Pl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function BI(s,t=!1){const n=fe(s),r=await n.getIdToken(t),l=Dp(r);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Pl(rm(l.auth_time)),issuedAtTime:Pl(rm(l.iat)),expirationTime:Pl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Dp(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=oE(n);return l?JSON.parse(l):(Jc("Failed to decode base64 JWT payload"),null)}catch(l){return Jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function V0(s){const t=Dp(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Xl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Pi&&qI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function qI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class HI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class km{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(s){const t=s.auth,n=await s.getIdToken(),r=await Xl(s,gh(t,{idToken:n}));_t(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?WT(l.providerUserInfo):[],d=GI(s.providerData,u),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new km(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function FI(s){const t=fe(s);await yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GI(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function WT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function QI(s,t){const n=await ZT(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await JT(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&lr(s.emulatorConfig.host)&&(y.credentials="include"),$T.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KI(s,t){return vo(s,"POST","/v2/accounts:revokeToken",Np(s,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):V0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=V0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await QI(t,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new io;return r&&(_t(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(_t(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Fs(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new HI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new km(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return BI(this,t)}reload(){return FI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Kr(this.auth));const t=await this.getIdToken();return await Xl(this,jI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:q,providerData:J,stsTokenManager:W}=n;_t(A&&W,t,"internal-error");const $=io.fromJSON(this.name,W);_t(typeof A=="string",t,"internal-error"),Fs(r,t.name),Fs(l,t.name),_t(typeof x=="boolean",t,"internal-error"),_t(typeof q=="boolean",t,"internal-error"),Fs(u,t.name),Fs(d,t.name),Fs(p,t.name),Fs(y,t.name),Fs(_,t.name),Fs(T,t.name);const lt=new ni({uid:A,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:q,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:$,createdAt:_,lastLoginAt:T});return J&&Array.isArray(J)&&(lt.providerData=J.map(ct=>({...ct}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,n,r=!1){const l=new io;l.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await yh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?WT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new io;p.updateFromIdToken(r);const y=new ni({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new km(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const U0=new Map;function as(s){cs(s instanceof Function,"Expected a class definition");let t=U0.get(s);return t?(cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,U0.set(s,t),t)}class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tb.type="NONE";const k0=tb;function Wc(s,t,n){return`firebase:${s}:${t}:${n}`}class so{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Wc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await gh(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new so(as(k0),t,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||as(k0);const d=Wc(r,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const x=await gh(t,{idToken:T}).catch(()=>{});if(!x)break;A=await ni._fromGetAccountInfoResponse(t,x,T)}else A=ni._fromJSON(t,T);_!==u&&(p=A),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new so(u,t,r):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new so(u,t,r))}}function L0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ab(t))return"Blackberry";if(ob(t))return"Webos";if(nb(t))return"Safari";if((t.includes("chrome/")||ib(t))&&!t.includes("edge/"))return"Chrome";if(rb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function eb(s=en()){return/firefox\//i.test(s)}function nb(s=en()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ib(s=en()){return/crios\//i.test(s)}function sb(s=en()){return/iemobile/i.test(s)}function rb(s=en()){return/android/i.test(s)}function ab(s=en()){return/blackberry/i.test(s)}function ob(s=en()){return/webos/i.test(s)}function xp(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function YI(s=en()){return xp(s)&&!!window.navigator?.standalone}function XI(){return YA()&&document.documentMode===10}function lb(s=en()){return xp(s)||rb(s)||ob(s)||ab(s)||/windows phone/i.test(s)||sb(s)}function ub(s,t=[]){let n;switch(s){case"Browser":n=L0(en());break;case"Worker":n=`${L0(en())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${r}`}class $I{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((d,p)=>{try{const y=t(u);d(y)}catch(y){p(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ZI(s,t={}){return vo(s,"GET","/v2/passwordPolicy",Np(s,t))}const JI=6;class WI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class tC{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new $I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await gh(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await yh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(Kr(this));const n=t?fe(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZI(this),n=new WI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $l("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&as(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&DI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bh(s){return fe(s)}class P0{constructor(t){this.auth=t,this.observer=null,this.addObserver=nS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eC(s){Op=s}function nC(s){return Op.loadJS(s)}function iC(){return Op.gapiScript}function sC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function rC(s,t){const n=bh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Xr(u,t??{}))return l;Li(l,"already-initialized")}return n.initialize({options:t})}function aC(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(as);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function oC(s,t,n){const r=Bh(s);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=cb(t),{host:d,port:p}=lC(t),y=p===null?"":`:${p}`,_={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Xr(_,r.config.emulator)&&Xr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,lr(d)?(jm(`${u}//${d}${y}`),Bm("Auth",!0)):uC()}function cb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function lC(s){const t=cb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:z0(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:z0(d)}}}function z0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function uC(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class hb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,n){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}async function ro(s,t){return PI(s,"POST","/v1/accounts:signInWithIdp",Np(s,t))}const cC="http://localhost";class ta extends hb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new ta(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ro(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}class Mp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ru extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends ru{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class ss extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";class Ks extends ru{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ys extends ru{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";class fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const u=await ni._fromIdTokenResponse(t,r,l),d=j0(r);return new fo({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=j0(r);return new fo({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function j0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class _h extends Pi{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new _h(t,n,r,l)}}function fb(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(s,u,t,r):u})}async function hC(s,t,n=!1){const r=await Xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return fo._forOperation(s,"link",r)}async function fC(s,t,n=!1){const{auth:r}=s;if(Bn(r.app))return Promise.reject(Kr(r));const l="reauthenticate";try{const u=await Xl(s,fb(r,l,t,s),n);_t(u.idToken,r,"internal-error");const d=Dp(u.idToken);_t(d,r,"internal-error");const{sub:p}=d;return _t(s.uid===p,r,"user-mismatch"),fo._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Li(r,"user-mismatch"),u}}async function dC(s,t,n=!1){if(Bn(s.app))return Promise.reject(Kr(s));const r="signIn",l=await fb(s,r,t),u=await fo._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}function mC(s,t,n,r){return fe(s).onIdTokenChanged(t,n,r)}function pC(s,t,n){return fe(s).beforeAuthStateChanged(t,n)}function gC(s,t,n,r){return fe(s).onAuthStateChanged(t,n,r)}function B0(s){return fe(s).signOut()}const vh="__sak";class db{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yC=1e3,_C=10;class mb extends db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);XI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,_C):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}mb.type="LOCAL";const vC=mb;class pb extends db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}pb.type="SESSION";const gb=pb;function EC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new qh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(n.origin,u)),y=await EC(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function Vp(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class TC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const _=Vp("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function bC(s){Ui().location.href=s}function yb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function AC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SC(){return navigator?.serviceWorker?.controller||null}function wC(){return yb()?self:null}const _b="firebaseLocalStorageDb",RC=1,Eh="firebaseLocalStorage",vb="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(s,t){return s.transaction([Eh],t?"readwrite":"readonly").objectStore(Eh)}function IC(){const s=indexedDB.deleteDatabase(_b);return new au(s).toPromise()}function Lm(){const s=indexedDB.open(_b,RC);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Eh,{keyPath:vb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Eh)?t(r):(r.close(),await IC(),t(await Lm()))})})}async function q0(s,t,n){const r=Hh(s,!0).put({[vb]:t,value:n});return new au(r).toPromise()}async function CC(s,t){const n=Hh(s,!1).get(t),r=await new au(n).toPromise();return r===void 0?null:r.value}function H0(s,t){const n=Hh(s,!0).delete(t);return new au(n).toPromise()}const NC=800,DC=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>DC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(wC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AC(),!this.activeServiceWorker)return;this.sender=new TC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Lm();return await q0(t,vh,"1"),await H0(t,vh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>CC(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Hh(l,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const xC=Eb;new su(3e4,6e4);function Tb(s,t){return t?as(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Up extends hb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function OC(s){return dC(s.auth,new Up(s),s.bypassAuthState)}function MC(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),fC(n,new Up(s),s.bypassAuthState)}async function VC(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),hC(n,new Up(s),s.bypassAuthState)}class bb{constructor(t,n,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:Li(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UC=new su(2e3,1e4);async function kC(s,t,n){if(Bn(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const r=Bh(s);xI(s,t,Mp);const l=Tb(r,n);return new Fr(r,"signInViaPopup",t,l).executeNotNull()}class Fr extends bb{constructor(t,n,r,l,u){super(t,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Fr.currentPopupAction&&Fr.currentPopupAction.cancel(),Fr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UC.get())};t()}}Fr.currentPopupAction=null;const LC="pendingRedirect",th=new Map;class PC extends bb{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=th.get(this.auth._key());if(!t){try{const r=await zC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}th.set(this.auth._key(),t)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zC(s,t){const n=qC(t),r=BC(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function jC(s,t){th.set(s._key(),t)}function BC(s){return as(s._redirectPersistence)}function qC(s){return Wc(LC,s.config.apiKey,s.name)}async function HC(s,t,n=!1){if(Bn(s.app))return Promise.reject(Kr(s));const r=Bh(s),l=Tb(r,t),d=await new PC(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const FC=600*1e3;class GC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Ab(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ii(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FC&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(t))}saveEventToCache(t){this.cachedEventUids.add(F0(t)),this.lastProcessedEventTime=Date.now()}}function F0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Ab({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function QC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(s);default:return!1}}async function KC(s,t={}){return vo(s,"GET","/v1/projects",t)}const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function $C(s){if(s.config.emulator)return;const{authorizedDomains:t}=await KC(s);for(const n of t)try{if(ZC(n))return}catch{}Li(s,"unauthorized-domain")}function ZC(s){const t=Um(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!XC.test(n))return!1;if(YC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const JC=new su(3e4,6e4);function G0(){const s=Ui().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function WC(s){return new Promise((t,n)=>{function r(){G0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{G0(),n(ii(s,"network-request-failed"))},timeout:JC.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const l=sC("iframefcb");return Ui()[l]=()=>{gapi.load?r():n(ii(s,"network-request-failed"))},nC(`${iC()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw eh=null,t})}let eh=null;function tN(s){return eh=eh||WC(s),eh}const eN=new su(5e3,15e3),nN="__/auth/iframe",iN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Cp(t,iN):`https://${s.config.authDomain}/${nN}`,r={apiKey:t.apiKey,appName:s.name,v:na},l=rN.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Zl(r).slice(1)}`}async function oN(s){const t=await tN(s),n=Ui().gapi;return _t(n,s,"internal-error"),t.open({where:document.body,url:aN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),p=Ui().setTimeout(()=>{u(d)},eN.get());function y(){Ui().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,hN="_blank",fN="http://localhost";class Q0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dN(s,t,n,r=uN,l=cN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...lN,width:r.toString(),height:l.toString(),top:u,left:d},_=en().toLowerCase();n&&(p=ib(_)?hN:n),eb(_)&&(t=t||fN,y.scrollbars="yes");const T=Object.entries(y).reduce((x,[q,J])=>`${x}${q}=${J},`,"");if(YI(_)&&p!=="_self")return mN(t||"",p),new Q0(null);const A=window.open(t||"",p,T);_t(A,s,"popup-blocked");try{A.focus()}catch{}return new Q0(A)}function mN(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const pN="__/auth/handler",gN="emulator/auth/handler",yN=encodeURIComponent("fac");async function K0(s,t,n,r,l,u){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:na,eventId:l};if(t instanceof Mp){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",eS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof ru){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),_=y?`#${yN}=${encodeURIComponent(y)}`:"";return`${_N(s)}?${Zl(p).slice(1)}${_}`}function _N({config:s}){return s.emulator?Cp(s,gN):`https://${s.authDomain}/${pN}`}const am="webStorageSupport";class vN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=HC,this._overrideRedirectResult=jC}async _openPopup(t,n,r,l){cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await K0(t,n,r,Um(),l);return dN(t,u,Vp())}async _openRedirect(t,n,r,l){await this._originValidation(t);const u=await K0(t,n,r,Um(),l);return bC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(cs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await oN(t),r=new GC(t);return n.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(am,{type:am},l=>{const u=l?.[0]?.[am];u!==void 0&&n(!!u),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$C(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lb()||nb()||xp()}}const EN=vN;var Y0="@firebase/auth",X0="1.12.0";class TN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AN(s){$r(new er("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ub(s)},_=new tC(r,l,u,y);return aC(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),$r(new er("auth-internal",t=>{const n=Bh(t.getProvider("auth").getImmediate());return(r=>new TN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(Y0,X0,bN(s)),Ni(Y0,X0,"esm2020")}const SN=300,wN=hE("authIdTokenMaxAge")||SN;let $0=null;const RN=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wN)return;const l=n?.token;$0!==l&&($0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function IN(s=Fm()){const t=bh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=rC(s,{popupRedirectResolver:EN,persistence:[xC,vC,gb]}),r=hE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=RN(u.toString());pC(n,d,()=>d(n.currentUser)),mC(n,p=>d(p))}}const l=lE("auth");return l&&oC(n,`http://${l}`),n}function CN(){return document.getElementsByTagName("head")?.[0]??document}eC({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=ii("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",CN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AN("Browser");const Sb="firebasestorage.googleapis.com",wb="storageBucket",NN=120*1e3,DN=600*1e3;class me extends Pi{constructor(t,n,r=0){super(om(t),`Firebase Storage: ${n} (${om(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return om(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var de;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(de||(de={}));function om(s){return"storage/"+s}function kp(){const s="An unknown error occurred, please check the error payload for server response.";return new me(de.UNKNOWN,s)}function xN(s){return new me(de.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function ON(s){return new me(de.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new me(de.UNAUTHENTICATED,s)}function VN(){return new me(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function UN(s){return new me(de.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function kN(){return new me(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LN(){return new me(de.CANCELED,"User canceled the upload/download.")}function PN(s){return new me(de.INVALID_URL,"Invalid URL '"+s+"'.")}function zN(s){return new me(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function jN(){return new me(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wb+"' property when initializing the app?")}function BN(){return new me(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qN(){return new me(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HN(s){return new me(de.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pm(s){return new me(de.INVALID_ARGUMENT,s)}function Rb(){return new me(de.APP_DELETED,"The Firebase app was deleted.")}function FN(s){return new me(de.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zl(s,t){return new me(de.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function Rl(s){throw new me(de.INTERNAL_ERROR,"Internal error: "+s)}class In{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=In.makeFromUrl(t,n)}catch{return new In(t,"")}if(r.path==="")return r;throw zN(t)}static makeFromUrl(t,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(pt){pt.path.charAt(pt.path.length-1)==="/"&&(pt.path_=pt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),y={bucket:1,path:3};function _(pt){pt.path_=decodeURIComponent(pt.path)}const T="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",q=new RegExp(`^https?://${A}/${T}/b/${l}/o${x}`,"i"),J={bucket:1,path:3},W=n===Sb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,$="([^?#]*)",lt=new RegExp(`^https?://${W}/${l}/${$}`,"i"),at=[{regex:p,indices:y,postModify:u},{regex:q,indices:J,postModify:_},{regex:lt,indices:{bucket:1,path:2},postModify:_}];for(let pt=0;pt<at.length;pt++){const Pt=at[pt],At=Pt.regex.exec(t);if(At){const N=At[Pt.indices.bucket];let R=At[Pt.indices.path];R||(R=""),r=new In(N,R),Pt.postModify(r);break}}if(r==null)throw PN(t);return r}}class GN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function QN(s,t,n){let r=1,l=null,u=null,d=!1,p=0;function y(){return p===2}let _=!1;function T(...$){_||(_=!0,t.apply(null,$))}function A($){l=setTimeout(()=>{l=null,s(q,y())},$)}function x(){u&&clearTimeout(u)}function q($,...lt){if(_){x();return}if($){x(),T.call(null,$,...lt);return}if(y()||d){x(),T.call(null,$,...lt);return}r<64&&(r*=2);let at;p===1?(p=2,at=0):at=(r+Math.random())*1e3,A(at)}let J=!1;function W($){J||(J=!0,x(),!_&&(l!==null?($||(p=2),clearTimeout(l),A(0)):$||(p=1)))}return A(0),u=setTimeout(()=>{d=!0,W(!0)},n),W}function KN(s){s(!1)}function YN(s){return s!==void 0}function XN(s){return typeof s=="object"&&!Array.isArray(s)}function Lp(s){return typeof s=="string"||s instanceof String}function Z0(s){return Pp()&&s instanceof Blob}function Pp(){return typeof Blob<"u"}function J0(s,t,n,r){if(r<t)throw Pm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw Pm(`Invalid value for '${s}'. Expected ${n} or less.`)}function zp(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function Ib(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=t(r)+"="+t(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var Yr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Yr||(Yr={}));function $N(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||l||u}class ZN{constructor(t,n,r,l,u,d,p,y,_,T,A,x=!0,q=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=y,this.timeout_=_,this.progressCallback_=T,this.connectionFactory_=A,this.retry=x,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((J,W)=>{this.resolve_=J,this.reject_=W,this.start_()})}start_(){const t=(r,l)=>{if(l){r(!1,new qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const y=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,_)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Yr.NO_ERROR,y=u.getStatus();if(!p||$N(y,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Yr.ABORT;r(!1,new qc(!1,null,T));return}const _=this.successCodes_.indexOf(y)!==-1;r(!0,new qc(_,u))})},n=(r,l)=>{const u=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());YN(y)?u(y):u()}catch(y){d(y)}else if(p!==null){const y=kp();y.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,y)):d(y)}else if(l.canceled){const y=this.appDelete_?Rb():LN();d(y)}else{const y=kN();d(y)}};this.canceled_?n(!1,new qc(!1,null,!0)):this.backoffId_=QN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&KN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function JN(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function WN(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function tD(s,t){t&&(s["X-Firebase-GMPID"]=t)}function eD(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function nD(s,t,n,r,l,u,d=!0,p=!1){const y=Ib(s.urlParams),_=s.url+y,T=Object.assign({},s.headers);return tD(T,t),JN(T,n),WN(T,u),eD(T,r),new ZN(_,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d,p)}function iD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sD(...s){const t=iD();if(t!==void 0){const n=new t;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(Pp())return new Blob(s);throw new me(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rD(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}function aD(s){if(typeof atob>"u")throw HN("base-64");return atob(s)}const Ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lm{constructor(t,n){this.data=t,this.contentType=n||null}}function oD(s,t){switch(s){case Ci.RAW:return new lm(Cb(t));case Ci.BASE64:case Ci.BASE64URL:return new lm(Nb(s,t));case Ci.DATA_URL:return new lm(uD(t),cD(t))}throw kp()}function Cb(s){const t=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=r,d=s.charCodeAt(++n);r=65536|(u&1023)<<10|d&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function lD(s){let t;try{t=decodeURIComponent(s)}catch{throw zl(Ci.DATA_URL,"Malformed data URL.")}return Cb(t)}function Nb(s,t){switch(s){case Ci.BASE64:{const l=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(l||u)throw zl(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Ci.BASE64URL:{const l=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(l||u)throw zl(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aD(t)}catch(l){throw l.message.includes("polyfill")?l:zl(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}class Db{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw zl(Ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function uD(s){const t=new Db(s);return t.base64?Nb(Ci.BASE64,t.rest):lD(t.rest)}function cD(s){return new Db(s).contentType}function hD(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class Xs{constructor(t,n){let r=0,l="";Z0(t)?(this.data_=t,r=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(Z0(this.data_)){const r=this.data_,l=rD(r,t,n);return l===null?null:new Xs(l)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Xs(r,!0)}}static getBlob(...t){if(Pp()){const n=t.map(r=>r instanceof Xs?r.data_:r);return new Xs(sD.apply(null,n))}else{const n=t.map(d=>Lp(d)?oD(Ci.RAW,d).data:d.data_);let r=0;n.forEach(d=>{r+=d.byteLength});const l=new Uint8Array(r);let u=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)l[u++]=d[p]}),new Xs(l,!0)}}uploadData(){return this.data_}}function xb(s){let t;try{t=JSON.parse(s)}catch{return null}return XN(t)?t:null}function fD(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function dD(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function Ob(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function mD(s,t){return t}class an{constructor(t,n,r,l){this.server=t,this.local=n||t,this.writable=!!r,this.xform=l||mD}}let Hc=null;function pD(s){return!Lp(s)||s.length<2?s:Ob(s)}function Mb(){if(Hc)return Hc;const s=[];s.push(new an("bucket")),s.push(new an("generation")),s.push(new an("metageneration")),s.push(new an("name","fullPath",!0));function t(u,d){return pD(d)}const n=new an("name");n.xform=t,s.push(n);function r(u,d){return d!==void 0?Number(d):d}const l=new an("size");return l.xform=r,s.push(l),s.push(new an("timeCreated")),s.push(new an("updated")),s.push(new an("md5Hash",null,!0)),s.push(new an("cacheControl",null,!0)),s.push(new an("contentDisposition",null,!0)),s.push(new an("contentEncoding",null,!0)),s.push(new an("contentLanguage",null,!0)),s.push(new an("contentType",null,!0)),s.push(new an("metadata","customMetadata",!0)),Hc=s,Hc}function gD(s,t){function n(){const r=s.bucket,l=s.fullPath,u=new In(r,l);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function yD(s,t,n){const r={};r.type="file";const l=n.length;for(let u=0;u<l;u++){const d=n[u];r[d.local]=d.xform(r,t[d.server])}return gD(r,s),r}function Vb(s,t,n){const r=xb(t);return r===null?null:yD(s,r,n)}function _D(s,t,n,r){const l=xb(t);if(l===null||!Lp(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(_=>{const T=s.bucket,A=s.fullPath,x="/b/"+d(T)+"/o/"+d(A),q=zp(x,n,r),J=Ib({alt:"media",token:_});return q+J})[0]}function vD(s,t){const n={},r=t.length;for(let l=0;l<r;l++){const u=t[l];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class Ub{constructor(t,n,r,l){this.url=t,this.method=n,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kb(s){if(!s)throw kp()}function ED(s,t){function n(r,l){const u=Vb(s,l,t);return kb(u!==null),u}return n}function TD(s,t){function n(r,l){const u=Vb(s,l,t);return kb(u!==null),_D(u,l,s.host,s._protocol)}return n}function Lb(s){function t(n,r){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=VN():l=MN():n.getStatus()===402?l=ON(s.bucket):n.getStatus()===403?l=UN(s.path):l=r,l.status=n.getStatus(),l.serverResponse=r.serverResponse,l}return t}function bD(s){const t=Lb(s);function n(r,l){let u=t(r,l);return r.getStatus()===404&&(u=xN(s.path)),u.serverResponse=l.serverResponse,u}return n}function AD(s,t,n){const r=t.fullServerUrl(),l=zp(r,s.host,s._protocol),u="GET",d=s.maxOperationRetryTime,p=new Ub(l,u,TD(s,n),d);return p.errorHandler=bD(t),p}function SD(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function wD(s,t,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=t.size(),r.contentType||(r.contentType=SD(null,t)),r}function RD(s,t,n,r,l){const u=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let at="";for(let pt=0;pt<2;pt++)at=at+Math.random().toString().slice(2);return at}const y=p();d["Content-Type"]="multipart/related; boundary="+y;const _=wD(t,r,l),T=vD(_,n),A="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+y+`\r
Content-Type: `+_.contentType+`\r
\r
`,x=`\r
--`+y+"--",q=Xs.getBlob(A,r,x);if(q===null)throw BN();const J={name:_.fullPath},W=zp(u,s.host,s._protocol),$="POST",lt=s.maxUploadRetryTime,ct=new Ub(W,$,ED(s,n),lt);return ct.urlParams=J,ct.headers=d,ct.body=q.uploadData(),ct.errorHandler=Lb(t),ct}class ID{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,l,u){if(this.sent_)throw Rl("cannot .send() more than once");if(lr(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class CD extends ID{initXhr(){this.xhr_.responseType="text"}}function Pb(){return new CD}class ea{constructor(t,n){this._service=t,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ea(t,n)}get root(){const t=new In(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ob(this._location.path)}get storage(){return this._service}get parent(){const t=fD(this._location.path);if(t===null)return null;const n=new In(this._location.bucket,t);return new ea(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw FN(t)}}function ND(s,t,n){s._throwIfRoot("uploadBytes");const r=RD(s.storage,s._location,Mb(),new Xs(t,!0),n);return s.storage.makeRequestWithTokens(r,Pb).then(l=>({metadata:l,ref:s}))}function DD(s){s._throwIfRoot("getDownloadURL");const t=AD(s.storage,s._location,Mb());return s.storage.makeRequestWithTokens(t,Pb).then(n=>{if(n===null)throw qN();return n})}function xD(s,t){const n=dD(s._location.path,t),r=new In(s._location.bucket,n);return new ea(s.storage,r)}function OD(s){return/^[A-Za-z]+:\/\//.test(s)}function MD(s,t){return new ea(s,t)}function zb(s,t){if(s instanceof jp){const n=s;if(n._bucket==null)throw jN();const r=new ea(n,n._bucket);return t!=null?zb(r,t):r}else return t!==void 0?xD(s,t):s}function VD(s,t){if(t&&OD(t)){if(s instanceof jp)return MD(s,t);throw Pm("To use ref(service, url), the first argument must be a Storage instance.")}else return zb(s,t)}function W0(s,t){const n=t?.[wb];return n==null?null:In.makeFromBucketSpec(n,s)}function UD(s,t,n,r={}){s.host=`${t}:${n}`;const l=lr(t);l&&(jm(`https://${s.host}/b`),Bm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:fE(u,s.app.options.projectId))}class jp{constructor(t,n,r,l,u,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=Sb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NN,this._maxUploadRetryTime=DN,this._requests=new Set,l!=null?this._bucket=In.makeFromBucketSpec(l,this._host):this._bucket=W0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,t):this._bucket=W0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){J0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){J0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ea(this,t)}_makeRequest(t,n,r,l,u=!0){if(this._deleted)return new GN(Rb());{const d=nD(t,this._appId,r,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,l).getPromise()}}const tE="@firebase/storage",eE="0.14.0";const jb="storage";function kD(s,t,n){return s=fe(s),ND(s,t,n)}function LD(s){return s=fe(s),DD(s)}function PD(s,t){return s=fe(s),VD(s,t)}function zD(s=Fm(),t){s=fe(s);const r=bh(s,jb).getImmediate({identifier:t}),l=uE("storage");return l&&jD(r,...l),r}function jD(s,t,n,r={}){UD(s,t,n,r)}function BD(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new jp(n,r,l,t,na)}function qD(){$r(new er(jb,BD,"PUBLIC").setMultipleInstances(!0)),Ni(tE,eE,""),Ni(tE,eE,"esm2020")}qD();const HD={apiKey:"AIzaSyBPOosKjdOrj1dMLmgs1bH2Z9FoqqrZQI8",authDomain:"garage-scholars-v2.firebaseapp.com",projectId:"garage-scholars-v2",storageBucket:"garage-scholars-v2.firebasestorage.app",messagingSenderId:"583159785746",appId:"1:583159785746:web:87d8ed8f5634ea79c26bcb"},Bp=pE(HD),wn=mI(Bp),nh=IN(Bp),FD=new ss,GD=zD(Bp);const QD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),nE=s=>{const t=KD(s);return t.charAt(0).toUpperCase()+t.slice(1)},Bb=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),YD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var XD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $D=Ot.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},y)=>Ot.createElement("svg",{ref:y,...XD,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:Bb("lucide",l),...!u&&!YD(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>Ot.createElement(_,T)),...Array.isArray(u)?u:[u]]));const Be=(s,t)=>{const n=Ot.forwardRef(({className:r,...l},u)=>Ot.createElement($D,{ref:u,iconNode:t,className:Bb(`lucide-${QD(nE(s))}`,`lucide-${s}`,r),...l}));return n.displayName=nE(s),n};const ZD=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JD=Be("ban",ZD);const WD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],t4=Be("bell",WD);const e4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n4=Be("circle",e4);const i4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],s4=Be("cloud-upload",i4);const r4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qb=Be("dollar-sign",r4);const a4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],o4=Be("layout-grid",a4);const l4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u4=Be("log-out",l4);const c4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],h4=Be("menu",c4);const f4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],d4=Be("message-square",f4);const m4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],um=Be("package",m4);const p4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g4=Be("plus",p4);const y4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_4=Be("send",y4);const v4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E4=Be("settings",v4);const T4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],b4=Be("shield-check",T4);const A4=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],S4=Be("shopping-bag",A4);const w4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iE=Be("trash-2",w4);const R4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],I4=Be("trending-up",R4);const C4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hb=Be("x",C4);function N4({isOpen:s,onClose:t,initialData:n=null}){const[r,l]=Ot.useState(""),[u,d]=Ot.useState(""),[p,y]=Ot.useState(""),[_,T]=Ot.useState(""),[A,x]=Ot.useState("Both"),[q,J]=Ot.useState([]),[W,$]=Ot.useState([]),[lt,ct]=Ot.useState(!1),[at,pt]=Ot.useState(""),[Pt,At]=Ot.useState(!1);Ot.useEffect(()=>{n?(l(n.title||""),d(n.price||""),y(n.clientName||""),T(n.description||""),x(n.platform||"Both"),n.imageUrls&&Array.isArray(n.imageUrls)&&$(n.imageUrls)):N()},[n,s]);const N=()=>{l(""),d(""),y(""),T(""),x("Both"),J([]),$([]),pt(""),At(!1)},R=S=>{if(S.target.files){const mt=Array.from(S.target.files),Nt=[...q,...mt].slice(0,6);J(Nt),$(Nt.map(B=>URL.createObjectURL(B)))}},I=S=>{const mt=q.filter((B,tt)=>tt!==S),Nt=W.filter((B,tt)=>tt!==S);J(mt),$(Nt)},U=async()=>{ct(!0),pt("Moving to Sold Archive...");try{const S={...n,status:"Sold",dateSold:new Date().toLocaleDateString(),archivedAt:new Date,soldBy:"Garage Scholars"};await D0(Gs(wn,"sold_inventory",n.id),S),await x0(Gs(wn,"inventory",n.id)),t()}catch(S){console.error("Error archiving:",S),alert("Failed. Check console.")}finally{ct(!1)}},w=async()=>{if(window.confirm("CONFIRM: This will delete the data forever. It will NOT count as a sale.")){ct(!0),pt("Deleting permanently...");try{await x0(Gs(wn,"inventory",n.id)),t()}catch(S){console.error("Error deleting:",S),alert("Failed. Check console.")}finally{ct(!1)}}},V=async S=>{if(S.preventDefault(),!r||!u)return alert("Title and Price are required.");ct(!0),pt("Creating folders & uploading...");try{let mt=n?.imageUrls||[];const Nt=(p||"No Client").replace(/[\/#?]/g,"_").trim(),B=r.replace(/[\/#?]/g,"_").trim(),tt=`${Nt} - ${B}`;if(q.length>0){const Ct=q.map(async M=>{const K=`${Date.now()}_${M.name}`,nt=PD(GD,`${tt}/${K}`),st=await kD(nt,M);return await LD(st.ref)}),Ft=await Promise.all(Ct);mt=[...n?.imageUrls||[],...Ft]}pt("Saving to database...");const ht={title:r,price:u.replace(/[^0-9.]/g,""),clientName:p,description:_,platform:A,status:"Pending",imageUrls:mt,dateListed:n?.dateListed||new Date().toLocaleDateString(),lastUpdated:new Date};n?await Vm(Gs(wn,"inventory",n.id),ht):await D0(Gs(wn,"inventory",tt),ht),t(),N()}catch(mt){console.error("Error saving:",mt),alert("Upload failed. Check console.")}finally{ct(!1),pt("")}};return s?D.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:D.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-lg rounded-xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto relative",children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsx("h3",{className:"text-xl font-bold text-white",children:Pt?"Remove Item":n?"Edit Listing":"Add New Listing"}),D.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:D.jsx(Hb,{size:24})})]}),Pt?D.jsxs("div",{className:"space-y-4 animate-in fade-in zoom-in duration-200",children:[D.jsxs("div",{className:"p-4 bg-slate-800 rounded-lg text-center border border-slate-700",children:[D.jsx("p",{className:"text-white font-medium mb-1",children:"Why are we removing this item?"}),D.jsxs("p",{className:"text-sm text-slate-400",children:['"',r,'"']})]}),D.jsxs("button",{onClick:U,className:"w-full flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-lg hover:bg-emerald-500/20 text-emerald-400 transition-all group",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(qb,{className:"w-6 h-6"}),D.jsxs("div",{className:"text-left",children:[D.jsx("p",{className:"font-bold",children:"Sold by Garage Scholars"}),D.jsx("p",{className:"text-xs text-emerald-500/60",children:"Moves to Sold Archive. Counts as Revenue."})]})]}),D.jsx("span",{className:"text-lg opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),D.jsxs("button",{onClick:w,className:"w-full flex items-center justify-between p-4 bg-red-500/10 border border-red-500/20 rounded-lg hover:bg-red-500/20 text-red-400 transition-all group",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(JD,{className:"w-6 h-6"}),D.jsxs("div",{className:"text-left",children:[D.jsx("p",{className:"font-bold",children:"Duplicate / Void"}),D.jsx("p",{className:"text-xs text-red-500/60",children:"Deletes permanently. No Revenue stats."})]})]}),D.jsx("span",{className:"text-lg opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),D.jsx("button",{onClick:()=>At(!1),className:"w-full text-slate-500 text-sm py-2 hover:text-white",children:"Cancel (Go Back)"})]}):D.jsxs("form",{onSubmit:V,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Item Title"}),D.jsx("input",{type:"text",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded p-2 text-white focus:border-teal-500 outline-none",value:r,onChange:S=>l(S.target.value)})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Price"}),D.jsx("input",{type:"text",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded p-2 text-white focus:border-teal-500 outline-none",value:u,onChange:S=>d(S.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Client Name"}),D.jsx("input",{type:"text",placeholder:"(Optional)",className:"w-full bg-slate-950 border border-slate-800 rounded p-2 text-white focus:border-teal-500 outline-none",value:p,onChange:S=>y(S.target.value)})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Description"}),D.jsx("textarea",{required:!0,rows:"4",className:"w-full bg-slate-950 border border-slate-800 rounded p-2 text-white focus:border-teal-500 outline-none resize-none",value:_,onChange:S=>T(S.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Platform"}),D.jsxs("select",{className:"w-full bg-slate-950 border border-slate-800 rounded p-2 text-white focus:border-teal-500 outline-none",value:A,onChange:S=>x(S.target.value),children:[D.jsx("option",{value:"Both",children:"Both (FB + CL)"}),D.jsx("option",{value:"All",children:"All (CL + FB + eBay)"}),D.jsx("option",{value:"Craigslist",children:"Craigslist Only"}),D.jsx("option",{value:"FB Marketplace",children:"Facebook Only"}),D.jsx("option",{value:"eBay Only",children:"eBay Only"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Photos (Max 6)"}),D.jsxs("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-4 text-center hover:border-teal-500 transition-colors relative",children:[D.jsx("input",{type:"file",id:"file-upload",className:"hidden",multiple:!0,accept:".jpg,.jpeg,.png,.HEIC,.webp",onChange:R}),D.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2 py-4",children:[D.jsx(s4,{className:"text-slate-500",size:32}),D.jsxs("span",{className:"text-sm text-slate-400",children:["Click to upload photos (",q.length,"/6)"]})]})]}),W.length>0&&D.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:W.map((S,mt)=>D.jsxs("div",{className:"relative group aspect-square bg-slate-800 rounded-md overflow-hidden border border-slate-700",children:[D.jsx("img",{src:S,alt:`Preview ${mt}`,className:"w-full h-full object-cover"}),D.jsx("button",{type:"button",onClick:()=>I(mt),className:"absolute top-1 right-1 bg-red-600/80 hover:bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:D.jsx(iE,{size:14})})]},mt))})]}),n&&D.jsx("div",{className:"pt-4 border-t border-slate-800",children:D.jsxs("button",{type:"button",onClick:()=>At(!0),className:"w-full flex items-center justify-center gap-2 text-slate-400 hover:text-white py-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors",children:[D.jsx(iE,{size:18})," Remove Item..."]})}),D.jsx("button",{type:"submit",disabled:lt,className:"w-full bg-teal-500 hover:bg-teal-400 text-slate-900 font-bold py-3 rounded-lg mt-4 transition-colors disabled:opacity-50",children:lt?at||"Processing...":n?"Save Changes":"Create & Post"})]})]})}):null}function D4(){const s=async()=>{try{await kC(nh,FD)}catch(t){console.error("Login failed",t)}};return D.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center",children:[D.jsx("div",{className:"flex justify-center mb-6",children:D.jsx("div",{className:"bg-teal-500/10 p-4 rounded-full",children:D.jsx(b4,{className:"text-teal-500 w-12 h-12"})})}),D.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Garage Scholars Internal"}),D.jsx("p",{className:"text-slate-400 mb-8",children:"Restricted Access. Authorized Personnel Only."}),D.jsxs("button",{onClick:s,className:"w-full bg-white hover:bg-slate-200 text-slate-900 font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-3 transition-colors",children:[D.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-6 h-6",alt:"Google"}),"Sign in with Google"]})]})})}function x4(){const[s,t]=Ot.useState([]),[n,r]=Ot.useState(null),[l,u]=Ot.useState(""),[d,p]=Ot.useState([]);Ot.useEffect(()=>{const T=kl(eo(wn,"conversations"),Mm("lastUpdated","desc")),A=Ll(T,x=>{const q=x.docs.map(J=>({id:J.id,...J.data()}));t(q)});return()=>A()},[]),Ot.useEffect(()=>{if(!n)return;const T=kl(eo(wn,`conversations/${n.id}/messages`),Mm("createdAt","asc")),A=Ll(T,x=>{const q=x.docs.map(J=>({id:J.id,...J.data()}));p(q)});return()=>A()},[n]);const y=async T=>{if(r(T),T.isUnread)try{const A=Gs(wn,"conversations",T.id);await Vm(A,{isUnread:!1})}catch(A){console.error("Error marking read:",A)}},_=async T=>{if(T.preventDefault(),!(!l.trim()||!n))try{await II(eo(wn,`conversations/${n.id}/messages`),{text:l,sender:"owner",createdAt:O0()});const A=Gs(wn,"conversations",n.id);await Vm(A,{lastMessage:`You: ${l}`,lastUpdated:O0(),isUnread:!1}),u("")}catch(A){console.error("Error sending:",A)}};return D.jsxs("div",{className:"flex h-[calc(100vh-140px)] md:h-[calc(100vh-100px)] border border-slate-800 rounded-xl overflow-hidden bg-slate-900",children:[D.jsxs("div",{className:`${n?"hidden md:block":"block"} w-full md:w-1/3 border-r border-slate-800 bg-slate-950`,children:[D.jsxs("div",{className:"p-4 border-b border-slate-800 font-bold text-white flex justify-between items-center",children:[D.jsx("span",{children:"Inbox"}),D.jsxs("span",{className:"text-xs text-slate-500",children:[s.filter(T=>T.isUnread).length," Unread"]})]}),D.jsx("div",{className:"overflow-y-auto h-full",children:s.length===0?D.jsx("div",{className:"p-4 text-center text-slate-500 text-sm",children:"No messages yet."}):s.map(T=>D.jsxs("div",{onClick:()=>y(T),className:`p-4 border-b border-slate-800 cursor-pointer hover:bg-slate-900 transition-colors relative ${n?.id===T.id?"bg-slate-900 border-l-2 border-l-teal-500":""}`,children:[T.isUnread&&D.jsx("div",{className:"absolute right-4 top-4",children:D.jsx(n4,{size:10,className:"fill-teal-500 text-teal-500"})}),D.jsxs("div",{className:"flex justify-between items-start mb-1 pr-4",children:[D.jsx("span",{className:`text-sm ${T.isUnread?"font-bold text-white":"font-medium text-slate-300"}`,children:T.buyerName||"Unknown Buyer"}),D.jsx("span",{className:"text-xs text-slate-500",children:T.platform})]}),D.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mb-1",children:[D.jsx(S4,{size:12}),D.jsx("span",{className:"truncate",children:T.itemTitle})]}),D.jsx("p",{className:`text-sm truncate ${T.isUnread?"text-white":"text-slate-500"}`,children:T.lastMessage})]},T.id))})]}),D.jsx("div",{className:`${n?"flex":"hidden md:flex"} w-full md:w-2/3 flex-col bg-slate-900`,children:n?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between bg-slate-950",children:[D.jsxs("div",{children:[D.jsx("h3",{className:"font-bold text-white",children:n.buyerName}),D.jsx("p",{className:"text-xs text-teal-400",children:n.itemTitle})]}),D.jsx("button",{onClick:()=>r(null),className:"md:hidden text-sm text-slate-400",children:"Back"})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:d.map(T=>D.jsx("div",{className:`flex ${T.sender==="owner"?"justify-end":"justify-start"}`,children:D.jsx("div",{className:`max-w-[75%] p-3 rounded-lg text-sm ${T.sender==="owner"?"bg-teal-600 text-white rounded-br-none":"bg-slate-800 text-slate-200 rounded-bl-none"}`,children:T.text})},T.id))}),D.jsxs("form",{onSubmit:_,className:"p-4 bg-slate-950 border-t border-slate-800 flex gap-2",children:[D.jsx("input",{type:"text",className:"flex-1 bg-slate-900 border border-slate-800 rounded-lg px-4 py-2 text-white focus:border-teal-500 outline-none",placeholder:"Type a reply...",value:l,onChange:T=>u(T.target.value)}),D.jsx("button",{type:"submit",className:"bg-teal-500 hover:bg-teal-400 text-slate-900 p-2 rounded-lg",children:D.jsx(_4,{size:20})})]})]}):D.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-500",children:"Select a conversation to start chatting"})})]})}const O4=["tylerzsodia@gmail.com","zach.harmon25@gmail.com","garagescholars@gmail.com"];function M4(){const[s,t]=Ot.useState(null),[n,r]=Ot.useState(!1),[l,u]=Ot.useState(!0),[d,p]=Ot.useState([]),[y,_]=Ot.useState([]),[T,A]=Ot.useState([]),[x,q]=Ot.useState(!1),[J,W]=Ot.useState(null),[$,lt]=Ot.useState("dashboard"),[ct,at]=Ot.useState(!1);Ot.useEffect(()=>{const w=gC(nh,V=>{V?O4.includes(V.email)?(t(V),r(!0)):(alert("ACCESS DENIED: You are not on the Garage Scholars whitelist."),B0(nh),t(null),r(!1)):(t(null),r(!1)),u(!1)});return()=>w()},[]),Ot.useEffect(()=>{if(!s||!n)return;const w=kl(eo(wn,"inventory"),Mm("dateListed","desc")),V=Ll(w,S=>{const mt=S.docs.map(B=>({id:B.id,...B.data()})),Nt=B=>B?typeof B.toDate=="function"?B.toDate():typeof B=="number"?new Date(B):new Date(B):new Date(0);mt.sort((B,tt)=>Nt(tt.dateListed).getTime()-Nt(B.dateListed).getTime()),p(mt)});return()=>V()},[s,n]),Ot.useEffect(()=>{if(!s||!n)return;const w=kl(eo(wn,"sold_inventory")),V=Ll(w,S=>{const mt=S.docs.map(Nt=>({id:Nt.id,...Nt.data()}));_(mt)});return()=>V()},[s,n]),Ot.useEffect(()=>{if(!s||!n)return;const w=kl(eo(wn,"conversations")),V=Ll(w,S=>{const mt=S.docs.map(Nt=>({id:Nt.id,...Nt.data()}));A(mt)});return()=>V()},[s,n]);const pt=d.reduce((w,V)=>{const S=parseFloat(V.price||0);return w+(isNaN(S)?0:S)},0),Pt=y.reduce((w,V)=>{const S=parseFloat(V.price||0);return w+(isNaN(S)?0:S)},0);y.length;const At=T.filter(w=>w.isUnread===!0).length,N={Pending:"bg-slate-500/10 border-slate-500/40 text-slate-300",Running:"bg-blue-500/10 border-blue-500/50 text-blue-400",Active:"bg-emerald-500/10 border-emerald-500/50 text-emerald-400",Error:"bg-rose-500/10 border-rose-500/50 text-rose-400"},R=w=>w==="success"?"OK":w==="running"?"RUN":w==="queued"?"Q":w==="error"?"ERR":"--",I=(w="")=>w.includes("All")?"ALL":w.toLowerCase().includes("ebay")?"EB":w.includes("Both")?"Both":w.includes("FB")?"FB":"CL",U=(w,V)=>w==="ready_to_publish"?"READY":w==="published"?"PUB":w==="failed"?"FAIL":w==="running"?"RUN":w==="queued"?"Q":R(V);return l?D.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:"Loading Security..."}):!s||!n?D.jsx(D4,{}):D.jsxs("div",{className:"flex h-screen bg-slate-950 text-slate-100 overflow-hidden font-sans",children:[D.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-4 z-40",children:[D.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-teal-400 to-emerald-400 bg-clip-text text-transparent",children:"Garage Scholars"}),D.jsx("button",{onClick:()=>at(!0),className:"text-slate-300",children:D.jsx(h4,{size:24})})]}),D.jsxs("div",{className:`
        fixed inset-0 z-50 bg-slate-950/95 transition-transform duration-300 md:relative md:translate-x-0 md:bg-slate-950/50 md:w-64 md:border-r md:border-slate-800 md:flex md:flex-col
        ${ct?"translate-x-0":"-translate-x-full"}
      `,children:[D.jsxs("div",{className:"p-6 flex justify-between items-center",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-teal-400 to-emerald-400 bg-clip-text text-transparent hidden md:block",children:"Garage Scholars"}),D.jsx("h1",{className:"text-2xl font-bold text-white md:hidden",children:"Menu"}),D.jsx("p",{className:"text-xs text-slate-500 mt-1 hidden md:block",children:"Internal Hub"})]}),D.jsx("button",{onClick:()=>at(!1),className:"md:hidden text-slate-400",children:D.jsx(Hb,{size:28})})]}),D.jsxs("nav",{className:"flex-1 px-4 space-y-2 mt-4 md:mt-0",children:[D.jsx(Fc,{icon:D.jsx(o4,{size:20}),label:"Dashboard",active:$==="dashboard",onClick:()=>{lt("dashboard"),at(!1)}}),D.jsx(Fc,{icon:D.jsx(um,{size:20}),label:"Inventory",active:$==="inventory",onClick:()=>{lt("inventory"),at(!1)}}),D.jsx(Fc,{icon:D.jsx(d4,{size:20}),label:"Messages",active:$==="messages",onClick:()=>{lt("messages"),at(!1)}}),D.jsx(Fc,{icon:D.jsx(E4,{size:20}),label:"Settings",active:$==="settings",onClick:()=>{lt("settings"),at(!1)}})]}),D.jsxs("div",{className:"p-4 border-t border-slate-800",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[D.jsx("img",{src:s.photoURL,className:"w-8 h-8 rounded-full",alt:"User"}),D.jsxs("div",{className:"text-sm overflow-hidden",children:[D.jsx("p",{className:"text-white font-medium truncate",children:s.displayName}),D.jsx("p",{className:"text-xs text-slate-500 truncate",children:s.email})]})]}),D.jsxs("button",{onClick:()=>B0(nh),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors w-full px-2 py-2 rounded hover:bg-slate-800",children:[D.jsx(u4,{size:18}),D.jsx("span",{children:"Logout"})]})]})]}),D.jsx("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative pt-16 md:pt-0",children:D.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:[$==="dashboard"&&D.jsxs("div",{className:"space-y-6",children:[D.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dashboard Overview"}),D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[D.jsx(Gc,{title:"Active Listings",value:d.length,icon:D.jsx(um,{className:"text-blue-400"})}),D.jsx(Gc,{title:"Portfolio Value",value:`$${pt.toLocaleString()}`,icon:D.jsx(I4,{className:"text-purple-400"})}),D.jsx(Gc,{title:"Unread Messages",value:At,icon:D.jsx(t4,{className:"text-yellow-400"})}),D.jsx(Gc,{title:"Gross Revenue",value:`$${Pt.toLocaleString()}`,icon:D.jsx(qb,{className:"text-emerald-400"}),highlight:!0})]}),D.jsxs("div",{className:"mt-8",children:[D.jsx("h3",{className:"text-lg font-bold text-slate-400 mb-4",children:"Recent Sales"}),y.length===0?D.jsx("div",{className:"p-8 text-center border border-slate-800 rounded-xl border-dashed text-slate-600",children:"No sales yet. Go sell something!"}):D.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:y.slice(0,5).map(w=>D.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-800 last:border-0",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-10 h-10 bg-slate-800 rounded overflow-hidden",children:w.imageUrls?.[0]&&D.jsx("img",{src:w.imageUrls[0],className:"w-full h-full object-cover",alt:""})}),D.jsxs("div",{children:[D.jsx("p",{className:"font-medium text-white",children:w.title}),D.jsx("p",{className:"text-xs text-slate-500",children:w.dateSold||"Unknown Date"})]})]}),D.jsxs("span",{className:"font-mono text-emerald-400",children:["+$",w.price]})]},w.id))})]})]}),$==="messages"&&D.jsx(x4,{}),$==="inventory"&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsx("h2",{className:"text-2xl font-bold text-white",children:"Inventory"}),D.jsxs("button",{onClick:()=>{W(null),q(!0)},className:"bg-teal-500 hover:bg-teal-400 text-slate-900 px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors shadow-lg shadow-teal-500/20 text-sm md:text-base",children:[D.jsx(g4,{size:20}),D.jsx("span",{className:"hidden md:inline",children:"New Listing"}),D.jsx("span",{className:"md:hidden",children:"New"})]})]}),D.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-xl",children:D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("div",{className:"min-w-[800px]",children:[D.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 border-b border-slate-800 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[D.jsx("div",{className:"col-span-4",children:"Item Name"}),D.jsx("div",{className:"col-span-2",children:"Price"}),D.jsx("div",{className:"col-span-2",children:"Date Listed"}),D.jsx("div",{className:"col-span-2",children:"Client"}),D.jsx("div",{className:"col-span-1",children:"Platform"}),D.jsx("div",{className:"col-span-1 text-right",children:"Status"})]}),D.jsx("div",{className:"divide-y divide-slate-800",children:d.map(w=>D.jsxs("div",{onClick:()=>{W(w),q(!0)},className:"grid grid-cols-12 gap-4 p-4 items-center hover:bg-slate-800/50 transition-colors cursor-pointer group",children:[D.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[D.jsx("div",{className:"w-12 h-12 rounded bg-slate-800 flex-shrink-0 overflow-hidden border border-slate-700",children:w.imageUrls&&w.imageUrls.length>0?D.jsx("img",{src:w.imageUrls.find(V=>!V.toLowerCase().includes(".heic"))||w.imageUrls[0],alt:w.title,className:"w-full h-full object-cover"}):D.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-600",children:D.jsx(um,{size:20})})}),D.jsx("span",{className:"font-medium text-white group-hover:text-teal-400 transition-colors truncate",children:w.title})]}),D.jsxs("div",{className:"col-span-2 font-mono text-teal-400",children:["$",w.price]}),D.jsx("div",{className:"col-span-2 text-slate-400 text-sm",children:w.dateListed}),D.jsx("div",{className:"col-span-2 text-slate-400 text-sm",children:w.clientName||"-"}),D.jsx("div",{className:"col-span-1",children:D.jsx("span",{className:`text-xs px-2 py-1 rounded border ${(w.platform||"").includes("Both")||(w.platform||"").includes("All")?"bg-purple-500/10 border-purple-500/50 text-purple-400":(w.platform||"").toLowerCase().includes("ebay")?"bg-amber-500/10 border-amber-500/50 text-amber-400":"bg-blue-500/10 border-blue-500/50 text-blue-400"}`,children:I(w.platform||"")})}),D.jsx("div",{className:"col-span-1 text-right",children:(()=>{const V=w.status||"Pending",S=w.progress||{},mt=w.platform||"",Nt=mt.includes("Craigslist")||mt.includes("Both")||mt.includes("All"),B=mt.includes("FB")||mt.includes("Both")||mt.includes("All"),tt=mt.toLowerCase().includes("ebay")||mt.includes("All"),ht=w.ebay?.status||null,Ct=w.lastError?.message||w.lastError;return D.jsxs(D.Fragment,{children:[D.jsx("span",{className:`text-xs px-2 py-1 rounded border ${N[V]||N.Pending}`,children:V}),(Nt||B||tt)&&D.jsxs("div",{className:"mt-1 text-[10px] text-slate-400",children:[Nt&&D.jsxs("span",{children:["CL: ",R(S?.craigslist)]}),B&&D.jsxs("span",{className:"ml-2",children:["FB: ",R(S?.facebook)]}),tt&&D.jsxs("span",{className:"ml-2",children:["EB: ",U(ht,S?.ebay)]})]}),V==="Error"&&Ct&&D.jsxs("div",{className:"mt-1 text-[10px] text-rose-400 truncate",title:Ct,children:["Error: ",Ct]})]})})()})]},w.id))})]})})})]})]})}),D.jsx(N4,{isOpen:x,onClose:()=>q(!1),initialData:J})]})}function Fc({icon:s,label:t,active:n,onClick:r}){return D.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${n?"bg-teal-500/10 text-teal-400 border border-teal-500/20":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[s,D.jsx("span",{className:"font-medium",children:t})]})}function Gc({title:s,value:t,icon:n,highlight:r}){return D.jsxs("div",{className:`border p-6 rounded-xl shadow-lg flex items-center gap-4 ${r?"bg-emerald-500/10 border-emerald-500/50":"bg-slate-900 border-slate-800"}`,children:[D.jsx("div",{className:`p-3 rounded-full border ${r?"bg-emerald-500/20 border-emerald-500/50":"bg-slate-950 border-slate-800"}`,children:n}),D.jsxs("div",{children:[D.jsx("p",{className:`text-xs uppercase font-bold tracking-wider ${r?"text-emerald-400":"text-slate-500"}`,children:s}),D.jsx("p",{className:`text-2xl font-bold ${r?"text-emerald-300":"text-white"}`,children:t})]})]})}xA.createRoot(document.getElementById("root")).render(D.jsx(AA.StrictMode,{children:D.jsx(M4,{})}));
